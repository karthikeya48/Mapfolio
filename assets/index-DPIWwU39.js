function zA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var UA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mE={exports:{}},Mf={},gE={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fu=Symbol.for("react.element"),BA=Symbol.for("react.portal"),jA=Symbol.for("react.fragment"),WA=Symbol.for("react.strict_mode"),HA=Symbol.for("react.profiler"),$A=Symbol.for("react.provider"),qA=Symbol.for("react.context"),GA=Symbol.for("react.forward_ref"),KA=Symbol.for("react.suspense"),ZA=Symbol.for("react.memo"),QA=Symbol.for("react.lazy"),Zy=Symbol.iterator;function YA(t){return t===null||typeof t!="object"?null:(t=Zy&&t[Zy]||t["@@iterator"],typeof t=="function"?t:null)}var _E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yE=Object.assign,vE={};function Aa(t,e,n){this.props=t,this.context=e,this.refs=vE,this.updater=n||_E}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wE(){}wE.prototype=Aa.prototype;function yg(t,e,n){this.props=t,this.context=e,this.refs=vE,this.updater=n||_E}var vg=yg.prototype=new wE;vg.constructor=yg;yE(vg,Aa.prototype);vg.isPureReactComponent=!0;var Qy=Array.isArray,EE=Object.prototype.hasOwnProperty,wg={current:null},TE={key:!0,ref:!0,__self:!0,__source:!0};function IE(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)EE.call(e,r)&&!TE.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var f=Array(c),d=0;d<c;d++)f[d]=arguments[d+2];i.children=f}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Fu,type:t,key:o,ref:a,props:i,_owner:wg.current}}function XA(t,e){return{$$typeof:Fu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Eg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fu}function JA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yy=/\/+/g;function Nd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JA(""+t.key):e.toString(36)}function dh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Fu:case BA:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Nd(a,0):r,Qy(i)?(n="",t!=null&&(n=t.replace(Yy,"$&/")+"/"),dh(i,e,n,"",function(d){return d})):i!=null&&(Eg(i)&&(i=XA(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Yy,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Qy(t))for(var c=0;c<t.length;c++){o=t[c];var f=r+Nd(o,c);a+=dh(o,e,n,f,i)}else if(f=YA(t),typeof f=="function")for(t=f.call(t),c=0;!(o=t.next()).done;)o=o.value,f=r+Nd(o,c++),a+=dh(o,e,n,f,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Wc(t,e,n){if(t==null)return t;var r=[],i=0;return dh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function eC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},ph={transition:null},tC={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:ph,ReactCurrentOwner:wg};function SE(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:Wc,forEach:function(t,e,n){Wc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wc(t,function(){e++}),e},toArray:function(t){return Wc(t,function(e){return e})||[]},only:function(t){if(!Eg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Aa;Ae.Fragment=jA;Ae.Profiler=HA;Ae.PureComponent=yg;Ae.StrictMode=WA;Ae.Suspense=KA;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tC;Ae.act=SE;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yE({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=wg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(f in e)EE.call(e,f)&&!TE.hasOwnProperty(f)&&(r[f]=e[f]===void 0&&c!==void 0?c[f]:e[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){c=Array(f);for(var d=0;d<f;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Fu,type:t.type,key:i,ref:o,props:r,_owner:a}};Ae.createContext=function(t){return t={$$typeof:qA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$A,_context:t},t.Consumer=t};Ae.createElement=IE;Ae.createFactory=function(t){var e=IE.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:GA,render:t}};Ae.isValidElement=Eg;Ae.lazy=function(t){return{$$typeof:QA,_payload:{_status:-1,_result:t},_init:eC}};Ae.memo=function(t,e){return{$$typeof:ZA,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=ph.transition;ph.transition={};try{t()}finally{ph.transition=e}};Ae.unstable_act=SE;Ae.useCallback=function(t,e){return Qt.current.useCallback(t,e)};Ae.useContext=function(t){return Qt.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return Qt.current.useEffect(t,e)};Ae.useId=function(){return Qt.current.useId()};Ae.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return Qt.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};Ae.useRef=function(t){return Qt.current.useRef(t)};Ae.useState=function(t){return Qt.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return Qt.current.useTransition()};Ae.version="18.3.1";gE.exports=Ae;var G=gE.exports;const aa=pE(G),nC=zA({__proto__:null,default:aa},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC=G,iC=Symbol.for("react.element"),sC=Symbol.for("react.fragment"),oC=Object.prototype.hasOwnProperty,aC=rC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lC={key:!0,ref:!0,__self:!0,__source:!0};function PE(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)oC.call(e,r)&&!lC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iC,type:t,key:o,ref:a,props:i,_owner:aC.current}}Mf.Fragment=sC;Mf.jsx=PE;Mf.jsxs=PE;mE.exports=Mf;var Q=mE.exports,AE={exports:{}},yn={},CE={exports:{}},xE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,he){var ee=q.length;q.push(he);e:for(;0<ee;){var de=ee-1>>>1,we=q[de];if(0<i(we,he))q[de]=he,q[ee]=we,ee=de;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var he=q[0],ee=q.pop();if(ee!==he){q[0]=ee;e:for(var de=0,we=q.length,Ce=we>>>1;de<Ce;){var Me=2*(de+1)-1,Te=q[Me],ge=Me+1,yt=q[ge];if(0>i(Te,ee))ge<we&&0>i(yt,Te)?(q[de]=yt,q[ge]=ee,de=ge):(q[de]=Te,q[Me]=ee,de=Me);else if(ge<we&&0>i(yt,ee))q[de]=yt,q[ge]=ee,de=ge;else break e}}return he}function i(q,he){var ee=q.sortIndex-he.sortIndex;return ee!==0?ee:q.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var f=[],d=[],g=1,v=null,E=3,C=!1,R=!1,b=!1,D=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(q){for(var he=n(d);he!==null;){if(he.callback===null)r(d);else if(he.startTime<=q)r(d),he.sortIndex=he.expirationTime,e(f,he);else break;he=n(d)}}function B(q){if(b=!1,A(q),!R)if(n(f)!==null)R=!0,_t($);else{var he=n(d);he!==null&&$t(B,he.startTime-q)}}function $(q,he){R=!1,b&&(b=!1,P(I),I=-1),C=!0;var ee=E;try{for(A(he),v=n(f);v!==null&&(!(v.expirationTime>he)||q&&!V());){var de=v.callback;if(typeof de=="function"){v.callback=null,E=v.priorityLevel;var we=de(v.expirationTime<=he);he=t.unstable_now(),typeof we=="function"?v.callback=we:v===n(f)&&r(f),A(he)}else r(f);v=n(f)}if(v!==null)var Ce=!0;else{var Me=n(d);Me!==null&&$t(B,Me.startTime-he),Ce=!1}return Ce}finally{v=null,E=ee,C=!1}}var X=!1,x=null,I=-1,k=5,N=-1;function V(){return!(t.unstable_now()-N<k)}function F(){if(x!==null){var q=t.unstable_now();N=q;var he=!0;try{he=x(!0,q)}finally{he?M():(X=!1,x=null)}}else X=!1}var M;if(typeof S=="function")M=function(){S(F)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,wr=rt.port2;rt.port1.onmessage=F,M=function(){wr.postMessage(null)}}else M=function(){D(F,0)};function _t(q){x=q,X||(X=!0,M())}function $t(q,he){I=D(function(){q(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){R||C||(R=!0,_t($))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(q){switch(E){case 1:case 2:case 3:var he=3;break;default:he=E}var ee=E;E=he;try{return q()}finally{E=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,he){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=E;E=q;try{return he()}finally{E=ee}},t.unstable_scheduleCallback=function(q,he,ee){var de=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?de+ee:de):ee=de,q){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ee+we,q={id:g++,callback:he,priorityLevel:q,startTime:ee,expirationTime:we,sortIndex:-1},ee>de?(q.sortIndex=ee,e(d,q),n(f)===null&&q===n(d)&&(b?(P(I),I=-1):b=!0,$t(B,ee-de))):(q.sortIndex=we,e(f,q),R||C||(R=!0,_t($))),q},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(q){var he=E;return function(){var ee=E;E=he;try{return q.apply(this,arguments)}finally{E=ee}}}})(xE);CE.exports=xE;var uC=CE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC=G,gn=uC;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kE=new Set,au={};function Zs(t,e){la(t,e),la(t+"Capture",e)}function la(t,e){for(au[t]=e,t=0;t<e.length;t++)kE.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xp=Object.prototype.hasOwnProperty,hC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xy={},Jy={};function fC(t){return xp.call(Jy,t)?!0:xp.call(Xy,t)?!1:hC.test(t)?Jy[t]=!0:(Xy[t]=!0,!1)}function dC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pC(t,e,n,r){if(e===null||typeof e>"u"||dC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tg=/[\-:]([a-z])/g;function Ig(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tg,Ig);Nt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tg,Ig);Nt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tg,Ig);Nt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sg(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pC(e,n,i,r)&&(n=null),r||i===null?fC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ei=cC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Vo=Symbol.for("react.fragment"),Pg=Symbol.for("react.strict_mode"),kp=Symbol.for("react.profiler"),RE=Symbol.for("react.provider"),bE=Symbol.for("react.context"),Ag=Symbol.for("react.forward_ref"),Rp=Symbol.for("react.suspense"),bp=Symbol.for("react.suspense_list"),Cg=Symbol.for("react.memo"),_i=Symbol.for("react.lazy"),LE=Symbol.for("react.offscreen"),ev=Symbol.iterator;function Sl(t){return t===null||typeof t!="object"?null:(t=ev&&t[ev]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Md;function Nl(t){if(Md===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Md=e&&e[1]||""}return`
`+Md+t}var Dd=!1;function Vd(t,e){if(!t||Dd)return"";Dd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,c=o.length-1;1<=a&&0<=c&&i[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==o[c]){var f=`
`+i[a].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=a&&0<=c);break}}}finally{Dd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nl(t):""}function mC(t){switch(t.tag){case 5:return Nl(t.type);case 16:return Nl("Lazy");case 13:return Nl("Suspense");case 19:return Nl("SuspenseList");case 0:case 2:case 15:return t=Vd(t.type,!1),t;case 11:return t=Vd(t.type.render,!1),t;case 1:return t=Vd(t.type,!0),t;default:return""}}function Lp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vo:return"Fragment";case Do:return"Portal";case kp:return"Profiler";case Pg:return"StrictMode";case Rp:return"Suspense";case bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bE:return(t.displayName||"Context")+".Consumer";case RE:return(t._context.displayName||"Context")+".Provider";case Ag:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cg:return e=t.displayName||null,e!==null?e:Lp(t.type)||"Memo";case _i:e=t._payload,t=t._init;try{return Lp(t(e))}catch{}}return null}function gC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lp(e);case 8:return e===Pg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _C(t){var e=OE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $c(t){t._valueTracker||(t._valueTracker=_C(t))}function NE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Op(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ME(t,e){e=e.checked,e!=null&&Sg(t,"checked",e,!1)}function Np(t,e){ME(t,e);var n=Wi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mp(t,e.type,Wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mp(t,e,n){(e!=="number"||zh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ml=Array.isArray;function Qo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Ml(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wi(n)}}function DE(t,e){var n=Wi(e.value),r=Wi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,FE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yC=["Webkit","ms","Moz","O"];Object.keys($l).forEach(function(t){yC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$l[e]=$l[t]})});function zE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$l.hasOwnProperty(t)&&$l[t]?(""+e).trim():e+"px"}function UE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vC=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fp(t,e){if(e){if(vC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function zp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Up=null;function xg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bp=null,Yo=null,Xo=null;function sv(t){if(t=Bu(t)){if(typeof Bp!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Uf(e),Bp(t.stateNode,t.type,e))}}function BE(t){Yo?Xo?Xo.push(t):Xo=[t]:Yo=t}function jE(){if(Yo){var t=Yo,e=Xo;if(Xo=Yo=null,sv(t),e)for(t=0;t<e.length;t++)sv(e[t])}}function WE(t,e){return t(e)}function HE(){}var Fd=!1;function $E(t,e,n){if(Fd)return t(e,n);Fd=!0;try{return WE(t,e,n)}finally{Fd=!1,(Yo!==null||Xo!==null)&&(HE(),jE())}}function uu(t,e){var n=t.stateNode;if(n===null)return null;var r=Uf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var jp=!1;if(Hr)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){jp=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{jp=!1}function wC(t,e,n,r,i,o,a,c,f){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(g){this.onError(g)}}var ql=!1,Uh=null,Bh=!1,Wp=null,EC={onError:function(t){ql=!0,Uh=t}};function TC(t,e,n,r,i,o,a,c,f){ql=!1,Uh=null,wC.apply(EC,arguments)}function IC(t,e,n,r,i,o,a,c,f){if(TC.apply(this,arguments),ql){if(ql){var d=Uh;ql=!1,Uh=null}else throw Error(J(198));Bh||(Bh=!0,Wp=d)}}function Qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ov(t){if(Qs(t)!==t)throw Error(J(188))}function SC(t){var e=t.alternate;if(!e){if(e=Qs(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ov(i),t;if(o===r)return ov(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function GE(t){return t=SC(t),t!==null?KE(t):null}function KE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KE(t);if(e!==null)return e;t=t.sibling}return null}var ZE=gn.unstable_scheduleCallback,av=gn.unstable_cancelCallback,PC=gn.unstable_shouldYield,AC=gn.unstable_requestPaint,lt=gn.unstable_now,CC=gn.unstable_getCurrentPriorityLevel,kg=gn.unstable_ImmediatePriority,QE=gn.unstable_UserBlockingPriority,jh=gn.unstable_NormalPriority,xC=gn.unstable_LowPriority,YE=gn.unstable_IdlePriority,Df=null,dr=null;function kC(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Df,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:LC,RC=Math.log,bC=Math.LN2;function LC(t){return t>>>=0,t===0?32:31-(RC(t)/bC|0)|0}var Gc=64,Kc=4194304;function Dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=Dl(c):(o&=a,o!==0&&(r=Dl(o)))}else a=n&~i,a!==0?r=Dl(a):o!==0&&(r=Dl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zn(e),i=1<<n,r|=t[n],e&=~i;return r}function OC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Zn(o),c=1<<a,f=i[a];f===-1?(!(c&n)||c&r)&&(i[a]=OC(c,e)):f<=e&&(t.expiredLanes|=c),o&=~c}}function Hp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function XE(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function MC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Rg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function JE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eT,bg,tT,nT,rT,$p=!1,Zc=[],ki=null,Ri=null,bi=null,cu=new Map,hu=new Map,vi=[],DC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lv(t,e){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(e.pointerId)}}function Al(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Bu(e),e!==null&&bg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VC(t,e,n,r,i){switch(e){case"focusin":return ki=Al(ki,t,e,n,r,i),!0;case"dragenter":return Ri=Al(Ri,t,e,n,r,i),!0;case"mouseover":return bi=Al(bi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return cu.set(o,Al(cu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,hu.set(o,Al(hu.get(o)||null,t,e,n,r,i)),!0}return!1}function iT(t){var e=Is(t.target);if(e!==null){var n=Qs(e);if(n!==null){if(e=n.tag,e===13){if(e=qE(n),e!==null){t.blockedOn=e,rT(t.priority,function(){tT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Up=r,n.target.dispatchEvent(r),Up=null}else return e=Bu(n),e!==null&&bg(e),t.blockedOn=n,!1;e.shift()}return!0}function uv(t,e,n){mh(t)&&n.delete(e)}function FC(){$p=!1,ki!==null&&mh(ki)&&(ki=null),Ri!==null&&mh(Ri)&&(Ri=null),bi!==null&&mh(bi)&&(bi=null),cu.forEach(uv),hu.forEach(uv)}function Cl(t,e){t.blockedOn===e&&(t.blockedOn=null,$p||($p=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,FC)))}function fu(t){function e(i){return Cl(i,t)}if(0<Zc.length){Cl(Zc[0],t);for(var n=1;n<Zc.length;n++){var r=Zc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ki!==null&&Cl(ki,t),Ri!==null&&Cl(Ri,t),bi!==null&&Cl(bi,t),cu.forEach(e),hu.forEach(e),n=0;n<vi.length;n++)r=vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vi.length&&(n=vi[0],n.blockedOn===null);)iT(n),n.blockedOn===null&&vi.shift()}var Jo=ei.ReactCurrentBatchConfig,Hh=!0;function zC(t,e,n,r){var i=Ve,o=Jo.transition;Jo.transition=null;try{Ve=1,Lg(t,e,n,r)}finally{Ve=i,Jo.transition=o}}function UC(t,e,n,r){var i=Ve,o=Jo.transition;Jo.transition=null;try{Ve=4,Lg(t,e,n,r)}finally{Ve=i,Jo.transition=o}}function Lg(t,e,n,r){if(Hh){var i=qp(t,e,n,r);if(i===null)Zd(t,e,r,$h,n),lv(t,r);else if(VC(i,t,e,n,r))r.stopPropagation();else if(lv(t,r),e&4&&-1<DC.indexOf(t)){for(;i!==null;){var o=Bu(i);if(o!==null&&eT(o),o=qp(t,e,n,r),o===null&&Zd(t,e,r,$h,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zd(t,e,r,null,n)}}var $h=null;function qp(t,e,n,r){if($h=null,t=xg(r),t=Is(t),t!==null)if(e=Qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $h=t,null}function sT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CC()){case kg:return 1;case QE:return 4;case jh:case xC:return 16;case YE:return 536870912;default:return 16}default:return 16}}var Si=null,Og=null,gh=null;function oT(){if(gh)return gh;var t,e=Og,n=e.length,r,i="value"in Si?Si.value:Si.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return gh=i.slice(t,1<r?1-r:void 0)}function _h(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qc(){return!0}function cv(){return!1}function vn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qc:cv,this.isPropagationStopped=cv,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),e}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ng=vn(Ca),Uu=tt({},Ca,{view:0,detail:0}),BC=vn(Uu),Ud,Bd,xl,Vf=tt({},Uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xl&&(xl&&t.type==="mousemove"?(Ud=t.screenX-xl.screenX,Bd=t.screenY-xl.screenY):Bd=Ud=0,xl=t),Ud)},movementY:function(t){return"movementY"in t?t.movementY:Bd}}),hv=vn(Vf),jC=tt({},Vf,{dataTransfer:0}),WC=vn(jC),HC=tt({},Uu,{relatedTarget:0}),jd=vn(HC),$C=tt({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),qC=vn($C),GC=tt({},Ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KC=vn(GC),ZC=tt({},Ca,{data:0}),fv=vn(ZC),QC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XC[t])?!!e[t]:!1}function Mg(){return JC}var ex=tt({},Uu,{key:function(t){if(t.key){var e=QC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_h(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mg,charCode:function(t){return t.type==="keypress"?_h(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_h(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tx=vn(ex),nx=tt({},Vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dv=vn(nx),rx=tt({},Uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mg}),ix=vn(rx),sx=tt({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),ox=vn(sx),ax=tt({},Vf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lx=vn(ax),ux=[9,13,27,32],Dg=Hr&&"CompositionEvent"in window,Gl=null;Hr&&"documentMode"in document&&(Gl=document.documentMode);var cx=Hr&&"TextEvent"in window&&!Gl,aT=Hr&&(!Dg||Gl&&8<Gl&&11>=Gl),pv=" ",mv=!1;function lT(t,e){switch(t){case"keyup":return ux.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fo=!1;function hx(t,e){switch(t){case"compositionend":return uT(e);case"keypress":return e.which!==32?null:(mv=!0,pv);case"textInput":return t=e.data,t===pv&&mv?null:t;default:return null}}function fx(t,e){if(Fo)return t==="compositionend"||!Dg&&lT(t,e)?(t=oT(),gh=Og=Si=null,Fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aT&&e.locale!=="ko"?null:e.data;default:return null}}var dx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dx[t.type]:e==="textarea"}function cT(t,e,n,r){BE(r),e=qh(e,"onChange"),0<e.length&&(n=new Ng("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kl=null,du=null;function px(t){ET(t,0)}function Ff(t){var e=Bo(t);if(NE(e))return t}function mx(t,e){if(t==="change")return e}var hT=!1;if(Hr){var Wd;if(Hr){var Hd="oninput"in document;if(!Hd){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),Hd=typeof _v.oninput=="function"}Wd=Hd}else Wd=!1;hT=Wd&&(!document.documentMode||9<document.documentMode)}function yv(){Kl&&(Kl.detachEvent("onpropertychange",fT),du=Kl=null)}function fT(t){if(t.propertyName==="value"&&Ff(du)){var e=[];cT(e,du,t,xg(t)),$E(px,e)}}function gx(t,e,n){t==="focusin"?(yv(),Kl=e,du=n,Kl.attachEvent("onpropertychange",fT)):t==="focusout"&&yv()}function _x(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ff(du)}function yx(t,e){if(t==="click")return Ff(e)}function vx(t,e){if(t==="input"||t==="change")return Ff(e)}function wx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:wx;function pu(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xp.call(e,i)||!Xn(t[i],e[i]))return!1}return!0}function vv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wv(t,e){var n=vv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vv(n)}}function dT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pT(){for(var t=window,e=zh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zh(t.document)}return e}function Vg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ex(t){var e=pT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dT(n.ownerDocument.documentElement,n)){if(r!==null&&Vg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=wv(n,o);var a=wv(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tx=Hr&&"documentMode"in document&&11>=document.documentMode,zo=null,Gp=null,Zl=null,Kp=!1;function Ev(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kp||zo==null||zo!==zh(r)||(r=zo,"selectionStart"in r&&Vg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zl&&pu(Zl,r)||(Zl=r,r=qh(Gp,"onSelect"),0<r.length&&(e=new Ng("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zo)))}function Yc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uo={animationend:Yc("Animation","AnimationEnd"),animationiteration:Yc("Animation","AnimationIteration"),animationstart:Yc("Animation","AnimationStart"),transitionend:Yc("Transition","TransitionEnd")},$d={},mT={};Hr&&(mT=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function zf(t){if($d[t])return $d[t];if(!Uo[t])return t;var e=Uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mT)return $d[t]=e[n];return t}var gT=zf("animationend"),_T=zf("animationiteration"),yT=zf("animationstart"),vT=zf("transitionend"),wT=new Map,Tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(t,e){wT.set(t,e),Zs(e,[t])}for(var qd=0;qd<Tv.length;qd++){var Gd=Tv[qd],Ix=Gd.toLowerCase(),Sx=Gd[0].toUpperCase()+Gd.slice(1);Yi(Ix,"on"+Sx)}Yi(gT,"onAnimationEnd");Yi(_T,"onAnimationIteration");Yi(yT,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(vT,"onTransitionEnd");la("onMouseEnter",["mouseout","mouseover"]);la("onMouseLeave",["mouseout","mouseover"]);la("onPointerEnter",["pointerout","pointerover"]);la("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Px=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vl));function Iv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IC(r,e,void 0,t),t.currentTarget=null}function ET(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],f=c.instance,d=c.currentTarget;if(c=c.listener,f!==o&&i.isPropagationStopped())break e;Iv(i,c,d),o=f}else for(a=0;a<r.length;a++){if(c=r[a],f=c.instance,d=c.currentTarget,c=c.listener,f!==o&&i.isPropagationStopped())break e;Iv(i,c,d),o=f}}}if(Bh)throw t=Wp,Bh=!1,Wp=null,t}function We(t,e){var n=e[Jp];n===void 0&&(n=e[Jp]=new Set);var r=t+"__bubble";n.has(r)||(TT(e,t,2,!1),n.add(r))}function Kd(t,e,n){var r=0;e&&(r|=4),TT(n,t,r,e)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function mu(t){if(!t[Xc]){t[Xc]=!0,kE.forEach(function(n){n!=="selectionchange"&&(Px.has(n)||Kd(n,!1,t),Kd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xc]||(e[Xc]=!0,Kd("selectionchange",!1,e))}}function TT(t,e,n,r){switch(sT(e)){case 1:var i=zC;break;case 4:i=UC;break;default:i=Lg}n=i.bind(null,e,n,t),i=void 0,!jp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var f=a.tag;if((f===3||f===4)&&(f=a.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Is(c),a===null)return;if(f=a.tag,f===5||f===6){r=o=a;continue e}c=c.parentNode}}r=r.return}$E(function(){var d=o,g=xg(n),v=[];e:{var E=wT.get(t);if(E!==void 0){var C=Ng,R=t;switch(t){case"keypress":if(_h(n)===0)break e;case"keydown":case"keyup":C=tx;break;case"focusin":R="focus",C=jd;break;case"focusout":R="blur",C=jd;break;case"beforeblur":case"afterblur":C=jd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=WC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=ix;break;case gT:case _T:case yT:C=qC;break;case vT:C=ox;break;case"scroll":C=BC;break;case"wheel":C=lx;break;case"copy":case"cut":case"paste":C=KC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=dv}var b=(e&4)!==0,D=!b&&t==="scroll",P=b?E!==null?E+"Capture":null:E;b=[];for(var S=d,A;S!==null;){A=S;var B=A.stateNode;if(A.tag===5&&B!==null&&(A=B,P!==null&&(B=uu(S,P),B!=null&&b.push(gu(S,B,A)))),D)break;S=S.return}0<b.length&&(E=new C(E,R,null,n,g),v.push({event:E,listeners:b}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",E&&n!==Up&&(R=n.relatedTarget||n.fromElement)&&(Is(R)||R[$r]))break e;if((C||E)&&(E=g.window===g?g:(E=g.ownerDocument)?E.defaultView||E.parentWindow:window,C?(R=n.relatedTarget||n.toElement,C=d,R=R?Is(R):null,R!==null&&(D=Qs(R),R!==D||R.tag!==5&&R.tag!==6)&&(R=null)):(C=null,R=d),C!==R)){if(b=hv,B="onMouseLeave",P="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=dv,B="onPointerLeave",P="onPointerEnter",S="pointer"),D=C==null?E:Bo(C),A=R==null?E:Bo(R),E=new b(B,S+"leave",C,n,g),E.target=D,E.relatedTarget=A,B=null,Is(g)===d&&(b=new b(P,S+"enter",R,n,g),b.target=A,b.relatedTarget=D,B=b),D=B,C&&R)t:{for(b=C,P=R,S=0,A=b;A;A=bo(A))S++;for(A=0,B=P;B;B=bo(B))A++;for(;0<S-A;)b=bo(b),S--;for(;0<A-S;)P=bo(P),A--;for(;S--;){if(b===P||P!==null&&b===P.alternate)break t;b=bo(b),P=bo(P)}b=null}else b=null;C!==null&&Sv(v,E,C,b,!1),R!==null&&D!==null&&Sv(v,D,R,b,!0)}}e:{if(E=d?Bo(d):window,C=E.nodeName&&E.nodeName.toLowerCase(),C==="select"||C==="input"&&E.type==="file")var $=mx;else if(gv(E))if(hT)$=vx;else{$=_x;var X=gx}else(C=E.nodeName)&&C.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&($=yx);if($&&($=$(t,d))){cT(v,$,n,g);break e}X&&X(t,E,d),t==="focusout"&&(X=E._wrapperState)&&X.controlled&&E.type==="number"&&Mp(E,"number",E.value)}switch(X=d?Bo(d):window,t){case"focusin":(gv(X)||X.contentEditable==="true")&&(zo=X,Gp=d,Zl=null);break;case"focusout":Zl=Gp=zo=null;break;case"mousedown":Kp=!0;break;case"contextmenu":case"mouseup":case"dragend":Kp=!1,Ev(v,n,g);break;case"selectionchange":if(Tx)break;case"keydown":case"keyup":Ev(v,n,g)}var x;if(Dg)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Fo?lT(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(aT&&n.locale!=="ko"&&(Fo||I!=="onCompositionStart"?I==="onCompositionEnd"&&Fo&&(x=oT()):(Si=g,Og="value"in Si?Si.value:Si.textContent,Fo=!0)),X=qh(d,I),0<X.length&&(I=new fv(I,t,null,n,g),v.push({event:I,listeners:X}),x?I.data=x:(x=uT(n),x!==null&&(I.data=x)))),(x=cx?hx(t,n):fx(t,n))&&(d=qh(d,"onBeforeInput"),0<d.length&&(g=new fv("onBeforeInput","beforeinput",null,n,g),v.push({event:g,listeners:d}),g.data=x))}ET(v,e)})}function gu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=uu(t,n),o!=null&&r.unshift(gu(t,o,i)),o=uu(t,e),o!=null&&r.push(gu(t,o,i))),t=t.return}return r}function bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sv(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var c=n,f=c.alternate,d=c.stateNode;if(f!==null&&f===r)break;c.tag===5&&d!==null&&(c=d,i?(f=uu(n,o),f!=null&&a.unshift(gu(n,f,c))):i||(f=uu(n,o),f!=null&&a.push(gu(n,f,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Ax=/\r\n?/g,Cx=/\u0000|\uFFFD/g;function Pv(t){return(typeof t=="string"?t:""+t).replace(Ax,`
`).replace(Cx,"")}function Jc(t,e,n){if(e=Pv(e),Pv(t)!==e&&n)throw Error(J(425))}function Gh(){}var Zp=null,Qp=null;function Yp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,xx=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,kx=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(t){return Av.resolve(null).then(t).catch(Rx)}:Xp;function Rx(t){setTimeout(function(){throw t})}function Qd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fu(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xa=Math.random().toString(36).slice(2),cr="__reactFiber$"+xa,_u="__reactProps$"+xa,$r="__reactContainer$"+xa,Jp="__reactEvents$"+xa,bx="__reactListeners$"+xa,Lx="__reactHandles$"+xa;function Is(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cv(t);t!==null;){if(n=t[cr])return n;t=Cv(t)}return e}t=n,n=t.parentNode}return null}function Bu(t){return t=t[cr]||t[$r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Uf(t){return t[_u]||null}var em=[],jo=-1;function Xi(t){return{current:t}}function $e(t){0>jo||(t.current=em[jo],em[jo]=null,jo--)}function je(t,e){jo++,em[jo]=t.current,t.current=e}var Hi={},Wt=Xi(Hi),nn=Xi(!1),Ms=Hi;function ua(t,e){var n=t.type.contextTypes;if(!n)return Hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function Kh(){$e(nn),$e(Wt)}function xv(t,e,n){if(Wt.current!==Hi)throw Error(J(168));je(Wt,e),je(nn,n)}function IT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,gC(t)||"Unknown",i));return tt({},n,r)}function Zh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hi,Ms=Wt.current,je(Wt,t),je(nn,nn.current),!0}function kv(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=IT(t,e,Ms),r.__reactInternalMemoizedMergedChildContext=t,$e(nn),$e(Wt),je(Wt,t)):$e(nn),je(nn,n)}var Nr=null,Bf=!1,Yd=!1;function ST(t){Nr===null?Nr=[t]:Nr.push(t)}function Ox(t){Bf=!0,ST(t)}function Ji(){if(!Yd&&Nr!==null){Yd=!0;var t=0,e=Ve;try{var n=Nr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,Bf=!1}catch(i){throw Nr!==null&&(Nr=Nr.slice(t+1)),ZE(kg,Ji),i}finally{Ve=e,Yd=!1}}return null}var Wo=[],Ho=0,Qh=null,Yh=0,kn=[],Rn=0,Ds=null,Dr=1,Vr="";function vs(t,e){Wo[Ho++]=Yh,Wo[Ho++]=Qh,Qh=t,Yh=e}function PT(t,e,n){kn[Rn++]=Dr,kn[Rn++]=Vr,kn[Rn++]=Ds,Ds=t;var r=Dr;t=Vr;var i=32-Zn(r)-1;r&=~(1<<i),n+=1;var o=32-Zn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Dr=1<<32-Zn(e)+i|n<<i|r,Vr=o+t}else Dr=1<<o|n<<i|r,Vr=t}function Fg(t){t.return!==null&&(vs(t,1),PT(t,1,0))}function zg(t){for(;t===Qh;)Qh=Wo[--Ho],Wo[Ho]=null,Yh=Wo[--Ho],Wo[Ho]=null;for(;t===Ds;)Ds=kn[--Rn],kn[Rn]=null,Vr=kn[--Rn],kn[Rn]=null,Dr=kn[--Rn],kn[Rn]=null}var fn=null,hn=null,Ze=!1,qn=null;function AT(t,e){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,hn=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ds!==null?{id:Dr,overflow:Vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,hn=null,!0):!1;default:return!1}}function tm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nm(t){if(Ze){var e=hn;if(e){var n=e;if(!Rv(t,e)){if(tm(t))throw Error(J(418));e=Li(n.nextSibling);var r=fn;e&&Rv(t,e)?AT(r,n):(t.flags=t.flags&-4097|2,Ze=!1,fn=t)}}else{if(tm(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ze=!1,fn=t}}}function bv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function eh(t){if(t!==fn)return!1;if(!Ze)return bv(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yp(t.type,t.memoizedProps)),e&&(e=hn)){if(tm(t))throw CT(),Error(J(418));for(;e;)AT(t,e),e=Li(e.nextSibling)}if(bv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=fn?Li(t.stateNode.nextSibling):null;return!0}function CT(){for(var t=hn;t;)t=Li(t.nextSibling)}function ca(){hn=fn=null,Ze=!1}function Ug(t){qn===null?qn=[t]:qn.push(t)}var Nx=ei.ReactCurrentBatchConfig;function kl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var c=i.refs;a===null?delete c[o]:c[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function th(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lv(t){var e=t._init;return e(t._payload)}function xT(t){function e(P,S){if(t){var A=P.deletions;A===null?(P.deletions=[S],P.flags|=16):A.push(S)}}function n(P,S){if(!t)return null;for(;S!==null;)e(P,S),S=S.sibling;return null}function r(P,S){for(P=new Map;S!==null;)S.key!==null?P.set(S.key,S):P.set(S.index,S),S=S.sibling;return P}function i(P,S){return P=Di(P,S),P.index=0,P.sibling=null,P}function o(P,S,A){return P.index=A,t?(A=P.alternate,A!==null?(A=A.index,A<S?(P.flags|=2,S):A):(P.flags|=2,S)):(P.flags|=1048576,S)}function a(P){return t&&P.alternate===null&&(P.flags|=2),P}function c(P,S,A,B){return S===null||S.tag!==6?(S=ip(A,P.mode,B),S.return=P,S):(S=i(S,A),S.return=P,S)}function f(P,S,A,B){var $=A.type;return $===Vo?g(P,S,A.props.children,B,A.key):S!==null&&(S.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===_i&&Lv($)===S.type)?(B=i(S,A.props),B.ref=kl(P,S,A),B.return=P,B):(B=Sh(A.type,A.key,A.props,null,P.mode,B),B.ref=kl(P,S,A),B.return=P,B)}function d(P,S,A,B){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=sp(A,P.mode,B),S.return=P,S):(S=i(S,A.children||[]),S.return=P,S)}function g(P,S,A,B,$){return S===null||S.tag!==7?(S=Rs(A,P.mode,B,$),S.return=P,S):(S=i(S,A),S.return=P,S)}function v(P,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return S=ip(""+S,P.mode,A),S.return=P,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hc:return A=Sh(S.type,S.key,S.props,null,P.mode,A),A.ref=kl(P,null,S),A.return=P,A;case Do:return S=sp(S,P.mode,A),S.return=P,S;case _i:var B=S._init;return v(P,B(S._payload),A)}if(Ml(S)||Sl(S))return S=Rs(S,P.mode,A,null),S.return=P,S;th(P,S)}return null}function E(P,S,A,B){var $=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return $!==null?null:c(P,S,""+A,B);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Hc:return A.key===$?f(P,S,A,B):null;case Do:return A.key===$?d(P,S,A,B):null;case _i:return $=A._init,E(P,S,$(A._payload),B)}if(Ml(A)||Sl(A))return $!==null?null:g(P,S,A,B,null);th(P,A)}return null}function C(P,S,A,B,$){if(typeof B=="string"&&B!==""||typeof B=="number")return P=P.get(A)||null,c(S,P,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Hc:return P=P.get(B.key===null?A:B.key)||null,f(S,P,B,$);case Do:return P=P.get(B.key===null?A:B.key)||null,d(S,P,B,$);case _i:var X=B._init;return C(P,S,A,X(B._payload),$)}if(Ml(B)||Sl(B))return P=P.get(A)||null,g(S,P,B,$,null);th(S,B)}return null}function R(P,S,A,B){for(var $=null,X=null,x=S,I=S=0,k=null;x!==null&&I<A.length;I++){x.index>I?(k=x,x=null):k=x.sibling;var N=E(P,x,A[I],B);if(N===null){x===null&&(x=k);break}t&&x&&N.alternate===null&&e(P,x),S=o(N,S,I),X===null?$=N:X.sibling=N,X=N,x=k}if(I===A.length)return n(P,x),Ze&&vs(P,I),$;if(x===null){for(;I<A.length;I++)x=v(P,A[I],B),x!==null&&(S=o(x,S,I),X===null?$=x:X.sibling=x,X=x);return Ze&&vs(P,I),$}for(x=r(P,x);I<A.length;I++)k=C(x,P,I,A[I],B),k!==null&&(t&&k.alternate!==null&&x.delete(k.key===null?I:k.key),S=o(k,S,I),X===null?$=k:X.sibling=k,X=k);return t&&x.forEach(function(V){return e(P,V)}),Ze&&vs(P,I),$}function b(P,S,A,B){var $=Sl(A);if(typeof $!="function")throw Error(J(150));if(A=$.call(A),A==null)throw Error(J(151));for(var X=$=null,x=S,I=S=0,k=null,N=A.next();x!==null&&!N.done;I++,N=A.next()){x.index>I?(k=x,x=null):k=x.sibling;var V=E(P,x,N.value,B);if(V===null){x===null&&(x=k);break}t&&x&&V.alternate===null&&e(P,x),S=o(V,S,I),X===null?$=V:X.sibling=V,X=V,x=k}if(N.done)return n(P,x),Ze&&vs(P,I),$;if(x===null){for(;!N.done;I++,N=A.next())N=v(P,N.value,B),N!==null&&(S=o(N,S,I),X===null?$=N:X.sibling=N,X=N);return Ze&&vs(P,I),$}for(x=r(P,x);!N.done;I++,N=A.next())N=C(x,P,I,N.value,B),N!==null&&(t&&N.alternate!==null&&x.delete(N.key===null?I:N.key),S=o(N,S,I),X===null?$=N:X.sibling=N,X=N);return t&&x.forEach(function(F){return e(P,F)}),Ze&&vs(P,I),$}function D(P,S,A,B){if(typeof A=="object"&&A!==null&&A.type===Vo&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Hc:e:{for(var $=A.key,X=S;X!==null;){if(X.key===$){if($=A.type,$===Vo){if(X.tag===7){n(P,X.sibling),S=i(X,A.props.children),S.return=P,P=S;break e}}else if(X.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===_i&&Lv($)===X.type){n(P,X.sibling),S=i(X,A.props),S.ref=kl(P,X,A),S.return=P,P=S;break e}n(P,X);break}else e(P,X);X=X.sibling}A.type===Vo?(S=Rs(A.props.children,P.mode,B,A.key),S.return=P,P=S):(B=Sh(A.type,A.key,A.props,null,P.mode,B),B.ref=kl(P,S,A),B.return=P,P=B)}return a(P);case Do:e:{for(X=A.key;S!==null;){if(S.key===X)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){n(P,S.sibling),S=i(S,A.children||[]),S.return=P,P=S;break e}else{n(P,S);break}else e(P,S);S=S.sibling}S=sp(A,P.mode,B),S.return=P,P=S}return a(P);case _i:return X=A._init,D(P,S,X(A._payload),B)}if(Ml(A))return R(P,S,A,B);if(Sl(A))return b(P,S,A,B);th(P,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,S!==null&&S.tag===6?(n(P,S.sibling),S=i(S,A),S.return=P,P=S):(n(P,S),S=ip(A,P.mode,B),S.return=P,P=S),a(P)):n(P,S)}return D}var ha=xT(!0),kT=xT(!1),Xh=Xi(null),Jh=null,$o=null,Bg=null;function jg(){Bg=$o=Jh=null}function Wg(t){var e=Xh.current;$e(Xh),t._currentValue=e}function rm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ea(t,e){Jh=t,Bg=$o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(Bg!==t)if(t={context:t,memoizedValue:e,next:null},$o===null){if(Jh===null)throw Error(J(308));$o=t,Jh.dependencies={lanes:0,firstContext:t}}else $o=$o.next=t;return e}var Ss=null;function Hg(t){Ss===null?Ss=[t]:Ss.push(t)}function RT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hg(e)):(n.next=i.next,i.next=n),e.interleaved=n,qr(t,r)}function qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yi=!1;function $g(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qr(t,n)}return i=r.interleaved,i===null?(e.next=e,Hg(r)):(e.next=i.next,i.next=e),r.interleaved=e,qr(t,n)}function yh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rg(t,n)}}function Ov(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ef(t,e,n,r){var i=t.updateQueue;yi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var f=c,d=f.next;f.next=null,a===null?o=d:a.next=d,a=f;var g=t.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==a&&(c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=f))}if(o!==null){var v=i.baseState;a=0,g=d=f=null,c=o;do{var E=c.lane,C=c.eventTime;if((r&E)===E){g!==null&&(g=g.next={eventTime:C,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var R=t,b=c;switch(E=e,C=n,b.tag){case 1:if(R=b.payload,typeof R=="function"){v=R.call(C,v,E);break e}v=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=b.payload,E=typeof R=="function"?R.call(C,v,E):R,E==null)break e;v=tt({},v,E);break e;case 2:yi=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,E=i.effects,E===null?i.effects=[c]:E.push(c))}else C={eventTime:C,lane:E,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(d=g=C,f=v):g=g.next=C,a|=E;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;E=c,c=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(g===null&&(f=v),i.baseState=f,i.firstBaseUpdate=d,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Fs|=a,t.lanes=a,t.memoizedState=v}}function Nv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var ju={},pr=Xi(ju),yu=Xi(ju),vu=Xi(ju);function Ps(t){if(t===ju)throw Error(J(174));return t}function qg(t,e){switch(je(vu,e),je(yu,t),je(pr,ju),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vp(e,t)}$e(pr),je(pr,e)}function fa(){$e(pr),$e(yu),$e(vu)}function LT(t){Ps(vu.current);var e=Ps(pr.current),n=Vp(e,t.type);e!==n&&(je(yu,t),je(pr,n))}function Gg(t){yu.current===t&&($e(pr),$e(yu))}var Je=Xi(0);function tf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xd=[];function Kg(){for(var t=0;t<Xd.length;t++)Xd[t]._workInProgressVersionPrimary=null;Xd.length=0}var vh=ei.ReactCurrentDispatcher,Jd=ei.ReactCurrentBatchConfig,Vs=0,et=null,vt=null,At=null,nf=!1,Ql=!1,wu=0,Mx=0;function Dt(){throw Error(J(321))}function Zg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xn(t[n],e[n]))return!1;return!0}function Qg(t,e,n,r,i,o){if(Vs=o,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vh.current=t===null||t.memoizedState===null?zx:Ux,t=n(r,i),Ql){o=0;do{if(Ql=!1,wu=0,25<=o)throw Error(J(301));o+=1,At=vt=null,e.updateQueue=null,vh.current=Bx,t=n(r,i)}while(Ql)}if(vh.current=rf,e=vt!==null&&vt.next!==null,Vs=0,At=vt=et=null,nf=!1,e)throw Error(J(300));return t}function Yg(){var t=wu!==0;return wu=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?et.memoizedState=At=t:At=At.next=t,At}function Dn(){if(vt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=At===null?et.memoizedState:At.next;if(e!==null)At=e,vt=t;else{if(t===null)throw Error(J(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},At===null?et.memoizedState=At=t:At=At.next=t}return At}function Eu(t,e){return typeof e=="function"?e(t):e}function ep(t){var e=Dn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var c=a=null,f=null,d=o;do{var g=d.lane;if((Vs&g)===g)f!==null&&(f=f.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var v={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};f===null?(c=f=v,a=r):f=f.next=v,et.lanes|=g,Fs|=g}d=d.next}while(d!==null&&d!==o);f===null?a=r:f.next=c,Xn(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=f,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,et.lanes|=o,Fs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tp(t){var e=Dn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Xn(o,e.memoizedState)||(tn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function OT(){}function NT(t,e){var n=et,r=Dn(),i=e(),o=!Xn(r.memoizedState,i);if(o&&(r.memoizedState=i,tn=!0),r=r.queue,Xg(VT.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Tu(9,DT.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(J(349));Vs&30||MT(n,e,i)}return i}function MT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DT(t,e,n,r){e.value=n,e.getSnapshot=r,FT(e)&&zT(t)}function VT(t,e,n){return n(function(){FT(e)&&zT(t)})}function FT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xn(t,n)}catch{return!0}}function zT(t){var e=qr(t,1);e!==null&&Qn(e,t,1,-1)}function Mv(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:t},e.queue=t,t=t.dispatch=Fx.bind(null,et,t),[e.memoizedState,t]}function Tu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UT(){return Dn().memoizedState}function wh(t,e,n,r){var i=lr();et.flags|=t,i.memoizedState=Tu(1|e,n,void 0,r===void 0?null:r)}function jf(t,e,n,r){var i=Dn();r=r===void 0?null:r;var o=void 0;if(vt!==null){var a=vt.memoizedState;if(o=a.destroy,r!==null&&Zg(r,a.deps)){i.memoizedState=Tu(e,n,o,r);return}}et.flags|=t,i.memoizedState=Tu(1|e,n,o,r)}function Dv(t,e){return wh(8390656,8,t,e)}function Xg(t,e){return jf(2048,8,t,e)}function BT(t,e){return jf(4,2,t,e)}function jT(t,e){return jf(4,4,t,e)}function WT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HT(t,e,n){return n=n!=null?n.concat([t]):null,jf(4,4,WT.bind(null,e,t),n)}function Jg(){}function $T(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qT(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GT(t,e,n){return Vs&21?(Xn(n,e)||(n=XE(),et.lanes|=n,Fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function Dx(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Jd.transition;Jd.transition={};try{t(!1),e()}finally{Ve=n,Jd.transition=r}}function KT(){return Dn().memoizedState}function Vx(t,e,n){var r=Mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZT(t))QT(e,n);else if(n=RT(t,e,n,r),n!==null){var i=Zt();Qn(n,t,r,i),YT(n,e,r)}}function Fx(t,e,n){var r=Mi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZT(t))QT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,c=o(a,n);if(i.hasEagerState=!0,i.eagerState=c,Xn(c,a)){var f=e.interleaved;f===null?(i.next=i,Hg(e)):(i.next=f.next,f.next=i),e.interleaved=i;return}}catch{}finally{}n=RT(t,e,i,r),n!==null&&(i=Zt(),Qn(n,t,r,i),YT(n,e,r))}}function ZT(t){var e=t.alternate;return t===et||e!==null&&e===et}function QT(t,e){Ql=nf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function YT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rg(t,n)}}var rf={readContext:Mn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},zx={readContext:Mn,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:Dv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wh(4194308,4,WT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wh(4194308,4,t,e)},useInsertionEffect:function(t,e){return wh(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Vx.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:Mv,useDebugValue:Jg,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=Mv(!1),e=t[0];return t=Dx.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=lr();if(Ze){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Ct===null)throw Error(J(349));Vs&30||MT(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Dv(VT.bind(null,r,o,t),[t]),r.flags|=2048,Tu(9,DT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=lr(),e=Ct.identifierPrefix;if(Ze){var n=Vr,r=Dr;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Mx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ux={readContext:Mn,useCallback:$T,useContext:Mn,useEffect:Xg,useImperativeHandle:HT,useInsertionEffect:BT,useLayoutEffect:jT,useMemo:qT,useReducer:ep,useRef:UT,useState:function(){return ep(Eu)},useDebugValue:Jg,useDeferredValue:function(t){var e=Dn();return GT(e,vt.memoizedState,t)},useTransition:function(){var t=ep(Eu)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:OT,useSyncExternalStore:NT,useId:KT,unstable_isNewReconciler:!1},Bx={readContext:Mn,useCallback:$T,useContext:Mn,useEffect:Xg,useImperativeHandle:HT,useInsertionEffect:BT,useLayoutEffect:jT,useMemo:qT,useReducer:tp,useRef:UT,useState:function(){return tp(Eu)},useDebugValue:Jg,useDeferredValue:function(t){var e=Dn();return vt===null?e.memoizedState=t:GT(e,vt.memoizedState,t)},useTransition:function(){var t=tp(Eu)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:OT,useSyncExternalStore:NT,useId:KT,unstable_isNewReconciler:!1};function Hn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function im(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wf={isMounted:function(t){return(t=t._reactInternals)?Qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=Mi(t),o=Br(r,i);o.payload=e,n!=null&&(o.callback=n),e=Oi(t,o,i),e!==null&&(Qn(e,t,i,r),yh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=Mi(t),o=Br(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Oi(t,o,i),e!==null&&(Qn(e,t,i,r),yh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=Mi(t),i=Br(n,r);i.tag=2,e!=null&&(i.callback=e),e=Oi(t,i,r),e!==null&&(Qn(e,t,r,n),yh(e,t,r))}};function Vv(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!pu(n,r)||!pu(i,o):!0}function XT(t,e,n){var r=!1,i=Hi,o=e.contextType;return typeof o=="object"&&o!==null?o=Mn(o):(i=rn(e)?Ms:Wt.current,r=e.contextTypes,o=(r=r!=null)?ua(t,i):Hi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Fv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wf.enqueueReplaceState(e,e.state,null)}function sm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},$g(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Mn(o):(o=rn(e)?Ms:Wt.current,i.context=ua(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(im(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wf.enqueueReplaceState(i,i.state,null),ef(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function da(t,e){try{var n="",r=e;do n+=mC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function np(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function om(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jx=typeof WeakMap=="function"?WeakMap:Map;function JT(t,e,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){of||(of=!0,gm=r),om(t,e)},n}function e1(t,e,n){n=Br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){om(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){om(t,e),typeof r!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function zv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jx;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nk.bind(null,t,e,n),e.then(t,t))}function Uv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Br(-1,1),e.tag=2,Oi(n,e,1))),n.lanes|=1),t)}var Wx=ei.ReactCurrentOwner,tn=!1;function Kt(t,e,n,r){e.child=t===null?kT(e,null,n,r):ha(e,t.child,n,r)}function jv(t,e,n,r,i){n=n.render;var o=e.ref;return ea(e,i),r=Qg(t,e,n,r,o,i),n=Yg(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gr(t,e,i)):(Ze&&n&&Fg(e),e.flags|=1,Kt(t,e,r,i),e.child)}function Wv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!a_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,t1(t,e,o,r,i)):(t=Sh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:pu,n(a,r)&&t.ref===e.ref)return Gr(t,e,i)}return e.flags|=1,t=Di(o,r),t.ref=e.ref,t.return=e,e.child=t}function t1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(pu(o,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Gr(t,e,i)}return am(t,e,n,r,i)}function n1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Go,cn),cn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Go,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,je(Go,cn),cn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,je(Go,cn),cn|=r;return Kt(t,e,i,n),e.child}function r1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function am(t,e,n,r,i){var o=rn(n)?Ms:Wt.current;return o=ua(e,o),ea(e,i),n=Qg(t,e,n,r,o,i),r=Yg(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gr(t,e,i)):(Ze&&r&&Fg(e),e.flags|=1,Kt(t,e,n,i),e.child)}function Hv(t,e,n,r,i){if(rn(n)){var o=!0;Zh(e)}else o=!1;if(ea(e,i),e.stateNode===null)Eh(t,e),XT(e,n,r),sm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var f=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Mn(d):(d=rn(n)?Ms:Wt.current,d=ua(e,d));var g=n.getDerivedStateFromProps,v=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||f!==d)&&Fv(e,a,r,d),yi=!1;var E=e.memoizedState;a.state=E,ef(e,r,a,i),f=e.memoizedState,c!==r||E!==f||nn.current||yi?(typeof g=="function"&&(im(e,n,g,r),f=e.memoizedState),(c=yi||Vv(e,n,c,r,E,f,d))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=d,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,bT(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:Hn(e.type,c),a.props=d,v=e.pendingProps,E=a.context,f=n.contextType,typeof f=="object"&&f!==null?f=Mn(f):(f=rn(n)?Ms:Wt.current,f=ua(e,f));var C=n.getDerivedStateFromProps;(g=typeof C=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==v||E!==f)&&Fv(e,a,r,f),yi=!1,E=e.memoizedState,a.state=E,ef(e,r,a,i);var R=e.memoizedState;c!==v||E!==R||nn.current||yi?(typeof C=="function"&&(im(e,n,C,r),R=e.memoizedState),(d=yi||Vv(e,n,d,r,E,R,f)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,R,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,R,f)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),a.props=r,a.state=R,a.context=f,r=d):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),r=!1)}return lm(t,e,n,r,o,i)}function lm(t,e,n,r,i,o){r1(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&kv(e,n,!1),Gr(t,e,o);r=e.stateNode,Wx.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ha(e,t.child,null,o),e.child=ha(e,null,c,o)):Kt(t,e,c,o),e.memoizedState=r.state,i&&kv(e,n,!0),e.child}function i1(t){var e=t.stateNode;e.pendingContext?xv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xv(t,e.context,!1),qg(t,e.containerInfo)}function $v(t,e,n,r,i){return ca(),Ug(i),e.flags|=256,Kt(t,e,n,r),e.child}var um={dehydrated:null,treeContext:null,retryLane:0};function cm(t){return{baseLanes:t,cachePool:null,transitions:null}}function s1(t,e,n){var r=e.pendingProps,i=Je.current,o=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(Je,i&1),t===null)return nm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=qf(a,r,0,null),t=Rs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=cm(n),e.memoizedState=um,t):e_(e,a));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Hx(t,e,a,r,c,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,c=i.sibling;var f={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=f,e.deletions=null):(r=Di(i,f),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Di(c,o):(o=Rs(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?cm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=um,r}return o=t.child,t=o.sibling,r=Di(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function e_(t,e){return e=qf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nh(t,e,n,r){return r!==null&&Ug(r),ha(e,t.child,null,n),t=e_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hx(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=np(Error(J(422))),nh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=qf({mode:"visible",children:r.children},i,0,null),o=Rs(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ha(e,t.child,null,a),e.child.memoizedState=cm(a),e.memoizedState=um,o);if(!(e.mode&1))return nh(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(J(419)),r=np(o,r,void 0),nh(t,e,a,r)}if(c=(a&t.childLanes)!==0,tn||c){if(r=Ct,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,qr(t,i),Qn(r,t,i,-1))}return o_(),r=np(Error(J(421))),nh(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rk.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,hn=Li(i.nextSibling),fn=e,Ze=!0,qn=null,t!==null&&(kn[Rn++]=Dr,kn[Rn++]=Vr,kn[Rn++]=Ds,Dr=t.id,Vr=t.overflow,Ds=e),e=e_(e,r.children),e.flags|=4096,e)}function qv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rm(t.return,e,n)}function rp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function o1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Kt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qv(t,n,e);else if(t.tag===19)qv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rp(e,!0,n,null,o);break;case"together":rp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $x(t,e,n){switch(e.tag){case 3:i1(e),ca();break;case 5:LT(e);break;case 1:rn(e.type)&&Zh(e);break;case 4:qg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(Xh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?s1(t,e,n):(je(Je,Je.current&1),t=Gr(t,e,n),t!==null?t.sibling:null);je(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return o1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,n1(t,e,n)}return Gr(t,e,n)}var a1,hm,l1,u1;a1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hm=function(){};l1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ps(pr.current);var o=null;switch(n){case"input":i=Op(t,i),r=Op(t,r),o=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),o=[];break;case"textarea":i=Dp(t,i),r=Dp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gh)}Fp(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(au.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var f=r[d];if(c=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&f!==c&&(f!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||f&&f.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in f)f.hasOwnProperty(a)&&c[a]!==f[a]&&(n||(n={}),n[a]=f[a])}else n||(o||(o=[]),o.push(d,n)),n=f;else d==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(o=o||[]).push(d,f)):d==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(d,""+f):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(au.hasOwnProperty(d)?(f!=null&&d==="onScroll"&&We("scroll",t),o||c===f||(o=[])):(o=o||[]).push(d,f))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};u1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Rl(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qx(t,e,n){var r=e.pendingProps;switch(zg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return rn(e.type)&&Kh(),Vt(e),null;case 3:return r=e.stateNode,fa(),$e(nn),$e(Wt),Kg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qn!==null&&(vm(qn),qn=null))),hm(t,e),Vt(e),null;case 5:Gg(e);var i=Ps(vu.current);if(n=e.type,t!==null&&e.stateNode!=null)l1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Vt(e),null}if(t=Ps(pr.current),eh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[cr]=e,r[_u]=o,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<Vl.length;i++)We(Vl[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":tv(r,o),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},We("invalid",r);break;case"textarea":rv(r,o),We("invalid",r)}Fp(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&Jc(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Jc(r.textContent,c,t),i=["children",""+c]):au.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&We("scroll",r)}switch(n){case"input":$c(r),nv(r,o,!0);break;case"textarea":$c(r),iv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Gh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[cr]=e,t[_u]=r,a1(t,e,!1,!1),e.stateNode=t;e:{switch(a=zp(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<Vl.length;i++)We(Vl[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":tv(t,r),i=Op(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),We("invalid",t);break;case"textarea":rv(t,r),i=Dp(t,r),We("invalid",t);break;default:i=r}Fp(n,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var f=c[o];o==="style"?UE(t,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&FE(t,f)):o==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&lu(t,f):typeof f=="number"&&lu(t,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(au.hasOwnProperty(o)?f!=null&&o==="onScroll"&&We("scroll",t):f!=null&&Sg(t,o,f,a))}switch(n){case"input":$c(t),nv(t,r,!1);break;case"textarea":$c(t),iv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Qo(t,!!r.multiple,o,!1):r.defaultValue!=null&&Qo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)u1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Ps(vu.current),Ps(pr.current),eh(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(o=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:Jc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return Vt(e),null;case 13:if($e(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&hn!==null&&e.mode&1&&!(e.flags&128))CT(),ca(),e.flags|=98560,o=!1;else if(o=eh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[cr]=e}else ca(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),o=!1}else qn!==null&&(vm(qn),qn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?wt===0&&(wt=3):o_())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return fa(),hm(t,e),t===null&&mu(e.stateNode.containerInfo),Vt(e),null;case 10:return Wg(e.type._context),Vt(e),null;case 17:return rn(e.type)&&Kh(),Vt(e),null;case 19:if($e(Je),o=e.memoizedState,o===null)return Vt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Rl(o,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=tf(t),a!==null){for(e.flags|=128,Rl(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Je,Je.current&1|2),e.child}t=t.sibling}o.tail!==null&&lt()>pa&&(e.flags|=128,r=!0,Rl(o,!1),e.lanes=4194304)}else{if(!r)if(t=tf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ze)return Vt(e),null}else 2*lt()-o.renderingStartTime>pa&&n!==1073741824&&(e.flags|=128,r=!0,Rl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=lt(),e.sibling=null,n=Je.current,je(Je,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return s_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function Gx(t,e){switch(zg(e),e.tag){case 1:return rn(e.type)&&Kh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fa(),$e(nn),$e(Wt),Kg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gg(e),null;case 13:if($e(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));ca()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Je),null;case 4:return fa(),null;case 10:return Wg(e.type._context),null;case 22:case 23:return s_(),null;case 24:return null;default:return null}}var rh=!1,Ut=!1,Kx=typeof WeakSet=="function"?WeakSet:Set,re=null;function qo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function fm(t,e,n){try{n()}catch(r){st(t,e,r)}}var Gv=!1;function Zx(t,e){if(Zp=Hh,t=pT(),Vg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,c=-1,f=-1,d=0,g=0,v=t,E=null;t:for(;;){for(var C;v!==n||i!==0&&v.nodeType!==3||(c=a+i),v!==o||r!==0&&v.nodeType!==3||(f=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(C=v.firstChild)!==null;)E=v,v=C;for(;;){if(v===t)break t;if(E===n&&++d===i&&(c=a),E===o&&++g===r&&(f=a),(C=v.nextSibling)!==null)break;v=E,E=v.parentNode}v=C}n=c===-1||f===-1?null:{start:c,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qp={focusedElem:t,selectionRange:n},Hh=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var b=R.memoizedProps,D=R.memoizedState,P=e.stateNode,S=P.getSnapshotBeforeUpdate(e.elementType===e.type?b:Hn(e.type,b),D);P.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(B){st(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return R=Gv,Gv=!1,R}function Yl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&fm(e,n,o)}i=i.next}while(i!==r)}}function Hf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c1(t){var e=t.alternate;e!==null&&(t.alternate=null,c1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[_u],delete e[Jp],delete e[bx],delete e[Lx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function h1(t){return t.tag===5||t.tag===3||t.tag===4}function Kv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gh));else if(r!==4&&(t=t.child,t!==null))for(pm(t,e,n),t=t.sibling;t!==null;)pm(t,e,n),t=t.sibling}function mm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mm(t,e,n),t=t.sibling;t!==null;)mm(t,e,n),t=t.sibling}var kt=null,$n=!1;function pi(t,e,n){for(n=n.child;n!==null;)f1(t,e,n),n=n.sibling}function f1(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Df,n)}catch{}switch(n.tag){case 5:Ut||qo(n,e);case 6:var r=kt,i=$n;kt=null,pi(t,e,n),kt=r,$n=i,kt!==null&&($n?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&($n?(t=kt,n=n.stateNode,t.nodeType===8?Qd(t.parentNode,n):t.nodeType===1&&Qd(t,n),fu(t)):Qd(kt,n.stateNode));break;case 4:r=kt,i=$n,kt=n.stateNode.containerInfo,$n=!0,pi(t,e,n),kt=r,$n=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&fm(n,e,a),i=i.next}while(i!==r)}pi(t,e,n);break;case 1:if(!Ut&&(qo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){st(n,e,c)}pi(t,e,n);break;case 21:pi(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,pi(t,e,n),Ut=r):pi(t,e,n);break;default:pi(t,e,n)}}function Zv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Kx),e.forEach(function(r){var i=ik.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:kt=c.stateNode,$n=!1;break e;case 3:kt=c.stateNode.containerInfo,$n=!0;break e;case 4:kt=c.stateNode.containerInfo,$n=!0;break e}c=c.return}if(kt===null)throw Error(J(160));f1(o,a,i),kt=null,$n=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(d){st(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d1(e,t),e=e.sibling}function d1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wn(e,t),or(t),r&4){try{Yl(3,t,t.return),Hf(3,t)}catch(b){st(t,t.return,b)}try{Yl(5,t,t.return)}catch(b){st(t,t.return,b)}}break;case 1:Wn(e,t),or(t),r&512&&n!==null&&qo(n,n.return);break;case 5:if(Wn(e,t),or(t),r&512&&n!==null&&qo(n,n.return),t.flags&32){var i=t.stateNode;try{lu(i,"")}catch(b){st(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,c=t.type,f=t.updateQueue;if(t.updateQueue=null,f!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&ME(i,o),zp(c,a);var d=zp(c,o);for(a=0;a<f.length;a+=2){var g=f[a],v=f[a+1];g==="style"?UE(i,v):g==="dangerouslySetInnerHTML"?FE(i,v):g==="children"?lu(i,v):Sg(i,g,v,d)}switch(c){case"input":Np(i,o);break;case"textarea":DE(i,o);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var C=o.value;C!=null?Qo(i,!!o.multiple,C,!1):E!==!!o.multiple&&(o.defaultValue!=null?Qo(i,!!o.multiple,o.defaultValue,!0):Qo(i,!!o.multiple,o.multiple?[]:"",!1))}i[_u]=o}catch(b){st(t,t.return,b)}}break;case 6:if(Wn(e,t),or(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){st(t,t.return,b)}}break;case 3:if(Wn(e,t),or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fu(e.containerInfo)}catch(b){st(t,t.return,b)}break;case 4:Wn(e,t),or(t);break;case 13:Wn(e,t),or(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(r_=lt())),r&4&&Zv(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(d=Ut)||g,Wn(e,t),Ut=d):Wn(e,t),or(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!g&&t.mode&1)for(re=t,g=t.child;g!==null;){for(v=re=g;re!==null;){switch(E=re,C=E.child,E.tag){case 0:case 11:case 14:case 15:Yl(4,E,E.return);break;case 1:qo(E,E.return);var R=E.stateNode;if(typeof R.componentWillUnmount=="function"){r=E,n=E.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(b){st(r,n,b)}}break;case 5:qo(E,E.return);break;case 22:if(E.memoizedState!==null){Yv(v);continue}}C!==null?(C.return=E,re=C):Yv(v)}g=g.sibling}e:for(g=null,v=t;;){if(v.tag===5){if(g===null){g=v;try{i=v.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=v.stateNode,f=v.memoizedProps.style,a=f!=null&&f.hasOwnProperty("display")?f.display:null,c.style.display=zE("display",a))}catch(b){st(t,t.return,b)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(b){st(t,t.return,b)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Wn(e,t),or(t),r&4&&Zv(t);break;case 21:break;default:Wn(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(h1(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lu(i,""),r.flags&=-33);var o=Kv(t);mm(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=Kv(t);pm(t,c,a);break;default:throw Error(J(161))}}catch(f){st(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qx(t,e,n){re=t,p1(t)}function p1(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||rh;if(!a){var c=i.alternate,f=c!==null&&c.memoizedState!==null||Ut;c=rh;var d=Ut;if(rh=a,(Ut=f)&&!d)for(re=i;re!==null;)a=re,f=a.child,a.tag===22&&a.memoizedState!==null?Xv(i):f!==null?(f.return=a,re=f):Xv(i);for(;o!==null;)re=o,p1(o),o=o.sibling;re=i,rh=c,Ut=d}Qv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):Qv(t)}}function Qv(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||Hf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Nv(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nv(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&fu(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Ut||e.flags&512&&dm(e)}catch(E){st(e,e.return,E)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function Yv(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function Xv(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hf(4,e)}catch(f){st(e,n,f)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(f){st(e,i,f)}}var o=e.return;try{dm(e)}catch(f){st(e,o,f)}break;case 5:var a=e.return;try{dm(e)}catch(f){st(e,a,f)}}}catch(f){st(e,e.return,f)}if(e===t){re=null;break}var c=e.sibling;if(c!==null){c.return=e.return,re=c;break}re=e.return}}var Yx=Math.ceil,sf=ei.ReactCurrentDispatcher,t_=ei.ReactCurrentOwner,On=ei.ReactCurrentBatchConfig,Oe=0,Ct=null,mt=null,Lt=0,cn=0,Go=Xi(0),wt=0,Iu=null,Fs=0,$f=0,n_=0,Xl=null,en=null,r_=0,pa=1/0,Or=null,of=!1,gm=null,Ni=null,ih=!1,Pi=null,af=0,Jl=0,_m=null,Th=-1,Ih=0;function Zt(){return Oe&6?lt():Th!==-1?Th:Th=lt()}function Mi(t){return t.mode&1?Oe&2&&Lt!==0?Lt&-Lt:Nx.transition!==null?(Ih===0&&(Ih=XE()),Ih):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:sT(t.type)),t):1}function Qn(t,e,n,r){if(50<Jl)throw Jl=0,_m=null,Error(J(185));zu(t,n,r),(!(Oe&2)||t!==Ct)&&(t===Ct&&(!(Oe&2)&&($f|=n),wt===4&&wi(t,Lt)),sn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(pa=lt()+500,Bf&&Ji()))}function sn(t,e){var n=t.callbackNode;NC(t,e);var r=Wh(t,t===Ct?Lt:0);if(r===0)n!==null&&av(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&av(n),e===1)t.tag===0?Ox(Jv.bind(null,t)):ST(Jv.bind(null,t)),kx(function(){!(Oe&6)&&Ji()}),n=null;else{switch(JE(r)){case 1:n=kg;break;case 4:n=QE;break;case 16:n=jh;break;case 536870912:n=YE;break;default:n=jh}n=T1(n,m1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function m1(t,e){if(Th=-1,Ih=0,Oe&6)throw Error(J(327));var n=t.callbackNode;if(ta()&&t.callbackNode!==n)return null;var r=Wh(t,t===Ct?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lf(t,r);else{e=r;var i=Oe;Oe|=2;var o=_1();(Ct!==t||Lt!==e)&&(Or=null,pa=lt()+500,ks(t,e));do try{ek();break}catch(c){g1(t,c)}while(!0);jg(),sf.current=o,Oe=i,mt!==null?e=0:(Ct=null,Lt=0,e=wt)}if(e!==0){if(e===2&&(i=Hp(t),i!==0&&(r=i,e=ym(t,i))),e===1)throw n=Iu,ks(t,0),wi(t,r),sn(t,lt()),n;if(e===6)wi(t,r);else{if(i=t.current.alternate,!(r&30)&&!Xx(i)&&(e=lf(t,r),e===2&&(o=Hp(t),o!==0&&(r=o,e=ym(t,o))),e===1))throw n=Iu,ks(t,0),wi(t,r),sn(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:ws(t,en,Or);break;case 3:if(wi(t,r),(r&130023424)===r&&(e=r_+500-lt(),10<e)){if(Wh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xp(ws.bind(null,t,en,Or),e);break}ws(t,en,Or);break;case 4:if(wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Zn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yx(r/1960))-r,10<r){t.timeoutHandle=Xp(ws.bind(null,t,en,Or),r);break}ws(t,en,Or);break;case 5:ws(t,en,Or);break;default:throw Error(J(329))}}}return sn(t,lt()),t.callbackNode===n?m1.bind(null,t):null}function ym(t,e){var n=Xl;return t.current.memoizedState.isDehydrated&&(ks(t,e).flags|=256),t=lf(t,e),t!==2&&(e=en,en=n,e!==null&&vm(e)),t}function vm(t){en===null?en=t:en.push.apply(en,t)}function Xx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Xn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wi(t,e){for(e&=~n_,e&=~$f,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),r=1<<n;t[n]=-1,e&=~r}}function Jv(t){if(Oe&6)throw Error(J(327));ta();var e=Wh(t,0);if(!(e&1))return sn(t,lt()),null;var n=lf(t,e);if(t.tag!==0&&n===2){var r=Hp(t);r!==0&&(e=r,n=ym(t,r))}if(n===1)throw n=Iu,ks(t,0),wi(t,e),sn(t,lt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,en,Or),sn(t,lt()),null}function i_(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(pa=lt()+500,Bf&&Ji())}}function zs(t){Pi!==null&&Pi.tag===0&&!(Oe&6)&&ta();var e=Oe;Oe|=1;var n=On.transition,r=Ve;try{if(On.transition=null,Ve=1,t)return t()}finally{Ve=r,On.transition=n,Oe=e,!(Oe&6)&&Ji()}}function s_(){cn=Go.current,$e(Go)}function ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xx(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(zg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kh();break;case 3:fa(),$e(nn),$e(Wt),Kg();break;case 5:Gg(r);break;case 4:fa();break;case 13:$e(Je);break;case 19:$e(Je);break;case 10:Wg(r.type._context);break;case 22:case 23:s_()}n=n.return}if(Ct=t,mt=t=Di(t.current,null),Lt=cn=e,wt=0,Iu=null,n_=$f=Fs=0,en=Xl=null,Ss!==null){for(e=0;e<Ss.length;e++)if(n=Ss[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ss=null}return t}function g1(t,e){do{var n=mt;try{if(jg(),vh.current=rf,nf){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nf=!1}if(Vs=0,At=vt=et=null,Ql=!1,wu=0,t_.current=null,n===null||n.return===null){wt=1,Iu=e,mt=null;break}e:{var o=t,a=n.return,c=n,f=e;if(e=Lt,c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var d=f,g=c,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var E=g.alternate;E?(g.updateQueue=E.updateQueue,g.memoizedState=E.memoizedState,g.lanes=E.lanes):(g.updateQueue=null,g.memoizedState=null)}var C=Uv(a);if(C!==null){C.flags&=-257,Bv(C,a,c,o,e),C.mode&1&&zv(o,d,e),e=C,f=d;var R=e.updateQueue;if(R===null){var b=new Set;b.add(f),e.updateQueue=b}else R.add(f);break e}else{if(!(e&1)){zv(o,d,e),o_();break e}f=Error(J(426))}}else if(Ze&&c.mode&1){var D=Uv(a);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Bv(D,a,c,o,e),Ug(da(f,c));break e}}o=f=da(f,c),wt!==4&&(wt=2),Xl===null?Xl=[o]:Xl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var P=JT(o,f,e);Ov(o,P);break e;case 1:c=f;var S=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ni===null||!Ni.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var B=e1(o,c,e);Ov(o,B);break e}}o=o.return}while(o!==null)}v1(n)}catch($){e=$,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function _1(){var t=sf.current;return sf.current=rf,t===null?rf:t}function o_(){(wt===0||wt===3||wt===2)&&(wt=4),Ct===null||!(Fs&268435455)&&!($f&268435455)||wi(Ct,Lt)}function lf(t,e){var n=Oe;Oe|=2;var r=_1();(Ct!==t||Lt!==e)&&(Or=null,ks(t,e));do try{Jx();break}catch(i){g1(t,i)}while(!0);if(jg(),Oe=n,sf.current=r,mt!==null)throw Error(J(261));return Ct=null,Lt=0,wt}function Jx(){for(;mt!==null;)y1(mt)}function ek(){for(;mt!==null&&!PC();)y1(mt)}function y1(t){var e=E1(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?v1(t):mt=e,t_.current=null}function v1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Gx(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,mt=null;return}}else if(n=qx(n,e,cn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);wt===0&&(wt=5)}function ws(t,e,n){var r=Ve,i=On.transition;try{On.transition=null,Ve=1,tk(t,e,n,r)}finally{On.transition=i,Ve=r}return null}function tk(t,e,n,r){do ta();while(Pi!==null);if(Oe&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(MC(t,o),t===Ct&&(mt=Ct=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ih||(ih=!0,T1(jh,function(){return ta(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=On.transition,On.transition=null;var a=Ve;Ve=1;var c=Oe;Oe|=4,t_.current=null,Zx(t,n),d1(n,t),Ex(Qp),Hh=!!Zp,Qp=Zp=null,t.current=n,Qx(n),AC(),Oe=c,Ve=a,On.transition=o}else t.current=n;if(ih&&(ih=!1,Pi=t,af=i),o=t.pendingLanes,o===0&&(Ni=null),kC(n.stateNode),sn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(of)throw of=!1,t=gm,gm=null,t;return af&1&&t.tag!==0&&ta(),o=t.pendingLanes,o&1?t===_m?Jl++:(Jl=0,_m=t):Jl=0,Ji(),null}function ta(){if(Pi!==null){var t=JE(af),e=On.transition,n=Ve;try{if(On.transition=null,Ve=16>t?16:t,Pi===null)var r=!1;else{if(t=Pi,Pi=null,af=0,Oe&6)throw Error(J(331));var i=Oe;for(Oe|=4,re=t.current;re!==null;){var o=re,a=o.child;if(re.flags&16){var c=o.deletions;if(c!==null){for(var f=0;f<c.length;f++){var d=c[f];for(re=d;re!==null;){var g=re;switch(g.tag){case 0:case 11:case 15:Yl(8,g,o)}var v=g.child;if(v!==null)v.return=g,re=v;else for(;re!==null;){g=re;var E=g.sibling,C=g.return;if(c1(g),g===d){re=null;break}if(E!==null){E.return=C,re=E;break}re=C}}}var R=o.alternate;if(R!==null){var b=R.child;if(b!==null){R.child=null;do{var D=b.sibling;b.sibling=null,b=D}while(b!==null)}}re=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,re=a;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Yl(9,o,o.return)}var P=o.sibling;if(P!==null){P.return=o.return,re=P;break e}re=o.return}}var S=t.current;for(re=S;re!==null;){a=re;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,re=A;else e:for(a=S;re!==null;){if(c=re,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Hf(9,c)}}catch($){st(c,c.return,$)}if(c===a){re=null;break e}var B=c.sibling;if(B!==null){B.return=c.return,re=B;break e}re=c.return}}if(Oe=i,Ji(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Df,t)}catch{}r=!0}return r}finally{Ve=n,On.transition=e}}return!1}function e0(t,e,n){e=da(n,e),e=JT(t,e,1),t=Oi(t,e,1),e=Zt(),t!==null&&(zu(t,1,e),sn(t,e))}function st(t,e,n){if(t.tag===3)e0(t,t,n);else for(;e!==null;){if(e.tag===3){e0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ni===null||!Ni.has(r))){t=da(n,t),t=e1(e,t,1),e=Oi(e,t,1),t=Zt(),e!==null&&(zu(e,1,t),sn(e,t));break}}e=e.return}}function nk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Lt&n)===n&&(wt===4||wt===3&&(Lt&130023424)===Lt&&500>lt()-r_?ks(t,0):n_|=n),sn(t,e)}function w1(t,e){e===0&&(t.mode&1?(e=Kc,Kc<<=1,!(Kc&130023424)&&(Kc=4194304)):e=1);var n=Zt();t=qr(t,e),t!==null&&(zu(t,e,n),sn(t,n))}function rk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),w1(t,n)}function ik(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),w1(t,n)}var E1;E1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,$x(t,e,n);tn=!!(t.flags&131072)}else tn=!1,Ze&&e.flags&1048576&&PT(e,Yh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Eh(t,e),t=e.pendingProps;var i=ua(e,Wt.current);ea(e,n),i=Qg(null,e,r,t,i,n);var o=Yg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(o=!0,Zh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$g(e),i.updater=Wf,e.stateNode=i,i._reactInternals=e,sm(e,r,t,n),e=lm(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&Fg(e),Kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Eh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ok(r),t=Hn(r,t),i){case 0:e=am(null,e,r,t,n);break e;case 1:e=Hv(null,e,r,t,n);break e;case 11:e=jv(null,e,r,t,n);break e;case 14:e=Wv(null,e,r,Hn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hn(r,i),am(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hn(r,i),Hv(t,e,r,i,n);case 3:e:{if(i1(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,bT(t,e),ef(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=da(Error(J(423)),e),e=$v(t,e,r,n,i);break e}else if(r!==i){i=da(Error(J(424)),e),e=$v(t,e,r,n,i);break e}else for(hn=Li(e.stateNode.containerInfo.firstChild),fn=e,Ze=!0,qn=null,n=kT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ca(),r===i){e=Gr(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return LT(e),t===null&&nm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Yp(r,i)?a=null:o!==null&&Yp(r,o)&&(e.flags|=32),r1(t,e),Kt(t,e,a,n),e.child;case 6:return t===null&&nm(e),null;case 13:return s1(t,e,n);case 4:return qg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ha(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hn(r,i),jv(t,e,r,i,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,je(Xh,r._currentValue),r._currentValue=a,o!==null)if(Xn(o.value,a)){if(o.children===i.children&&!nn.current){e=Gr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var f=c.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=Br(-1,n&-n),f.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?f.next=f:(f.next=g.next,g.next=f),d.pending=f}}o.lanes|=n,f=o.alternate,f!==null&&(f.lanes|=n),rm(o.return,n,e),c.lanes|=n;break}f=f.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),rm(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ea(e,n),i=Mn(i),r=r(i),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,i=Hn(r,e.pendingProps),i=Hn(r.type,i),Wv(t,e,r,i,n);case 15:return t1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hn(r,i),Eh(t,e),e.tag=1,rn(r)?(t=!0,Zh(e)):t=!1,ea(e,n),XT(e,r,i),sm(e,r,i,n),lm(null,e,r,!0,t,n);case 19:return o1(t,e,n);case 22:return n1(t,e,n)}throw Error(J(156,e.tag))};function T1(t,e){return ZE(t,e)}function sk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,r){return new sk(t,e,n,r)}function a_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ok(t){if(typeof t=="function")return a_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ag)return 11;if(t===Cg)return 14}return 2}function Di(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sh(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")a_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Vo:return Rs(n.children,i,o,e);case Pg:a=8,i|=8;break;case kp:return t=Ln(12,n,e,i|2),t.elementType=kp,t.lanes=o,t;case Rp:return t=Ln(13,n,e,i),t.elementType=Rp,t.lanes=o,t;case bp:return t=Ln(19,n,e,i),t.elementType=bp,t.lanes=o,t;case LE:return qf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RE:a=10;break e;case bE:a=9;break e;case Ag:a=11;break e;case Cg:a=14;break e;case _i:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Ln(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Rs(t,e,n,r){return t=Ln(7,t,r,e),t.lanes=n,t}function qf(t,e,n,r){return t=Ln(22,t,r,e),t.elementType=LE,t.lanes=n,t.stateNode={isHidden:!1},t}function ip(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function sp(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ak(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l_(t,e,n,r,i,o,a,c,f){return t=new ak(t,e,n,c,f),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ln(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$g(o),t}function lk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function I1(t){if(!t)return Hi;t=t._reactInternals;e:{if(Qs(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(rn(n))return IT(t,n,e)}return e}function S1(t,e,n,r,i,o,a,c,f){return t=l_(n,r,!0,t,i,o,a,c,f),t.context=I1(null),n=t.current,r=Zt(),i=Mi(n),o=Br(r,i),o.callback=e??null,Oi(n,o,i),t.current.lanes=i,zu(t,i,r),sn(t,r),t}function Gf(t,e,n,r){var i=e.current,o=Zt(),a=Mi(i);return n=I1(n),e.context===null?e.context=n:e.pendingContext=n,e=Br(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Oi(i,e,a),t!==null&&(Qn(t,i,a,o),yh(t,i,a)),a}function uf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function u_(t,e){t0(t,e),(t=t.alternate)&&t0(t,e)}function uk(){return null}var P1=typeof reportError=="function"?reportError:function(t){console.error(t)};function c_(t){this._internalRoot=t}Kf.prototype.render=c_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Gf(t,e,null,null)};Kf.prototype.unmount=c_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){Gf(null,t,null,null)}),e[$r]=null}};function Kf(t){this._internalRoot=t}Kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=nT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vi.length&&e!==0&&e<vi[n].priority;n++);vi.splice(n,0,t),n===0&&iT(t)}};function h_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n0(){}function ck(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=uf(a);o.call(d)}}var a=S1(e,r,t,0,null,!1,!1,"",n0);return t._reactRootContainer=a,t[$r]=a.current,mu(t.nodeType===8?t.parentNode:t),zs(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var d=uf(f);c.call(d)}}var f=l_(t,0,!1,null,null,!1,!1,"",n0);return t._reactRootContainer=f,t[$r]=f.current,mu(t.nodeType===8?t.parentNode:t),zs(function(){Gf(e,f,n,r)}),f}function Qf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var c=i;i=function(){var f=uf(a);c.call(f)}}Gf(e,a,t,i)}else a=ck(n,e,t,i,r);return uf(a)}eT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Dl(e.pendingLanes);n!==0&&(Rg(e,n|1),sn(e,lt()),!(Oe&6)&&(pa=lt()+500,Ji()))}break;case 13:zs(function(){var r=qr(t,1);if(r!==null){var i=Zt();Qn(r,t,1,i)}}),u_(t,1)}};bg=function(t){if(t.tag===13){var e=qr(t,134217728);if(e!==null){var n=Zt();Qn(e,t,134217728,n)}u_(t,134217728)}};tT=function(t){if(t.tag===13){var e=Mi(t),n=qr(t,e);if(n!==null){var r=Zt();Qn(n,t,e,r)}u_(t,e)}};nT=function(){return Ve};rT=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};Bp=function(t,e,n){switch(e){case"input":if(Np(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Uf(r);if(!i)throw Error(J(90));NE(r),Np(r,i)}}}break;case"textarea":DE(t,n);break;case"select":e=n.value,e!=null&&Qo(t,!!n.multiple,e,!1)}};WE=i_;HE=zs;var hk={usingClientEntryPoint:!1,Events:[Bu,Bo,Uf,BE,jE,i_]},bl={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fk={bundleType:bl.bundleType,version:bl.version,rendererPackageName:bl.rendererPackageName,rendererConfig:bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GE(t),t===null?null:t.stateNode},findFiberByHostInstance:bl.findFiberByHostInstance||uk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Df=sh.inject(fk),dr=sh}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hk;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h_(e))throw Error(J(200));return lk(t,e,null,n)};yn.createRoot=function(t,e){if(!h_(t))throw Error(J(299));var n=!1,r="",i=P1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=l_(t,1,!1,null,null,n,!1,r,i),t[$r]=e.current,mu(t.nodeType===8?t.parentNode:t),new c_(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=GE(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return zs(t)};yn.hydrate=function(t,e,n){if(!Zf(e))throw Error(J(200));return Qf(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!h_(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=P1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=S1(e,null,t,1,n??null,i,!1,o,a),t[$r]=e.current,mu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kf(e)};yn.render=function(t,e,n){if(!Zf(e))throw Error(J(200));return Qf(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!Zf(t))throw Error(J(40));return t._reactRootContainer?(zs(function(){Qf(null,null,t,!1,function(){t._reactRootContainer=null,t[$r]=null})}),!0):!1};yn.unstable_batchedUpdates=i_;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zf(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Qf(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function A1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A1)}catch(t){console.error(t)}}A1(),AE.exports=yn;var C1=AE.exports,x1,r0=C1;x1=r0.createRoot,r0.hydrateRoot;var i0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],c=t[n++],f=((i&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},R1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,c=a?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,g=o>>2,v=(o&3)<<4|c>>4;let E=(c&15)<<2|d>>6,C=d&63;f||(C=64,a||(E=64)),r.push(n[g],n[v],n[E],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||d==null||v==null)throw new pk;const E=o<<2|c>>4;if(r.push(E),d!==64){const C=c<<4&240|d>>2;if(r.push(C),v!==64){const R=d<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mk=function(t){const e=k1(t);return R1.encodeByteArray(e,!0)},cf=function(t){return mk(t).replace(/\./g,"")},b1=function(t){try{return R1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=()=>gk().__FIREBASE_DEFAULTS__,yk=()=>{if(typeof process>"u"||typeof i0>"u")return;const t=i0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&b1(t[1]);return e&&JSON.parse(e)},Yf=()=>{try{return _k()||yk()||vk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},L1=t=>{var e,n;return(n=(e=Yf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wk=t=>{const e=L1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},O1=()=>{var t;return(t=Yf())===null||t===void 0?void 0:t.config},N1=t=>{var e;return(e=Yf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cf(JSON.stringify(n)),cf(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ik(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function Sk(){var t;const e=(t=Yf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Pk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ak(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ck(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xk(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kk(){return!Sk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rk(){try{return typeof indexedDB=="object"}catch{return!1}}function bk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Lk,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wu.prototype.create)}}class Wu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?Ok(o,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new ti(i,c,r)}}function Ok(t,e){return t.replace(Nk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Nk=/\{\$([^}]+)}/g;function Mk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(s0(o)&&s0(a)){if(!hf(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function s0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function zl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Dk(t,e){const n=new Vk(t,e);return n.subscribe.bind(n)}class Vk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Fk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=op),i.error===void 0&&(i.error=op),i.complete===void 0&&(i.complete=op);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ek;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bk(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Uk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uk(t){return t===Es?void 0:t}function Bk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const Wk={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Hk=Re.INFO,$k={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},qk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$k[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f_{constructor(e){this.name=e,this._logLevel=Hk,this._logHandler=qk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const Gk=(t,e)=>e.some(n=>t instanceof n);let o0,a0;function Kk(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zk(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M1=new WeakMap,wm=new WeakMap,D1=new WeakMap,ap=new WeakMap,d_=new WeakMap;function Qk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Vi(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&M1.set(n,t)}).catch(()=>{}),d_.set(e,t),e}function Yk(t){if(wm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});wm.set(t,e)}let Em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||D1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xk(t){Em=t(Em)}function Jk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lp(this),e,...n);return D1.set(r,e.sort?e.sort():[e]),Vi(r)}:Zk().includes(t)?function(...e){return t.apply(lp(this),e),Vi(M1.get(this))}:function(...e){return Vi(t.apply(lp(this),e))}}function eR(t){return typeof t=="function"?Jk(t):(t instanceof IDBTransaction&&Yk(t),Gk(t,Kk())?new Proxy(t,Em):t)}function Vi(t){if(t instanceof IDBRequest)return Qk(t);if(ap.has(t))return ap.get(t);const e=eR(t);return e!==t&&(ap.set(t,e),d_.set(e,t)),e}const lp=t=>d_.get(t);function tR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),c=Vi(a);return r&&a.addEventListener("upgradeneeded",f=>{r(Vi(a.result),f.oldVersion,f.newVersion,Vi(a.transaction),f)}),n&&a.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const nR=["get","getKey","getAll","getAllKeys","count"],rR=["put","add","delete","clear"],up=new Map;function l0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nR.includes(n)))return;const o=async function(a,...c){const f=this.transaction(a,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&f.done]))[0]};return up.set(e,o),o}Xk(t=>({...t,get:(e,n,r)=>l0(e,n)||t.get(e,n,r),has:(e,n)=>!!l0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",u0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new f_("@firebase/app"),oR="@firebase/app-compat",aR="@firebase/analytics-compat",lR="@firebase/analytics",uR="@firebase/app-check-compat",cR="@firebase/app-check",hR="@firebase/auth",fR="@firebase/auth-compat",dR="@firebase/database",pR="@firebase/data-connect",mR="@firebase/database-compat",gR="@firebase/functions",_R="@firebase/functions-compat",yR="@firebase/installations",vR="@firebase/installations-compat",wR="@firebase/messaging",ER="@firebase/messaging-compat",TR="@firebase/performance",IR="@firebase/performance-compat",SR="@firebase/remote-config",PR="@firebase/remote-config-compat",AR="@firebase/storage",CR="@firebase/storage-compat",xR="@firebase/firestore",kR="@firebase/vertexai-preview",RR="@firebase/firestore-compat",bR="firebase",LR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",OR={[Tm]:"fire-core",[oR]:"fire-core-compat",[lR]:"fire-analytics",[aR]:"fire-analytics-compat",[cR]:"fire-app-check",[uR]:"fire-app-check-compat",[hR]:"fire-auth",[fR]:"fire-auth-compat",[dR]:"fire-rtdb",[pR]:"fire-data-connect",[mR]:"fire-rtdb-compat",[gR]:"fire-fn",[_R]:"fire-fn-compat",[yR]:"fire-iid",[vR]:"fire-iid-compat",[wR]:"fire-fcm",[ER]:"fire-fcm-compat",[TR]:"fire-perf",[IR]:"fire-perf-compat",[SR]:"fire-rc",[PR]:"fire-rc-compat",[AR]:"fire-gcs",[CR]:"fire-gcs-compat",[xR]:"fire-fst",[RR]:"fire-fst-compat",[kR]:"fire-vertex","fire-js":"fire-js",[bR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new Map,NR=new Map,Sm=new Map;function c0(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ma(t){const e=t.name;if(Sm.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,t);for(const n of ff.values())c0(n,t);for(const n of NR.values())c0(n,t);return!0}function p_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new Wu("app","Firebase",MR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=LR;function V1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Im,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fi.create("bad-app-name",{appName:String(i)});if(n||(n=O1()),!n)throw Fi.create("no-options");const o=ff.get(i);if(o){if(hf(n,o.options)&&hf(r,o.config))return o;throw Fi.create("duplicate-app",{appName:i})}const a=new jk(i);for(const f of Sm.values())a.addComponent(f);const c=new DR(n,r,a);return ff.set(i,c),c}function F1(t=Im){const e=ff.get(t);if(!e&&t===Im&&O1())return V1();if(!e)throw Fi.create("no-app",{appName:t});return e}function zi(t,e,n){var r;let i=(r=OR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(c.join(" "));return}ma(new Us(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="firebase-heartbeat-database",FR=1,Su="firebase-heartbeat-store";let cp=null;function z1(){return cp||(cp=tR(VR,FR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Su)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fi.create("idb-open",{originalErrorMessage:t.message})})),cp}async function zR(t){try{const n=(await z1()).transaction(Su),r=await n.objectStore(Su).get(U1(t));return await n.done,r}catch(e){if(e instanceof ti)Kr.warn(e.message);else{const n=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(n.message)}}}async function h0(t,e){try{const r=(await z1()).transaction(Su,"readwrite");await r.objectStore(Su).put(e,U1(t)),await r.done}catch(n){if(n instanceof ti)Kr.warn(n.message);else{const r=Fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kr.warn(r.message)}}}function U1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1024,BR=30*24*60*60*1e3;class jR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=f0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=BR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Kr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f0(),{heartbeatsToSend:r,unsentEntries:i}=WR(this._heartbeatsCache.heartbeats),o=cf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Kr.warn(n),""}}}function f0(){return new Date().toISOString().substring(0,10)}function WR(t,e=UR){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),d0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),d0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rk()?bk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return h0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return h0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function d0(t){return cf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){ma(new Us("platform-logger",e=>new iR(e),"PRIVATE")),ma(new Us("heartbeat",e=>new jR(e),"PRIVATE")),zi(Tm,u0,t),zi(Tm,u0,"esm2017"),zi("fire-js","")}$R("");var qR="firebase",GR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(qR,GR,"app");function m_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function B1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KR=B1,j1=new Wu("auth","Firebase",B1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new f_("@firebase/auth");function ZR(t,...e){df.logLevel<=Re.WARN&&df.warn(`Auth (${ka}): ${t}`,...e)}function Ph(t,...e){df.logLevel<=Re.ERROR&&df.error(`Auth (${ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw __(t,...e)}function Yn(t,...e){return __(t,...e)}function g_(t,e,n){const r=Object.assign(Object.assign({},KR()),{[e]:n});return new Wu("auth","Firebase",r).create(e,{appName:t.name})}function jr(t){return g_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vn(t,"argument-error"),g_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function __(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return j1.create(t,...e)}function fe(t,e,...n){if(!t)throw __(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ph(e),new Error(e)}function Zr(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YR(){return p0()==="http:"||p0()==="https:"}function p0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YR()||Ak()||"connection"in navigator)?navigator.onLine:!0}function JR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=Ik()||Ck()}get(){return XR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=new $u(3e4,6e4);function es(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ts(t,e,n,r,i={}){return H1(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const c=Hu(Object.assign({key:t.config.apiKey},a)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:f},o);return Pk()||(d.referrerPolicy="no-referrer"),W1.fetch()($1(t,t.config.apiHost,n,c),d)})}async function H1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},eb),e);try{const i=new rb(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw oh(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(t,"credential-already-in-use",a);if(f==="EMAIL_EXISTS")throw oh(t,"email-already-in-use",a);if(f==="USER_DISABLED")throw oh(t,"user-disabled",a);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw g_(t,g,d);Vn(t,g)}}catch(i){if(i instanceof ti)throw i;Vn(t,"network-request-failed",{message:String(i)})}}async function qu(t,e,n,r,i={}){const o=await ts(t,e,n,r,i);return"mfaPendingCredential"in o&&Vn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function $1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?y_(t.config,i):`${t.config.apiScheme}://${i}`}function nb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yn(this.auth,"network-request-failed")),tb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yn(t,e,r);return i.customData._tokenResponse=n,i}function m0(t){return t!==void 0&&t.enterprise!==void 0}class ib{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function sb(t,e){return ts(t,"GET","/v2/recaptchaConfig",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(t,e){return ts(t,"POST","/v1/accounts:delete",e)}async function q1(t,e){return ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ab(t,e=!1){const n=_n(t),r=await n.getIdToken(e),i=v_(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:eu(hp(i.auth_time)),issuedAtTime:eu(hp(i.iat)),expirationTime:eu(hp(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function hp(t){return Number(t)*1e3}function v_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const i=b1(n);return i?JSON.parse(i):(Ph("Failed to decode base64 JWT payload"),null)}catch(i){return Ph("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function g0(t){const e=v_(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&lb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Pu(t,q1(n,{idToken:r}));fe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?G1(o.providerUserInfo):[],c=hb(t.providerData,a),f=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),g=f?d:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function cb(t){const e=_n(t);await pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hb(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function G1(t){return t.map(e=>{var{providerId:n}=e,r=m_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(t,e){const n=await H1(t,{},async()=>{const r=Hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=$1(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",W1.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function db(t,e){return ts(t,"POST","/v2/accounts:revokeToken",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=g0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await fb(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new na;return r&&(fe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(fe(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=m_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ub(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Pu(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ab(this,e)}reload(){return cb(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(jr(this.auth));const e=await this.getIdToken();return await Pu(this,ob(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,c,f,d,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(i=n.email)!==null&&i!==void 0?i:void 0,C=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,R=(a=n.photoURL)!==null&&a!==void 0?a:void 0,b=(c=n.tenantId)!==null&&c!==void 0?c:void 0,D=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,P=(d=n.createdAt)!==null&&d!==void 0?d:void 0,S=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:A,emailVerified:B,isAnonymous:$,providerData:X,stsTokenManager:x}=n;fe(A&&x,e,"internal-error");const I=na.fromJSON(this.name,x);fe(typeof A=="string",e,"internal-error"),mi(v,e.name),mi(E,e.name),fe(typeof B=="boolean",e,"internal-error"),fe(typeof $=="boolean",e,"internal-error"),mi(C,e.name),mi(R,e.name),mi(b,e.name),mi(D,e.name),mi(P,e.name),mi(S,e.name);const k=new zr({uid:A,auth:e,email:E,emailVerified:B,displayName:v,isAnonymous:$,photoURL:R,phoneNumber:C,tenantId:b,stsTokenManager:I,createdAt:P,lastLoginAt:S});return X&&Array.isArray(X)&&(k.providerData=X.map(N=>Object.assign({},N))),D&&(k._redirectEventId=D),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new na;i.updateFromServerResponse(n);const o=new zr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pf(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?G1(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new na;c.updateFromIdToken(r);const f=new zr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Am(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new Map;function Ur(t){Zr(t instanceof Function,"Expected a class definition");let e=_0.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K1.type="NONE";const y0=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t,e,n){return`firebase:${t}:${e}:${n}`}class ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ah("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ra(Ur(y0),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Ur(y0);const a=Ah(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const g=await d._get(a);if(g){const v=zr._fromJSON(e,g);d!==o&&(c=v),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new ra(o,e,r):(o=f[0],c&&await o._set(a,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new ra(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eI(e))return"Blackberry";if(tI(e))return"Webos";if(Q1(e))return"Safari";if((e.includes("chrome/")||Y1(e))&&!e.includes("edge/"))return"Chrome";if(J1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Z1(t=Ht()){return/firefox\//i.test(t)}function Q1(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y1(t=Ht()){return/crios\//i.test(t)}function X1(t=Ht()){return/iemobile/i.test(t)}function J1(t=Ht()){return/android/i.test(t)}function eI(t=Ht()){return/blackberry/i.test(t)}function tI(t=Ht()){return/webos/i.test(t)}function w_(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pb(t=Ht()){var e;return w_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mb(){return xk()&&document.documentMode===10}function nI(t=Ht()){return w_(t)||J1(t)||tI(t)||eI(t)||/windows phone/i.test(t)||X1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e=[]){let n;switch(t){case"Browser":n=v0(Ht());break;case"Worker":n=`${v0(Ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,c)=>{try{const f=e(o);a(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(t,e={}){return ts(t,"GET","/v2/passwordPolicy",es(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=6;class vb{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:yb,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsNumericCharacter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w0(this),this.idTokenSubscription=new w0(this),this.beforeStateQueue=new gb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await q1(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!a||a===c)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(jr(this));const n=e?_n(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _b(this),n=new vb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await db(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{a=!0,f()}}else{const f=e.addObserver(n);return()=>{a=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ns(t){return _n(t)}class w0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Dk(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Eb(t){Xf=t}function iI(t){return Xf.loadJS(t)}function Tb(){return Xf.recaptchaEnterpriseScript}function Ib(){return Xf.gapiScript}function Sb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Pb="recaptcha-enterprise",Ab="NO_RECAPTCHA";class Cb{constructor(e){this.type=Pb,this.auth=ns(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,c)=>{sb(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new ib(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(f=>{c(f)})})}function i(o,a,c){const f=window.grecaptcha;m0(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(Ab)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(c=>{if(!n&&m0(window.grecaptcha))i(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Tb();f.length!==0&&(f+=c),iI(f).then(()=>{i(c,o,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function E0(t,e,n,r=!1){const i=new Cb(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Cm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await E0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await E0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e){const n=p_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(hf(o,e??{}))return i;Vn(i,"already-initialized")}return n.initialize({options:e})}function kb(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Rb(t,e,n){const r=ns(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=sI(e),{host:a,port:c}=bb(e),f=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${a}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Lb()}function sI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bb(t){const e=sI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:T0(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:T0(a)}}}function T0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Lb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function Ob(t,e){return ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(t,e){return qu(t,"POST","/v1/accounts:signInWithPassword",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",es(t,e))}async function Db(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends E_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Au(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Au(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,n,"signInWithPassword",Nb);case"emailLink":return Mb(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,r,"signUpPassword",Ob);case"emailLink":return Db(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t,e){return qu(t,"POST","/v1/accounts:signInWithIdp",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="http://localhost";class Bs extends E_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=m_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Bs(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ia(e,n)}buildRequest(){const e={requestUri:Vb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zb(t){const e=Fl(zl(t)).link,n=e?Fl(zl(e)).deep_link_id:null,r=Fl(zl(t)).deep_link_id;return(r?Fl(zl(r)).link:null)||r||n||e||t}class T_{constructor(e){var n,r,i,o,a,c;const f=Fl(zl(e)),d=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,v=Fb((i=f.mode)!==null&&i!==void 0?i:null);fe(d&&g&&v,"argument-error"),this.apiKey=d,this.operation=v,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=f.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=zb(e);try{return new T_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.providerId=Ra.PROVIDER_ID}static credential(e,n){return Au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=T_.parseLink(n);return fe(r,"argument-error"),Au._fromEmailAndCode(e,r.code,r.tenantId)}}Ra.PROVIDER_ID="password";Ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends I_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Gu{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mr.credential(n,r)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Gu{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Gu{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ii.credential(n,r)}catch{return null}}}Ii.TWITTER_SIGN_IN_METHOD="twitter.com";Ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(t,e){return qu(t,"POST","/v1/accounts:signUp",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await zr._fromIdTokenResponse(e,r,i),a=I0(r);return new js({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=I0(r);return new js({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function I0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends ti{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mf(e,n,r,i)}}function oI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(t,o,e,r):o})}async function Bb(t,e,n=!1){const r=await Pu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return js._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t,e,n=!1){const{auth:r}=t;if(Gn(r.app))return Promise.reject(jr(r));const i="reauthenticate";try{const o=await Pu(t,oI(r,i,e,t),n);fe(o.idToken,r,"internal-error");const a=v_(o.idToken);fe(a,r,"internal-error");const{sub:c}=a;return fe(t.uid===c,r,"user-mismatch"),js._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(t,e,n=!1){if(Gn(t.app))return Promise.reject(jr(t));const r="signIn",i=await oI(t,r,e),o=await js._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Wb(t,e){return aI(ns(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(t){const e=ns(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Hb(t,e,n){if(Gn(t.app))return Promise.reject(jr(t));const r=ns(t),a=await Cm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ub).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&lI(t),f}),c=await js._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function $b(t,e,n){return Gn(t.app)?Promise.reject(jr(t)):Wb(_n(t),Ra.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lI(t),r})}function qb(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function Gb(t,e,n){return _n(t).beforeAuthStateChanged(e,n)}const gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gf,"1"),this.storage.removeItem(gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=1e3,Zb=10;class cI extends uI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,f)=>{this.notifyListeners(a,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);mb()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Zb):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Kb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cI.type="LOCAL";const Qb=cI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI extends uI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hI.type="SESSION";const fI=hI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async d=>d(n.origin,o)),f=await Yb(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((c,f)=>{const d=S_("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(v){const E=v;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function Jb(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function eL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nL(){return dI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firebaseLocalStorageDb",rL=1,_f="firebaseLocalStorage",mI="fbase_key";class Ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(t,e){return t.transaction([_f],e?"readwrite":"readonly").objectStore(_f)}function iL(){const t=indexedDB.deleteDatabase(pI);return new Ku(t).toPromise()}function xm(){const t=indexedDB.open(pI,rL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_f,{keyPath:mI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_f)?e(r):(r.close(),await iL(),e(await xm()))})})}async function S0(t,e,n){const r=ed(t,!0).put({[mI]:e,value:n});return new Ku(r).toPromise()}async function sL(t,e){const n=ed(t,!1).get(e),r=await new Ku(n).toPromise();return r===void 0?null:r.value}function P0(t,e){const n=ed(t,!0).delete(e);return new Ku(n).toPromise()}const oL=800,aL=3;class gI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(nL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await eL(),!this.activeServiceWorker)return;this.sender=new Xb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await S0(e,gf,"1"),await P0(e,gf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>S0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>sL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ed(i,!1).getAll();return new Ku(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gI.type="LOCAL";const lL=gI;new $u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e){return e?Ur(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_ extends E_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uL(t){return aI(t.auth,new P_(t),t.bypassAuthState)}function cL(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),jb(n,new P_(t),t.bypassAuthState)}async function hL(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),Bb(n,new P_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uL;case"linkViaPopup":case"linkViaRedirect":return hL;case"reauthViaPopup":case"reauthViaRedirect":return cL;default:Vn(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=new $u(2e3,1e4);async function dL(t,e,n){if(Gn(t.app))return Promise.reject(Yn(t,"operation-not-supported-in-this-environment"));const r=ns(t);QR(t,e,I_);const i=_I(r,n);return new As(r,"signInViaPopup",e,i).executeNotNull()}class As extends yI{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=S_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fL.get())};e()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="pendingRedirect",Ch=new Map;class mL extends yI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const r=await gL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gL(t,e){const n=vL(e),r=yL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _L(t,e){Ch.set(t._key(),e)}function yL(t){return Ur(t._redirectPersistence)}function vL(t){return Ah(pL,t.config.apiKey,t.name)}async function wL(t,e,n=!1){if(Gn(t.app))return Promise.reject(jr(t));const r=ns(t),i=_I(r,e),a=await new mL(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=10*60*1e3;class TL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EL&&this.cachedEventUids.clear(),this.cachedEventUids.has(A0(e))}saveEventToCache(e){this.cachedEventUids.add(A0(e)),this.lastProcessedEventTime=Date.now()}}function A0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e={}){return ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AL=/^https?/;async function CL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SL(t);for(const n of e)try{if(xL(n))return}catch{}Vn(t,"unauthorized-domain")}function xL(t){const e=Pm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!AL.test(n))return!1;if(PL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=new $u(3e4,6e4);function C0(){const t=mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RL(t){return new Promise((e,n)=>{var r,i,o;function a(){C0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C0(),n(Yn(t,"network-request-failed"))},timeout:kL.get()})}if(!((i=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=mr().gapi)===null||o===void 0)&&o.load)a();else{const c=Sb("iframefcb");return mr()[c]=()=>{gapi.load?a():n(Yn(t,"network-request-failed"))},iI(`${Ib()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw xh=null,e})}let xh=null;function bL(t){return xh=xh||RL(t),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=new $u(5e3,15e3),OL="__/auth/iframe",NL="emulator/auth/iframe",ML={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VL(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?y_(e,NL):`https://${t.config.authDomain}/${OL}`,r={apiKey:e.apiKey,appName:t.name,v:ka},i=DL.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Hu(r).slice(1)}`}async function FL(t){const e=await bL(t),n=mr().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:VL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ML,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Yn(t,"network-request-failed"),c=mr().setTimeout(()=>{o(a)},LL.get());function f(){mr().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UL=500,BL=600,jL="_blank",WL="http://localhost";class x0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HL(t,e,n,r=UL,i=BL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},zL),{width:r.toString(),height:i.toString(),top:o,left:a}),d=Ht().toLowerCase();n&&(c=Y1(d)?jL:n),Z1(d)&&(e=e||WL,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[C,R])=>`${E}${C}=${R},`,"");if(pb(d)&&c!=="_self")return $L(e||"",c),new x0(null);const v=window.open(e||"",c,g);fe(v,t,"popup-blocked");try{v.focus()}catch{}return new x0(v)}function $L(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="__/auth/handler",GL="emulator/auth/handler",KL=encodeURIComponent("fac");async function k0(t,e,n,r,i,o){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ka,eventId:i};if(e instanceof I_){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Mk(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))a[g]=v}if(e instanceof Gu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(a.scopes=g.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await t._getAppCheckToken(),d=f?`#${KL}=${encodeURIComponent(f)}`:"";return`${ZL(t)}?${Hu(c).slice(1)}${d}`}function ZL({config:t}){return t.emulator?y_(t,GL):`https://${t.authDomain}/${qL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="webStorageSupport";class QL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fI,this._completeRedirectFn=wL,this._overrideRedirectResult=_L}async _openPopup(e,n,r,i){var o;Zr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await k0(e,n,r,Pm(),i);return HL(e,a,S_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await k0(e,n,r,Pm(),i);return Jb(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Zr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FL(e),r=new TL(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fp,{type:fp},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[fp];a!==void 0&&n(!!a),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nI()||Q1()||w_()}}const YL=QL;var R0="@firebase/auth",b0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eO(t){ma(new Us("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;fe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rI(t)},d=new wb(r,i,o,f);return kb(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ma(new Us("auth-internal",e=>{const n=ns(e.getProvider("auth").getImmediate());return(r=>new XL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(R0,b0,JL(t)),zi(R0,b0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=5*60,nO=N1("authIdTokenMaxAge")||tO;let L0=null;const rO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nO)return;const i=n==null?void 0:n.token;L0!==i&&(L0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function td(t=F1()){const e=p_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xb(t,{popupRedirectResolver:YL,persistence:[lL,Qb,fI]}),r=N1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=rO(o.toString());Gb(n,a,()=>a(n.currentUser)),qb(n,c=>a(c))}}const i=L1("auth");return i&&Rb(n,`http://${i}`),n}function iO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Eb({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Yn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",iO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eO("Browser");var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,wI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function k(){}k.prototype=I.prototype,x.D=I.prototype,x.prototype=new k,x.prototype.constructor=x,x.C=function(N,V,F){for(var M=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)M[rt-2]=arguments[rt];return I.prototype[V].apply(N,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,I,k){k||(k=0);var N=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)N[V]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(V=0;16>V;++V)N[V]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=x.g[0],k=x.g[1],V=x.g[2];var F=x.g[3],M=I+(F^k&(V^F))+N[0]+3614090360&4294967295;I=k+(M<<7&4294967295|M>>>25),M=F+(V^I&(k^V))+N[1]+3905402710&4294967295,F=I+(M<<12&4294967295|M>>>20),M=V+(k^F&(I^k))+N[2]+606105819&4294967295,V=F+(M<<17&4294967295|M>>>15),M=k+(I^V&(F^I))+N[3]+3250441966&4294967295,k=V+(M<<22&4294967295|M>>>10),M=I+(F^k&(V^F))+N[4]+4118548399&4294967295,I=k+(M<<7&4294967295|M>>>25),M=F+(V^I&(k^V))+N[5]+1200080426&4294967295,F=I+(M<<12&4294967295|M>>>20),M=V+(k^F&(I^k))+N[6]+2821735955&4294967295,V=F+(M<<17&4294967295|M>>>15),M=k+(I^V&(F^I))+N[7]+4249261313&4294967295,k=V+(M<<22&4294967295|M>>>10),M=I+(F^k&(V^F))+N[8]+1770035416&4294967295,I=k+(M<<7&4294967295|M>>>25),M=F+(V^I&(k^V))+N[9]+2336552879&4294967295,F=I+(M<<12&4294967295|M>>>20),M=V+(k^F&(I^k))+N[10]+4294925233&4294967295,V=F+(M<<17&4294967295|M>>>15),M=k+(I^V&(F^I))+N[11]+2304563134&4294967295,k=V+(M<<22&4294967295|M>>>10),M=I+(F^k&(V^F))+N[12]+1804603682&4294967295,I=k+(M<<7&4294967295|M>>>25),M=F+(V^I&(k^V))+N[13]+4254626195&4294967295,F=I+(M<<12&4294967295|M>>>20),M=V+(k^F&(I^k))+N[14]+2792965006&4294967295,V=F+(M<<17&4294967295|M>>>15),M=k+(I^V&(F^I))+N[15]+1236535329&4294967295,k=V+(M<<22&4294967295|M>>>10),M=I+(V^F&(k^V))+N[1]+4129170786&4294967295,I=k+(M<<5&4294967295|M>>>27),M=F+(k^V&(I^k))+N[6]+3225465664&4294967295,F=I+(M<<9&4294967295|M>>>23),M=V+(I^k&(F^I))+N[11]+643717713&4294967295,V=F+(M<<14&4294967295|M>>>18),M=k+(F^I&(V^F))+N[0]+3921069994&4294967295,k=V+(M<<20&4294967295|M>>>12),M=I+(V^F&(k^V))+N[5]+3593408605&4294967295,I=k+(M<<5&4294967295|M>>>27),M=F+(k^V&(I^k))+N[10]+38016083&4294967295,F=I+(M<<9&4294967295|M>>>23),M=V+(I^k&(F^I))+N[15]+3634488961&4294967295,V=F+(M<<14&4294967295|M>>>18),M=k+(F^I&(V^F))+N[4]+3889429448&4294967295,k=V+(M<<20&4294967295|M>>>12),M=I+(V^F&(k^V))+N[9]+568446438&4294967295,I=k+(M<<5&4294967295|M>>>27),M=F+(k^V&(I^k))+N[14]+3275163606&4294967295,F=I+(M<<9&4294967295|M>>>23),M=V+(I^k&(F^I))+N[3]+4107603335&4294967295,V=F+(M<<14&4294967295|M>>>18),M=k+(F^I&(V^F))+N[8]+1163531501&4294967295,k=V+(M<<20&4294967295|M>>>12),M=I+(V^F&(k^V))+N[13]+2850285829&4294967295,I=k+(M<<5&4294967295|M>>>27),M=F+(k^V&(I^k))+N[2]+4243563512&4294967295,F=I+(M<<9&4294967295|M>>>23),M=V+(I^k&(F^I))+N[7]+1735328473&4294967295,V=F+(M<<14&4294967295|M>>>18),M=k+(F^I&(V^F))+N[12]+2368359562&4294967295,k=V+(M<<20&4294967295|M>>>12),M=I+(k^V^F)+N[5]+4294588738&4294967295,I=k+(M<<4&4294967295|M>>>28),M=F+(I^k^V)+N[8]+2272392833&4294967295,F=I+(M<<11&4294967295|M>>>21),M=V+(F^I^k)+N[11]+1839030562&4294967295,V=F+(M<<16&4294967295|M>>>16),M=k+(V^F^I)+N[14]+4259657740&4294967295,k=V+(M<<23&4294967295|M>>>9),M=I+(k^V^F)+N[1]+2763975236&4294967295,I=k+(M<<4&4294967295|M>>>28),M=F+(I^k^V)+N[4]+1272893353&4294967295,F=I+(M<<11&4294967295|M>>>21),M=V+(F^I^k)+N[7]+4139469664&4294967295,V=F+(M<<16&4294967295|M>>>16),M=k+(V^F^I)+N[10]+3200236656&4294967295,k=V+(M<<23&4294967295|M>>>9),M=I+(k^V^F)+N[13]+681279174&4294967295,I=k+(M<<4&4294967295|M>>>28),M=F+(I^k^V)+N[0]+3936430074&4294967295,F=I+(M<<11&4294967295|M>>>21),M=V+(F^I^k)+N[3]+3572445317&4294967295,V=F+(M<<16&4294967295|M>>>16),M=k+(V^F^I)+N[6]+76029189&4294967295,k=V+(M<<23&4294967295|M>>>9),M=I+(k^V^F)+N[9]+3654602809&4294967295,I=k+(M<<4&4294967295|M>>>28),M=F+(I^k^V)+N[12]+3873151461&4294967295,F=I+(M<<11&4294967295|M>>>21),M=V+(F^I^k)+N[15]+530742520&4294967295,V=F+(M<<16&4294967295|M>>>16),M=k+(V^F^I)+N[2]+3299628645&4294967295,k=V+(M<<23&4294967295|M>>>9),M=I+(V^(k|~F))+N[0]+4096336452&4294967295,I=k+(M<<6&4294967295|M>>>26),M=F+(k^(I|~V))+N[7]+1126891415&4294967295,F=I+(M<<10&4294967295|M>>>22),M=V+(I^(F|~k))+N[14]+2878612391&4294967295,V=F+(M<<15&4294967295|M>>>17),M=k+(F^(V|~I))+N[5]+4237533241&4294967295,k=V+(M<<21&4294967295|M>>>11),M=I+(V^(k|~F))+N[12]+1700485571&4294967295,I=k+(M<<6&4294967295|M>>>26),M=F+(k^(I|~V))+N[3]+2399980690&4294967295,F=I+(M<<10&4294967295|M>>>22),M=V+(I^(F|~k))+N[10]+4293915773&4294967295,V=F+(M<<15&4294967295|M>>>17),M=k+(F^(V|~I))+N[1]+2240044497&4294967295,k=V+(M<<21&4294967295|M>>>11),M=I+(V^(k|~F))+N[8]+1873313359&4294967295,I=k+(M<<6&4294967295|M>>>26),M=F+(k^(I|~V))+N[15]+4264355552&4294967295,F=I+(M<<10&4294967295|M>>>22),M=V+(I^(F|~k))+N[6]+2734768916&4294967295,V=F+(M<<15&4294967295|M>>>17),M=k+(F^(V|~I))+N[13]+1309151649&4294967295,k=V+(M<<21&4294967295|M>>>11),M=I+(V^(k|~F))+N[4]+4149444226&4294967295,I=k+(M<<6&4294967295|M>>>26),M=F+(k^(I|~V))+N[11]+3174756917&4294967295,F=I+(M<<10&4294967295|M>>>22),M=V+(I^(F|~k))+N[2]+718787259&4294967295,V=F+(M<<15&4294967295|M>>>17),M=k+(F^(V|~I))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+F&4294967295}r.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var k=I-this.blockSize,N=this.B,V=this.h,F=0;F<I;){if(V==0)for(;F<=k;)i(this,x,F),F+=this.blockSize;if(typeof x=="string"){for(;F<I;)if(N[V++]=x.charCodeAt(F++),V==this.blockSize){i(this,N),V=0;break}}else for(;F<I;)if(N[V++]=x[F++],V==this.blockSize){i(this,N),V=0;break}}this.h=V,this.o+=I},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var k=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=k&255,k/=256;for(this.u(x),x=Array(16),I=k=0;4>I;++I)for(var N=0;32>N;N+=8)x[k++]=this.g[I]>>>N&255;return x};function o(x,I){var k=c;return Object.prototype.hasOwnProperty.call(k,x)?k[x]:k[x]=I(x)}function a(x,I){this.h=I;for(var k=[],N=!0,V=x.length-1;0<=V;V--){var F=x[V]|0;N&&F==I||(k[V]=F,N=!1)}this.g=k}var c={};function f(x){return-128<=x&&128>x?o(x,function(I){return new a([I|0],0>I?-1:0)}):new a([x|0],0>x?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return v;if(0>x)return D(d(-x));for(var I=[],k=1,N=0;x>=k;N++)I[N]=x/k|0,k*=4294967296;return new a(I,0)}function g(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return D(g(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(I,8)),N=v,V=0;V<x.length;V+=8){var F=Math.min(8,x.length-V),M=parseInt(x.substring(V,V+F),I);8>F?(F=d(Math.pow(I,F)),N=N.j(F).add(d(M))):(N=N.j(k),N=N.add(d(M)))}return N}var v=f(0),E=f(1),C=f(16777216);t=a.prototype,t.m=function(){if(b(this))return-D(this).m();for(var x=0,I=1,k=0;k<this.g.length;k++){var N=this.i(k);x+=(0<=N?N:4294967296+N)*I,I*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R(this))return"0";if(b(this))return"-"+D(this).toString(x);for(var I=d(Math.pow(x,6)),k=this,N="";;){var V=B(k,I).g;k=P(k,V.j(I));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(x);if(k=V,R(k))return F+N;for(;6>F.length;)F="0"+F;N=F+N}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function R(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function b(x){return x.h==-1}t.l=function(x){return x=P(this,x),b(x)?-1:R(x)?0:1};function D(x){for(var I=x.g.length,k=[],N=0;N<I;N++)k[N]=~x.g[N];return new a(k,~x.h).add(E)}t.abs=function(){return b(this)?D(this):this},t.add=function(x){for(var I=Math.max(this.g.length,x.g.length),k=[],N=0,V=0;V<=I;V++){var F=N+(this.i(V)&65535)+(x.i(V)&65535),M=(F>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);N=M>>>16,F&=65535,M&=65535,k[V]=M<<16|F}return new a(k,k[k.length-1]&-2147483648?-1:0)};function P(x,I){return x.add(D(I))}t.j=function(x){if(R(this)||R(x))return v;if(b(this))return b(x)?D(this).j(D(x)):D(D(this).j(x));if(b(x))return D(this.j(D(x)));if(0>this.l(C)&&0>x.l(C))return d(this.m()*x.m());for(var I=this.g.length+x.g.length,k=[],N=0;N<2*I;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<x.g.length;V++){var F=this.i(N)>>>16,M=this.i(N)&65535,rt=x.i(V)>>>16,wr=x.i(V)&65535;k[2*N+2*V]+=M*wr,S(k,2*N+2*V),k[2*N+2*V+1]+=F*wr,S(k,2*N+2*V+1),k[2*N+2*V+1]+=M*rt,S(k,2*N+2*V+1),k[2*N+2*V+2]+=F*rt,S(k,2*N+2*V+2)}for(N=0;N<I;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=I;N<2*I;N++)k[N]=0;return new a(k,0)};function S(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function A(x,I){this.g=x,this.h=I}function B(x,I){if(R(I))throw Error("division by zero");if(R(x))return new A(v,v);if(b(x))return I=B(D(x),I),new A(D(I.g),D(I.h));if(b(I))return I=B(x,D(I)),new A(D(I.g),I.h);if(30<x.g.length){if(b(x)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var k=E,N=I;0>=N.l(x);)k=$(k),N=$(N);var V=X(k,1),F=X(N,1);for(N=X(N,2),k=X(k,2);!R(N);){var M=F.add(N);0>=M.l(x)&&(V=V.add(k),F=M),N=X(N,1),k=X(k,1)}return I=P(x,V.j(I)),new A(V,I)}for(V=v;0<=x.l(I);){for(k=Math.max(1,Math.floor(x.m()/I.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),F=d(k),M=F.j(I);b(M)||0<M.l(x);)k-=N,F=d(k),M=F.j(I);R(F)&&(F=E),V=V.add(F),x=P(x,M)}return new A(V,x)}t.A=function(x){return B(this,x).h},t.and=function(x){for(var I=Math.max(this.g.length,x.g.length),k=[],N=0;N<I;N++)k[N]=this.i(N)&x.i(N);return new a(k,this.h&x.h)},t.or=function(x){for(var I=Math.max(this.g.length,x.g.length),k=[],N=0;N<I;N++)k[N]=this.i(N)|x.i(N);return new a(k,this.h|x.h)},t.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),k=[],N=0;N<I;N++)k[N]=this.i(N)^x.i(N);return new a(k,this.h^x.h)};function $(x){for(var I=x.g.length+1,k=[],N=0;N<I;N++)k[N]=x.i(N)<<1|x.i(N-1)>>>31;return new a(k,x.h)}function X(x,I){var k=I>>5;I%=32;for(var N=x.g.length-k,V=[],F=0;F<N;F++)V[F]=0<I?x.i(F+k)>>>I|x.i(F+k+1)<<32-I:x.i(F+k);return new a(V,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wI=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=g,bs=a}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EI,Ul,TI,kh,km,II,SI,PI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in y))break e;y=y[z]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function o(u,m){u instanceof String&&(u+="");var y=0,T=!1,z={next:function(){if(!T&&y<u.length){var W=y++;return{value:m(W,u[W]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(u){return u||function(){return o(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function f(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function E(u,m,y){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,E.apply(null,arguments)}function C(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function R(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,z,W){for(var te=Array(arguments.length-2),De=2;De<arguments.length;De++)te[De-2]=arguments[De];return m.prototype[z].apply(T,te)}}function b(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function D(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(f(T)){const z=u.length||0,W=T.length||0;u.length=z+W;for(let te=0;te<W;te++)u[z+te]=T[te]}else u.push(T)}}class P{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function S(u){return/^[\s\xa0]*$/.test(u)}function A(){var u=c.navigator;return u&&(u=u.userAgent)?u:""}function B(u){return B[" "](u),u}B[" "]=function(){};var $=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function X(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function x(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function I(u){const m={};for(const y in u)m[y]=u[y];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(y in T)u[y]=T[y];for(let W=0;W<k.length;W++)y=k[W],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function F(u){c.setTimeout(()=>{throw u},0)}function M(){var u=he;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,y){const T=wr.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var wr=new P(()=>new _t,u=>u.reset());class _t{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,q=!1,he=new rt,ee=()=>{const u=c.Promise.resolve(void 0);$t=()=>{u.then(de)}};var de=()=>{for(var u;u=M();){try{u.h.call(u.g)}catch(y){F(y)}var m=wr;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}q=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};c.addEventListener("test",y,m),c.removeEventListener("test",y,m)}catch{}return u}();function Te(u,m){if(Ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if($){e:{try{B(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ge[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Te.aa.h.call(this)}}R(Te,Ce);var ge={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),tr=0;function ac(u,m,y,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=z,this.key=++tr,this.da=this.fa=!1}function ri(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ii(u){this.src=u,this.g={},this.h=0}ii.prototype.add=function(u,m,y,T,z){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var te=ss(u,m,T,z);return-1<te?(m=u[te],y||(m.fa=!1)):(m=new ac(m,this.src,W,!!T,z),m.fa=y,u.push(m)),m};function Er(u,m){var y=m.type;if(y in u.g){var T=u.g[y],z=Array.prototype.indexOf.call(T,m,void 0),W;(W=0<=z)&&Array.prototype.splice.call(T,z,1),W&&(ri(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ss(u,m,y,T){for(var z=0;z<u.length;++z){var W=u[z];if(!W.da&&W.listener==m&&W.capture==!!y&&W.ha==T)return z}return-1}var ja="closure_lm_"+(1e6*Math.random()|0),Js={};function Wa(u,m,y,T,z){if(Array.isArray(m)){for(var W=0;W<m.length;W++)Wa(u,m[W],y,T,z);return null}return y=cc(y),u&&u[yt]?u.K(m,y,d(T)?!!T.capture:!!T,z):Ha(u,m,y,!1,T,z)}function Ha(u,m,y,T,z,W){if(!m)throw Error("Invalid event type");var te=d(z)?!!z.capture:!!z,De=ro(u);if(De||(u[ja]=De=new ii(u)),y=De.add(m,y,T,te,W),y.proxy)return y;if(T=eo(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)Me||(z=te),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(no(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function eo(){function u(y){return m.call(u.src,u.listener,y)}const m=uc;return u}function lc(u,m,y,T,z){if(Array.isArray(m))for(var W=0;W<m.length;W++)lc(u,m[W],y,T,z);else T=d(T)?!!T.capture:!!T,y=cc(y),u&&u[yt]?(u=u.i,m=String(m).toString(),m in u.g&&(W=u.g[m],y=ss(W,y,T,z),-1<y&&(ri(W[y]),Array.prototype.splice.call(W,y,1),W.length==0&&(delete u.g[m],u.h--)))):u&&(u=ro(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ss(m,y,T,z)),(y=-1<u?m[u]:null)&&to(y))}function to(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[yt])Er(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(no(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=ro(m))?(Er(y,u),y.h==0&&(y.src=null,m[ja]=null)):ri(u)}}}function no(u){return u in Js?Js[u]:Js[u]="on"+u}function uc(u,m){if(u.da)u=!0;else{m=new Te(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&to(u),u=y.call(T,m)}return u}function ro(u){return u=u[ja],u instanceof ii?u:null}var $a="__closure_events_fn_"+(1e9*Math.random()>>>0);function cc(u){return typeof u=="function"?u:(u[$a]||(u[$a]=function(m){return u.handleEvent(m)}),u[$a])}function ht(){we.call(this),this.i=new ii(this),this.M=this,this.F=null}R(ht,we),ht.prototype[yt]=!0,ht.prototype.removeEventListener=function(u,m,y,T){lc(this,u,m,y,T)};function Tt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new Ce(m,u);else if(m instanceof Ce)m.target=m.target||u;else{var z=m;m=new Ce(T,u),N(m,z)}if(z=!0,y)for(var W=y.length-1;0<=W;W--){var te=m.g=y[W];z=os(te,T,!0,m)&&z}if(te=m.g=u,z=os(te,T,!0,m)&&z,z=os(te,T,!1,m)&&z,y)for(W=0;W<y.length;W++)te=m.g=y[W],z=os(te,T,!1,m)&&z}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)ri(y[T]);delete u.g[m],u.h--}}this.F=null},ht.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ht.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function os(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,W=0;W<m.length;++W){var te=m[W];if(te&&!te.da&&te.capture==y){var De=te.listener,ft=te.ha||te.src;te.fa&&Er(u.i,te),z=De.call(ft,T)!==!1&&z}}return z&&!T.defaultPrevented}function hc(u,m,y){if(typeof u=="function")y&&(u=E(u,y));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:c.setTimeout(u,m||0)}function qa(u){u.g=hc(()=>{u.g=null,u.i&&(u.i=!1,qa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class fc extends we{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:qa(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(u){we.call(this),this.h=u,this.g={}}R(as,we);var Ga=[];function io(u){X(u.g,function(m,y){this.g.hasOwnProperty(y)&&to(m)},u),u.g={}}as.prototype.N=function(){as.aa.N.call(this),io(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var so=c.JSON.stringify,Ad=c.JSON.parse,ls=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function Ka(){}Ka.prototype.h=null;function dc(u){return u.h||(u.h=u.i())}function Za(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oo(){Ce.call(this,"d")}R(oo,Ce);function Qa(){Ce.call(this,"c")}R(Qa,Ce);var Tr={},pc=null;function ao(){return pc=pc||new ht}Tr.La="serverreachability";function mc(u){Ce.call(this,Tr.La,u)}R(mc,Ce);function us(u){const m=ao();Tt(m,new mc(m))}Tr.STAT_EVENT="statevent";function lo(u,m){Ce.call(this,Tr.STAT_EVENT,u),this.stat=m}R(lo,Ce);function xt(u){const m=ao();Tt(m,new lo(m,u))}Tr.Ma="timingevent";function gc(u,m){Ce.call(this,Tr.Ma,u),this.size=m}R(gc,Ce);function cs(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},m)}function hs(){this.g=!0}hs.prototype.xa=function(){this.g=!1};function En(u,m,y,T,z,W){u.info(function(){if(u.g)if(W)for(var te="",De=W.split("&"),ft=0;ft<De.length;ft++){var be=De[ft].split("=");if(1<be.length){var Ue=be[0];be=be[1];var Xe=Ue.split("_");te=2<=Xe.length&&Xe[1]=="type"?te+(Ue+"="+be+"&"):te+(Ue+"=redacted&")}}else te=null;else te=W;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+y+`
`+te})}function ae(u,m,y,T,z,W,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+y+`
`+W+" "+te})}function Ir(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+yc(u,y)+(T?" "+T:"")})}function _c(u,m){u.info(function(){return"TIMEOUT: "+m})}hs.prototype.info=function(){};function yc(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var W=z[0];if(W!="noop"&&W!="stop"&&W!="close")for(var te=1;te<z.length;te++)z[te]=""}}}}return so(y)}catch{return m}}var fs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},co;function Fn(){}R(Fn,Ka),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},co=new Fn;function zn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vc}function vc(){this.i=null,this.g="",this.h=!1}var wc={},Ya={};function Xa(u,m,y){u.L=1,u.v=In(it(m)),u.m=y,u.P=!0,Ja(u,null)}function Ja(u,m){u.F=Date.now(),fo(u),u.A=it(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ic(y.i,"t",T),u.C=0,y=u.j.J,u.h=new vc,u.g=Rc(u.j,y?m:null,!u.m),0<u.O&&(u.M=new fc(E(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ga[0]=z.toString()),z=Ga);for(var W=0;W<z.length;W++){var te=Wa(y,z[W],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),us(),En(u.i,u.u,u.A,u.l,u.R,u.m)}zn.prototype.ca=function(u){u=u.target;const m=this.M;m&&qt(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)e:{const Xe=qt(this.g);var m=this.g.Ba();const fi=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||ml(this.g)))){this.J||Xe!=4||m==7||(m==8||0>=fi?us(3):us(2)),el(this);var y=this.g.Z();this.X=y;t:if(Ec(this)){var T=ml(this.g);u="";var z=T.length,W=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sr(this),ds(this);var te="";break t}this.h.i=new c.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(W&&m==z-1)});T.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=y==200,ae(this.i,this.u,this.A,this.l,this.R,Xe,y),this.o){if(this.T&&!this.K){t:{if(this.g){var De,ft=this.g;if((De=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(De)){var be=De;break t}}be=null}if(y=be)Ir(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ps(this,y);else{this.o=!1,this.s=3,xt(12),Sr(this),ds(this);break e}}if(this.P){y=!0;let ot;for(;!this.J&&this.C<te.length;)if(ot=ho(this,te),ot==Ya){Xe==4&&(this.s=4,xt(14),y=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==wc){this.s=4,xt(15),Ir(this.i,this.l,te,"[Invalid Chunk]"),y=!1;break}else Ir(this.i,this.l,ot,null),ps(this,ot);if(Ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||te.length!=0||this.h.h||(this.s=1,xt(16),y=!1),this.o=this.o&&y,!y)Ir(this.i,this.l,te,"[Invalid Chunked Response]"),Sr(this),ds(this);else if(0<te.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),To(Ue),Ue.M=!0,xt(11))}}else Ir(this.i,this.l,te,null),ps(this,te);Xe==4&&Sr(this),this.o&&!this.J&&(Xe==4?_l(this.j,this):(this.o=!1,fo(this)))}else Cd(this.g),y==400&&0<te.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Sr(this),ds(this)}}}catch{}finally{}};function Ec(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ho(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ya:(y=Number(m.substring(y,T)),isNaN(y)?wc:(T+=1,T+y>m.length?Ya:(m=m.slice(T,T+y),u.C=T+y,m)))}zn.prototype.cancel=function(){this.J=!0,Sr(this)};function fo(u){u.S=Date.now()+u.I,Tc(u,u.I)}function Tc(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=cs(E(u.ba,u),m)}function el(u){u.B&&(c.clearTimeout(u.B),u.B=null)}zn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_c(this.i,this.A),this.L!=2&&(us(),xt(17)),Sr(this),this.s=2,ds(this)):Tc(this,this.S-u)};function ds(u){u.j.G==0||u.J||_l(u.j,u)}function Sr(u){el(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,io(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ps(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||xe(y.h,u))){if(!u.K&&xe(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)So(y),wo(y);else break e;Eo(y),xt(18)}}else y.za=z[1],0<y.za-y.T&&37500>z[2]&&y.F&&y.v==0&&!y.C&&(y.C=cs(E(y.Za,y),6e3));if(1>=oi(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else kr(y,11)}else if((u.K||y.g==u)&&So(y),!S(m))for(z=y.Da.g.parse(m),m=0;m<z.length;m++){let be=z[m];if(y.T=be[0],be=be[1],y.G==2)if(be[0]=="c"){y.K=be[1],y.ia=be[2];const Ue=be[3];Ue!=null&&(y.la=Ue,y.j.info("VER="+y.la));const Xe=be[4];Xe!=null&&(y.Aa=Xe,y.j.info("SVER="+y.Aa));const fi=be[5];fi!=null&&typeof fi=="number"&&0<fi&&(T=1.5*fi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const ot=u.g;if(ot){const Ao=ot.g?ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ao){var W=T.h;W.g||Ao.indexOf("spdy")==-1&&Ao.indexOf("quic")==-1&&Ao.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Be(W,W.h),W.h=null))}if(T.D){const ir=ot.g?ot.g.getResponseHeader("X-HTTP-Session-Id"):null;ir&&(T.ya=ir,pe(T.I,T.D,ir))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var te=u;if(T.qa=Po(T,T.J?T.ia:null,T.W),te.K){gs(T.h,te);var De=te,ft=T.L;ft&&(De.I=ft),De.B&&(el(De),fo(De)),T.g=te}else jn(T);0<y.i.length&&hi(y)}else be[0]!="stop"&&be[0]!="close"||kr(y,7);else y.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?kr(y,7):vo(y):be[0]!="noop"&&y.l&&y.l.ta(be),y.v=0)}}us(4)}catch{}}var ms=class{constructor(u,m){this.g=u,this.map=m}};function tl(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function xe(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Be(u,m){u.g?u.g.add(m):u.h=m}function gs(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}tl.prototype.cancel=function(){if(this.i=Pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pr(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return b(u.i)}function ai(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function rl(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function ve(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=rl(u),T=ai(u),z=T.length,W=0;W<z;W++)m.call(void 0,T[W],y&&y[W],u)}var Ge=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function il(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),z=null;if(0<=T){var W=u[y].substring(0,T);z=u[y].substring(T+1)}else W=u[y];m(W,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Tn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Tn){this.h=u.h,po(this,u.j),this.o=u.o,this.g=u.g,Ar(this,u.s),this.l=u.l;var m=u.i,y=new Cr;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),nr(this,y),this.m=u.m}else u&&(m=String(u).match(Ge))?(this.h=!1,po(this,m[1]||"",!0),this.o=Un(m[2]||""),this.g=Un(m[3]||"",!0),Ar(this,m[4]),this.l=Un(m[5]||"",!0),nr(this,m[6]||"",!0),this.m=Un(m[7]||"")):(this.h=!1,this.i=new Cr(null,this.h))}Tn.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Bn(m,li,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Bn(m,li,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Bn(y,y.charAt(0)=="/"?al:ol,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Bn(y,ll)),u.join("")};function it(u){return new Tn(u)}function po(u,m,y){u.j=y?Un(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ar(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function nr(u,m,y){m instanceof Cr?(u.i=m,Sn(u.i,u.h)):(y||(m=Bn(m,mo)),u.i=new Cr(m,u.h))}function pe(u,m,y){u.i.set(m,y)}function In(u){return pe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Un(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Bn(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,sl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var li=/[#\/\?@]/g,ol=/[#\?:]/g,al=/[#\?]/g,mo=/[#\?@]/g,ll=/#/g;function Cr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&il(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=Cr.prototype,t.add=function(u,m){an(this),this.i=null,u=ue(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function ul(u,m){an(u),m=ue(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function go(u,m){return an(u),m=ue(u,m),u.g.has(m)}t.forEach=function(u,m){an(this),this.g.forEach(function(y,T){y.forEach(function(z){u.call(m,z,T,this)},this)},this)},t.na=function(){an(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const z=u[T];for(let W=0;W<z.length;W++)y.push(m[T])}return y},t.V=function(u){an(this);let m=[];if(typeof u=="string")go(this,u)&&(m=m.concat(this.g.get(ue(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},t.set=function(u,m){return an(this),this.i=null,u=ue(this,u),go(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ic(u,m,y){ul(u,m),0<y.length&&(u.i=null,u.g.set(ue(u,m),b(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const W=encodeURIComponent(String(T)),te=this.V(T);for(T=0;T<te.length;T++){var z=W;te[T]!==""&&(z+="="+encodeURIComponent(String(te[T]))),u.push(z)}}return this.i=u.join("&")};function ue(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Sn(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(y,T){var z=T.toLowerCase();T!=z&&(ul(this,T),Ic(this,z,y))},u)),u.j=m}function ze(u,m){const y=new hs;if(c.Image){const T=new Image;T.onload=C(Pn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=C(Pn,y,"TestLoadImage: error",!1,m,T),T.onabort=C(Pn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=C(Pn,y,"TestLoadImage: timeout",!1,m,T),c.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Sc(u,m){const y=new hs,T=new AbortController,z=setTimeout(()=>{T.abort(),Pn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(W=>{clearTimeout(z),W.ok?Pn(y,"TestPingServer: ok",!0,m):Pn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Pn(y,"TestPingServer: error",!1,m)})}function Pn(u,m,y,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(y)}catch{}}function cl(){this.g=new ls}function hl(u,m,y){const T=y||"";try{ve(u,function(z,W){let te=z;d(z)&&(te=so(z)),m.push(T+W+"="+encodeURIComponent(te))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function An(u){this.l=u.Ub||null,this.j=u.eb||!1}R(An,Ka),An.prototype.g=function(){return new ui(this.l,this.j)},An.prototype.i=function(u){return function(){return u}}({});function ui(u,m){ht.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ui,ht),t=ui.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ln(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||c).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ye(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ln(this)),this.g&&(this.readyState=3,ln(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ci(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ci(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ye(this):ln(this),this.readyState==3&&ci(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ye(this))},t.Qa=function(u){this.g&&(this.response=u,Ye(this))},t.ga=function(){this.g&&Ye(this)};function Ye(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ln(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function ln(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fl(u){let m="";return X(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function _o(u,m,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=fl(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):pe(u,m,y))}function Ke(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ke,ht);var Pc=/^https?$/i,dl=["POST","PUT"];t=Ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():co.g(),this.v=this.o?dc(this.o):dc(co),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(W){Ac(this,W);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)y.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const W of T.keys())y.set(W,T.get(W));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(W=>W.toLowerCase()=="content-type"),z=c.FormData&&u instanceof c.FormData,!(0<=Array.prototype.indexOf.call(dl,m,void 0))||T||z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,te]of y)this.g.setRequestHeader(W,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xt(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Ac(this,W)}};function Ac(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,pl(u),yo(u)}function pl(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Tt(this,"complete"),Tt(this,"abort"),yo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yo(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Se(this):this.bb())},t.bb=function(){Se(this)};function Se(u){if(u.h&&typeof a<"u"&&(!u.v[1]||qt(u)!=4||u.Z()!=2)){if(u.u&&qt(u)==4)hc(u.Ea,0,u);else if(Tt(u,"readystatechange"),qt(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var T;if(T=te===0){var z=String(u.D).match(Ge)[1]||null;!z&&c.self&&c.self.location&&(z=c.self.location.protocol.slice(0,-1)),T=!Pc.test(z?z.toLowerCase():"")}y=T}if(y)Tt(u,"complete"),Tt(u,"success");else{u.m=6;try{var W=2<qt(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",pl(u)}}finally{yo(u)}}}}function yo(u,m){if(u.g){Xt(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Tt(u,"ready");try{y.onreadystatechange=T}catch{}}}function Xt(u){u.I&&(c.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function qt(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ad(m)}};function ml(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Cd(u){const m={};u=(u.g&&2<=qt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(S(u[T]))continue;var y=V(u[T]);const z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const W=m[z]||[];m[z]=W,W.push(y)}x(m,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Cc(u){this.Aa=0,this.i=[],this.j=new hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xr("baseRetryDelayMs",5e3,u),this.cb=xr("retryDelaySeedMs",1e4,u),this.Wa=xr("forwardChannelMaxRetries",2,u),this.wa=xr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new tl(u&&u.concurrentRequestLimit),this.Da=new cl,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cc.prototype,t.la=8,t.G=1,t.connect=function(u,m,y,T){xt(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Po(this,null,this.W),hi(this)};function vo(u){if(xc(u),u.G==3){var m=u.U++,y=it(u.I);if(pe(y,"SID",u.K),pe(y,"RID",m),pe(y,"TYPE","terminate"),_s(u,y),m=new zn(u,u.j,m),m.L=2,m.v=In(it(y)),y=!1,c.navigator&&c.navigator.sendBeacon)try{y=c.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&c.Image&&(new Image().src=m.v,y=!0),y||(m.g=Rc(m.j,null),m.g.ea(m.v)),m.F=Date.now(),fo(m)}kc(u)}function wo(u){u.g&&(To(u),u.g.cancel(),u.g=null)}function xc(u){wo(u),u.u&&(c.clearTimeout(u.u),u.u=null),So(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&c.clearTimeout(u.s),u.s=null)}function hi(u){if(!nl(u.h)&&!u.s){u.s=!0;var m=u.Ga;$t||ee(),q||($t(),q=!0),he.add(m,u),u.B=0}}function xd(u,m){return oi(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=cs(E(u.Ga,u,m),yl(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new zn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=I(W),N(W,this.S)):W=this.S),this.m!==null||this.O||(z.H=W,W=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=gl(this,z,m),y=it(this.I),pe(y,"RID",u),pe(y,"CVER",22),this.D&&pe(y,"X-HTTP-Session-Id",this.D),_s(this,y),W&&(this.O?m="headers="+encodeURIComponent(String(fl(W)))+"&"+m:this.m&&_o(y,this.m,W)),Be(this.h,z),this.Ua&&pe(y,"TYPE","init"),this.P?(pe(y,"$req",m),pe(y,"SID","null"),z.T=!0,Xa(z,y,null)):Xa(z,y,m),this.G=2}}else this.G==3&&(u?un(this,u):this.i.length==0||nl(this.h)||un(this))};function un(u,m){var y;m?y=m.l:y=u.U++;const T=it(u.I);pe(T,"SID",u.K),pe(T,"RID",y),pe(T,"AID",u.T),_s(u,T),u.m&&u.o&&_o(T,u.m,u.o),y=new zn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=gl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Be(u.h,y),Xa(y,T,m)}function _s(u,m){u.H&&X(u.H,function(y,T){pe(m,T,y)}),u.l&&ve({},function(y,T){pe(m,T,y)})}function gl(u,m,y){y=Math.min(u.i.length,y);var T=u.l?E(u.l.Na,u.l,u):null;e:{var z=u.i;let W=-1;for(;;){const te=["count="+y];W==-1?0<y?(W=z[0].g,te.push("ofs="+W)):W=0:te.push("ofs="+W);let De=!0;for(let ft=0;ft<y;ft++){let be=z[ft].g;const Ue=z[ft].map;if(be-=W,0>be)W=Math.max(0,z[ft].g-100),De=!1;else try{hl(Ue,te,"req"+be+"_")}catch{T&&T(Ue)}}if(De){T=te.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,T}function jn(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;$t||ee(),q||($t(),q=!0),he.add(m,u),u.v=0}}function Eo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=cs(E(u.Fa,u),yl(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Io(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=cs(E(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),wo(this),Io(this))};function To(u){u.A!=null&&(c.clearTimeout(u.A),u.A=null)}function Io(u){u.g=new zn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=it(u.qa);pe(m,"RID","rpc"),pe(m,"SID",u.K),pe(m,"AID",u.T),pe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&pe(m,"TO",u.ja),pe(m,"TYPE","xmlhttp"),_s(u,m),u.m&&u.o&&_o(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=In(it(m)),y.m=null,y.P=!0,Ja(y,u)}t.Za=function(){this.C!=null&&(this.C=null,wo(this),Eo(this),xt(19))};function So(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function _l(u,m){var y=null;if(u.g==m){So(u),To(u),u.g=null;var T=2}else if(xe(u.h,m))y=m.D,gs(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;T=ao(),Tt(T,new gc(T,y)),hi(u)}else jn(u);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&xd(u,m)||T==2&&Eo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),z){case 1:kr(u,5);break;case 4:kr(u,10);break;case 3:kr(u,6);break;default:kr(u,2)}}}function yl(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function kr(u,m){if(u.j.info("Error code "+m),m==2){var y=E(u.fb,u),T=u.Xa;const z=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||po(T,"https"),In(T),z?ze(T.toString(),y):Sc(T.toString(),y)}else xt(2);u.G=0,u.l&&u.l.sa(m),kc(u),xc(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function kc(u){if(u.G=0,u.ka=[],u.l){const m=Pr(u.h);(m.length!=0||u.i.length!=0)&&(D(u.ka,m),D(u.ka,u.i),u.h.i.length=0,b(u.i),u.i.length=0),u.l.ra()}}function Po(u,m,y){var T=y instanceof Tn?it(y):new Tn(y);if(T.g!="")m&&(T.g=m+"."+T.g),Ar(T,T.s);else{var z=c.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var W=new Tn(null);T&&po(W,T),m&&(W.g=m),z&&Ar(W,z),y&&(W.l=y),T=W}return y=u.D,m=u.ya,y&&m&&pe(T,y,m),pe(T,"VER",u.la),_s(u,T),T}function Rc(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ke(new An({eb:y})):new Ke(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vl(){}t=vl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ys(){}ys.prototype.g=function(u,m){return new It(u,m)};function It(u,m){ht.call(this),this.g=new Cc(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!S(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Cn(this)}R(It,ht),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){vo(this.g)},It.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=so(u),u=y);m.i.push(new ms(m.Ya++,u)),m.G==3&&hi(m)},It.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,It.aa.N.call(this)};function rr(u){oo.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(rr,oo);function bc(){Qa.call(this),this.status=1}R(bc,Qa);function Cn(u){this.g=u}R(Cn,vl),Cn.prototype.ua=function(){Tt(this.g,"a")},Cn.prototype.ta=function(u){Tt(this.g,new rr(u))},Cn.prototype.sa=function(u){Tt(this.g,new bc)},Cn.prototype.ra=function(){Tt(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,PI=function(){return new ys},SI=function(){return ao()},II=Tr,km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,kh=fs,uo.COMPLETE="complete",TI=uo,Za.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Ul=Za,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,EI=Ke}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new f_("@firebase/firestore");function Ll(){return Ws.logLevel}function se(t,...e){if(Ws.logLevel<=Re.DEBUG){const n=e.map(A_);Ws.debug(`Firestore (${ba}): ${t}`,...n)}}function Qr(t,...e){if(Ws.logLevel<=Re.ERROR){const n=e.map(A_);Ws.error(`Firestore (${ba}): ${t}`,...n)}}function ga(t,...e){if(Ws.logLevel<=Re.WARN){const n=e.map(A_);Ws.warn(`Firestore (${ba}): ${t}`,...n)}}function A_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+t;throw Qr(e),new Error(e)}function Fe(t,e){t||me()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class oO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aO{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ui,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ui)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new AI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new zt(e)}}class lO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new lO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);const r=o=>{o.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new cO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=fO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function _a(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Et(0,0))}static max(){return new _e(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends Cu{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const dO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Cu{construct(e,n,r){return new bt(e,n,r)}static isValidIdentifier(e){return dO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ie(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ie(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(o(),i++)}if(o(),a)throw new ie(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(He.fromString(e))}static fromName(e){return new le(He.fromString(e).popFirst(5))}static empty(){return new le(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new He(e.slice()))}}function pO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Et(n+1,0):new Et(n,r));return new $i(i,le.empty(),e)}function mO(t){return new $i(t.readTime,t.key,-1)}class $i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $i(_e.min(),le.empty(),-1)}static max(){return new $i(_e.max(),le.empty(),-1)}}function gO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==_O)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,o=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++o,a&&o===i&&n()},f=>r(f))}),a=!0,o===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const o=e.length,a=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;n(e[d]).next(g=>{a[d]=g,++c,c===o&&r(a)},g=>i(g))}})}static doWhile(e,n){return new Y((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function vO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}C_.oe=-1;function nd(t){return t==null}function yf(t){return t===0&&1/t==-1/0}function wO(t){return typeof t=="number"&&Number.isInteger(t)&&!yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function La(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=o??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new Ot(bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kI("Invalid base64 string: "+o):o}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const EO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=EO.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hs(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function k_(t){const e=t.mapValue.fields.__previous_value__;return x_(e)?k_(e):e}function xu(t){const e=qi(t.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,r,i,o,a,c,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d}}class ku{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?x_(t)?4:SO(t)?9007199254740991:IO(t)?10:11:me()}function yr(t,e){if(t===e)return!0;const n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xu(t).isEqual(xu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=qi(i.timestampValue),c=qi(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Hs(i.bytesValue).isEqual(Hs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return at(i.geoPointValue.latitude)===at(o.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return at(i.integerValue)===at(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=at(i.doubleValue),c=at(o.doubleValue);return a===c?yf(a)===yf(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},c=o.mapValue.fields||{};if(M0(a)!==M0(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(c[f]===void 0||!yr(a[f],c[f])))return!1;return!0}(t,e);default:return me()}}function Ru(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function ya(t,e){if(t===e)return 0;const n=$s(t),r=$s(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(o,a){const c=at(o.integerValue||o.doubleValue),f=at(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return V0(t.timestampValue,e.timestampValue);case 4:return V0(xu(t),xu(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(o,a){const c=Hs(o),f=Hs(a);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const c=o.split("/"),f=a.split("/");for(let d=0;d<c.length&&d<f.length;d++){const g=Ne(c[d],f[d]);if(g!==0)return g}return Ne(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const c=Ne(at(o.latitude),at(a.latitude));return c!==0?c:Ne(at(o.longitude),at(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F0(t.arrayValue,e.arrayValue);case 10:return function(o,a){var c,f,d,g;const v=o.fields||{},E=a.fields||{},C=(c=v.value)===null||c===void 0?void 0:c.arrayValue,R=(f=E.value)===null||f===void 0?void 0:f.arrayValue,b=Ne(((d=C==null?void 0:C.values)===null||d===void 0?void 0:d.length)||0,((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0);return b!==0?b:F0(C,R)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===uh.mapValue&&a===uh.mapValue)return 0;if(o===uh.mapValue)return 1;if(a===uh.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=a.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const E=Ne(f[v],g[v]);if(E!==0)return E;const C=ya(c[f[v]],d[g[v]]);if(C!==0)return C}return Ne(f.length,g.length)}(t.mapValue,e.mapValue);default:throw me()}}function V0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=qi(t),r=qi(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function F0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ya(n[i],r[i]);if(o)return o}return Ne(n.length,r.length)}function va(t){return Rm(t)}function Rm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Rm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Rm(n.fields[a])}`;return i+"}"}(t.mapValue):me()}function z0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bm(t){return!!t&&"integerValue"in t}function R_(t){return!!t&&"arrayValue"in t}function U0(t){return!!t&&"nullValue"in t}function B0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rh(t){return!!t&&"mapValue"in t}function IO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function tu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return La(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=bt.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=tu(a):i.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){La(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new bn(tu(this.value))}}function RI(t){const e=[];return La(t.fields,(n,r)=>{const i=new bt([n]);if(Rh(r)){const o=RI(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,o,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Bt(e,0,_e.min(),_e.min(),_e.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,_e.min(),_e.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,_e.min(),_e.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.position=e,this.inclusive=n}}function j0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=le.comparator(le.fromName(a.referenceValue),n.key):r=ya(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function W0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n="asc"){this.field=e,this.dir=n}}function PO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{}class gt extends bI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CO(e,n,r):n==="array-contains"?new RO(e,r):n==="in"?new bO(e,r):n==="not-in"?new LO(e,r):n==="array-contains-any"?new OO(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xO(e,r):new kO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ya(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends bI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Jn(e,n)}matches(e){return LI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function LI(t){return t.op==="and"}function OI(t){return AO(t)&&LI(t)}function AO(t){for(const e of t.filters)if(e instanceof Jn)return!1;return!0}function Lm(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+va(t.value);if(OI(t))return t.filters.map(e=>Lm(e)).join(",");{const e=t.filters.map(n=>Lm(n)).join(",");return`${t.op}(${e})`}}function NI(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(t,e):t instanceof Jn?function(r,i){return i instanceof Jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,c)=>o&&NI(a,i.filters[c]),!0):!1}(t,e):void me()}function MI(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${va(n.value)}`}(t):t instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(MI).join(" ,")+"}"}(t):"Filter"}class CO extends gt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class xO extends gt{constructor(e,n){super(e,"in",n),this.keys=DI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kO extends gt{constructor(e,n){super(e,"not-in",n),this.keys=DI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class RO extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return R_(n)&&Ru(n.arrayValue,this.value)}}class bO extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class LO extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ru(this.value.arrayValue,n)}}class OO extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!R_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n=null,r=[],i=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=c,this.ue=null}}function H0(t,e=null,n=[],r=[],i=null,o=null,a=null){return new NO(t,e,n,r,i,o,a)}function b_(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),nd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>va(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>va(r)).join(",")),e.ue=n}return e.ue}function L_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W0(t.startAt,e.startAt)&&W0(t.endAt,e.endAt)}function Om(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n=null,r=[],i=[],o=null,a="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function MO(t,e,n,r,i,o,a,c){return new Yu(t,e,n,r,i,o,a,c)}function VI(t){return new Yu(t)}function $0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FI(t){return t.collectionGroup!==null}function nu(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Ot(bt.comparator);return a.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new wf(o,r))}),n.has(bt.keyField().canonicalString())||e.ce.push(new wf(bt.keyField(),r))}return e.ce}function gr(t){const e=ye(t);return e.le||(e.le=DO(e,nu(t))),e.le}function DO(t,e){if(t.limitType==="F")return H0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new wf(i.field,o)});const n=t.endAt?new vf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vf(t.startAt.position,t.startAt.inclusive):null;return H0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Nm(t,e){const n=t.filters.concat([e]);return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mm(t,e,n){return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rd(t,e){return L_(gr(t),gr(e))&&t.limitType===e.limitType}function zI(t){return`${b_(gr(t))}|lt:${t.limitType}`}function Lo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>MI(i)).join(", ")}]`),nd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>va(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>va(i)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function id(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of nu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,f){const d=j0(a,c,f);return a.inclusive?d<=0:d<0}(r.startAt,nu(r),i)||r.endAt&&!function(a,c,f){const d=j0(a,c,f);return a.inclusive?d>=0:d>0}(r.endAt,nu(r),i))}(t,e)}function VO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UI(t){return(e,n)=>{let r=!1;for(const i of nu(t)){const o=FO(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function FO(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(o,a,c){const f=a.data.field(o),d=c.data.field(o);return f!==null&&d!==null?ya(f,d):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){La(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return xI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new nt(le.comparator);function Yr(){return zO}const BI=new nt(le.comparator);function Bl(...t){let e=BI;for(const n of t)e=e.insert(n.key,n);return e}function jI(t){let e=BI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cs(){return ru()}function WI(){return ru()}function ru(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const UO=new nt(le.comparator),BO=new Ot(le.comparator);function ke(...t){let e=BO;for(const n of t)e=e.add(n);return e}const jO=new Ot(Ne);function WO(){return jO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function HI(t){return{integerValue:""+t}}function HO(t,e){return wO(e)?HI(e):O_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function $O(t,e,n){return t instanceof Ef?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&x_(o)&&(o=k_(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof bu?qI(t,e):t instanceof Lu?GI(t,e):function(i,o){const a=$I(i,o),c=q0(a)+q0(i.Pe);return bm(a)&&bm(i.Pe)?HI(c):O_(i.serializer,c)}(t,e)}function qO(t,e,n){return t instanceof bu?qI(t,e):t instanceof Lu?GI(t,e):n}function $I(t,e){return t instanceof Tf?function(r){return bm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ef extends sd{}class bu extends sd{constructor(e){super(),this.elements=e}}function qI(t,e){const n=KI(e);for(const r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Lu extends sd{constructor(e){super(),this.elements=e}}function GI(t,e){let n=KI(e);for(const r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}class Tf extends sd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function q0(t){return at(t.integerValue||t.doubleValue)}function KI(t){return R_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bu&&i instanceof bu||r instanceof Lu&&i instanceof Lu?_a(r.elements,i.elements,yr):r instanceof Tf&&i instanceof Tf?yr(r.Pe,i.Pe):r instanceof Ef&&i instanceof Ef}(t.transform,e.transform)}class KO{constructor(e,n){this.version=e,this.transformResults=n}}class Wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class od{}function ZI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YI(t.key,Wr.none()):new Xu(t.key,t.data,Wr.none());{const n=t.data,r=bn.empty();let i=new Ot(bt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Ys(t.key,r,new Kn(i.toArray()),Wr.none())}}function ZO(t,e,n){t instanceof Xu?function(i,o,a){const c=i.value.clone(),f=K0(i.fieldTransforms,o,a.transformResults);c.setAll(f),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ys?function(i,o,a){if(!bh(i.precondition,o))return void o.convertToUnknownDocument(a.version);const c=K0(i.fieldTransforms,o,a.transformResults),f=o.data;f.setAll(QI(i)),f.setAll(c),o.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function iu(t,e,n,r){return t instanceof Xu?function(o,a,c,f){if(!bh(o.precondition,a))return c;const d=o.value.clone(),g=Z0(o.fieldTransforms,f,a);return d.setAll(g),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ys?function(o,a,c,f){if(!bh(o.precondition,a))return c;const d=Z0(o.fieldTransforms,f,a),g=a.data;return g.setAll(QI(o)),g.setAll(d),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(o,a,c){return bh(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function QO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=$I(r.transform,i||null);o!=null&&(n===null&&(n=bn.empty()),n.set(r.field,o))}return n||null}function G0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_a(r,i,(o,a)=>GO(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xu extends od{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ys extends od{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function K0(t,e,n){const r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,c=e.data.field(o.field);r.set(o.field,qO(a,c,n[i]))}return r}function Z0(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,$O(o,a,e))}return r}class YI extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YO extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ZO(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WI();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let c=this.applyToLocalView(a,o.mutatedFields);c=n.has(i.key)?null:c;const f=ZI(a,c);f!==null&&r.set(i.key,f),a.isValidDocument()||a.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(n,r)=>G0(n,r))&&_a(this.baseMutations,e.baseMutations,(n,r)=>G0(n,r))}}class N_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length);let i=function(){return UO}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new N_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Le;function tN(t){switch(t){default:return me();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function XI(t){if(t===void 0)return Qr("GRPC error has no .code"),K.UNKNOWN;switch(t){case pt.OK:return K.OK;case pt.CANCELLED:return K.CANCELLED;case pt.UNKNOWN:return K.UNKNOWN;case pt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case pt.INTERNAL:return K.INTERNAL;case pt.UNAVAILABLE:return K.UNAVAILABLE;case pt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case pt.NOT_FOUND:return K.NOT_FOUND;case pt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case pt.ABORTED:return K.ABORTED;case pt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case pt.DATA_LOSS:return K.DATA_LOSS;default:return me()}}(Le=pt||(pt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new bs([4294967295,4294967295],0);function Q0(t){const e=nN().encode(t),n=new wI;return n.update(e),new Uint8Array(n.digest())}function Y0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bs([n,r],0),new bs([i,o],0)]}class M_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=bs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(bs.fromNumber(r)));return i.compare(rN)===1&&(i=new bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Q0(e),[r,i]=Y0(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new M_(o,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Ie===0)return;const n=Q0(e),[r,i]=Y0(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ju.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ad(_e.min(),i,new nt(Ne),Yr(),ke())}}class Ju{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ju(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class JI{constructor(e,n){this.targetId=e,this.me=n}}class eS{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class X0{constructor(){this.fe=0,this.ge=ew(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),r=ke();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:me()}}),new Ju(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ew()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yr(),this.qe=J0(),this.Qe=new nt(Ne)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Om(o))if(r===0){const a=new le(o.path);this.Ue(n,a,Bt.newNoDocument(a,_e.min()))}else Fe(r===1);else{const a=this.Ye(n);if(a!==r){const c=this.Ze(e),f=c?this.Xe(c,e,a):1;if(f!==0){this.je(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,c;try{a=Hs(r).toUint8Array()}catch(f){if(f instanceof kI)return ga("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new M_(a,i,o)}catch(f){return ga(f instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const c=this.Je(a);if(c){if(o.current&&Om(c.target)){const f=new le(c.target.path);this.ke.get(f)!==null||this.it(a,f)||this.Ue(a,f,Bt.newNoDocument(f,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=ke();this.qe.forEach((o,a)=>{let c=!0;a.forEachWhile(f=>{const d=this.Je(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new ad(e,n,this.Qe,this.ke,r);return this.ke=Yr(),this.qe=J0(),this.Qe=new nt(Ne),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new X0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(Ne),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new X0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function J0(){return new nt(le.comparator)}function ew(){return new nt(le.comparator)}const sN={asc:"ASCENDING",desc:"DESCENDING"},oN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aN={and:"AND",or:"OR"};class lN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(t,e){return t.useProto3Json||nd(e)?e:{value:e}}function If(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uN(t,e){return If(t,e.toTimestamp())}function _r(t){return Fe(!!t),_e.fromTimestamp(function(n){const r=qi(n);return new Et(r.seconds,r.nanos)}(t))}function D_(t,e){return Vm(t,e).canonicalString()}function Vm(t,e){const n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nS(t){const e=He.fromString(t);return Fe(aS(e)),e}function Fm(t,e){return D_(t.databaseId,e.path)}function dp(t,e){const n=nS(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(iS(n))}function rS(t,e){return D_(t.databaseId,e)}function cN(t){const e=nS(t);return e.length===4?He.emptyPath():iS(e)}function zm(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iS(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tw(t,e,n){return{name:Fm(t,e),fields:n.value.mapValue.fields}}function hN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,g){return d.useProto3Json?(Fe(g===void 0||typeof g=="string"),Mt.fromBase64String(g||"")):(Fe(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Mt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const g=d.code===void 0?K.UNKNOWN:XI(d.code);return new ie(g,d.message||"")}(a);n=new eS(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dp(t,r.document.name),o=_r(r.document.updateTime),a=r.document.createTime?_r(r.document.createTime):_e.min(),c=new bn({mapValue:{fields:r.document.fields}}),f=Bt.newFoundDocument(i,o,a,c),d=r.targetIds||[],g=r.removedTargetIds||[];n=new Lh(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dp(t,r.document),o=r.readTime?_r(r.readTime):_e.min(),a=Bt.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Lh([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dp(t,r.document),o=r.removedTargetIds||[];n=new Lh([],o,i,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new eN(i,o),c=r.targetId;n=new JI(c,a)}}return n}function fN(t,e){let n;if(e instanceof Xu)n={update:tw(t,e.key,e.value)};else if(e instanceof YI)n={delete:Fm(t,e.key)};else if(e instanceof Ys)n={update:tw(t,e.key,e.data),updateMask:EN(e.fieldMask)};else{if(!(e instanceof YO))return me();n={verify:Fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const c=a.transform;if(c instanceof Ef)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Lu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Tf)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:uN(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:me()}(t,e.precondition)),n}function dN(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?_r(i.updateTime):_r(o);return a.isEqual(_e.min())&&(a=_r(o)),new KO(a,i.transformResults||[])}(n,e))):[]}function pN(t,e){return{documents:[rS(t,e.path)]}}function mN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rS(t,i);const o=function(d){if(d.length!==0)return oS(Jn.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(d){if(d.length!==0)return d.map(g=>function(E){return{field:Oo(E.field),direction:yN(E.dir)}}(g))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=Dm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function gN(t){let e=cN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fe(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=function(v){const E=sS(v);return E instanceof Jn&&OI(E)?E.getFilters():[E]}(n.where));let a=[];n.orderBy&&(a=function(v){return v.map(E=>function(R){return new wf(No(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(n.orderBy));let c=null;n.limit&&(c=function(v){let E;return E=typeof v=="object"?v.value:v,nd(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(v){const E=!!v.before,C=v.values||[];return new vf(C,E)}(n.startAt));let d=null;return n.endAt&&(d=function(v){const E=!v.before,C=v.values||[];return new vf(C,E)}(n.endAt)),MO(e,i,a,o,c,"F",f,d)}function _N(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=No(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=No(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=No(n.unaryFilter.field);return gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=No(n.unaryFilter.field);return gt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(No(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(r=>sS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(t):me()}function yN(t){return sN[t]}function vN(t){return oN[t]}function wN(t){return aN[t]}function Oo(t){return{fieldPath:t.canonicalString()}}function No(t){return bt.fromServerFormat(t.fieldPath)}function oS(t){return t instanceof gt?function(n){if(n.op==="=="){if(B0(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(U0(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B0(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(U0(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:vN(n.op),value:n.value}}}(t):t instanceof Jn?function(n){const r=n.getFilters().map(i=>oS(i));return r.length===1?r[0]:{compositeFilter:{op:wN(n.op),filters:r}}}(t):me()}function EN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,r,i,o=_e.min(),a=_e.min(),c=Mt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.ct=e}}function IN(t){const e=gN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.un=new PN}addToCollectionParentIndex(e,n){return this.un.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve($i.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class PN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(He.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wa(0)}static kn(){return new wa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&iu(r.mutation,i,Kn.empty(),Et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const i=Cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Bl();return o.forEach((c,f)=>{a=a.insert(c,f.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let o=Yr();const a=ru(),c=function(){return ru()}();return n.forEach((f,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof Ys)?o=o.insert(d.key,d):g!==void 0?(a.set(d.key,g.mutation.getFieldMask()),iu(g.mutation,d,g.mutation.getFieldMask(),Et.now())):a.set(d.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,g)=>a.set(d,g)),n.forEach((d,g)=>{var v;return c.set(d,new CN(g,(v=a.get(d))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const r=ru();let i=new nt((a,c)=>a-c),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(f=>{const d=n.get(f);if(d===null)return;let g=r.get(f)||Kn.empty();g=c.applyToLocalView(d,g),r.set(f,g);const v=(i.get(c.batchId)||ke()).add(f);i=i.insert(c.batchId,v)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,g=f.value,v=WI();g.forEach(E=>{if(!o.has(E)){const C=ZI(n.get(E),r.get(E));C!==null&&v.set(E,C),o=o.add(E)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,v))}return Y.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return le.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Y.resolve(Cs());let c=-1,f=o;return a.next(d=>Y.forEach(d,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(g)?Y.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,ke())).next(g=>({batchId:c,changes:jI(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=Bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Bl();return this.indexManager.getCollectionParents(e,o).next(c=>Y.forEach(c,f=>{const d=function(v,E){return new Yu(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(g=>{g.forEach((v,E)=>{a=a.insert(v,E)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((f,d)=>{const g=d.getKey();a.get(g)===null&&(a=a.insert(g,Bt.newInvalidDocument(g)))});let c=Bl();return a.forEach((f,d)=>{const g=o.get(f);g!==void 0&&iu(g.mutation,d,Kn.empty(),Et.now()),id(n,d)&&(c=c.insert(f,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Y.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_r(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:IN(i.bundledQuery),readTime:_r(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.overlays=new nt(le.comparator),this.Ir=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cs();return Y.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Cs(),o=n.length+1,a=new le(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new nt((d,g)=>d-g);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=Cs(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=Cs(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,g)=>c.set(d,g)),!(c.size()>=i)););return Y.resolve(c)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new JO(n,r));let o=this.Ir.get(n);o===void 0&&(o=ke(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.Tr=new Ot(Pt.Er),this.dr=new Ot(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new le(new He([])),r=new Pt(n,e),i=new Pt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new le(new He([])),r=new Pt(n,e),i=new Pt(n,e+1);let o=ke();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Pt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return le.comparator(e.key,n.key)||Ne(e.wr,n.wr)}static Ar(e,n){return Ne(e.wr,n.wr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ot(Pt.Er)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new XO(o,n,r,i);this.mutationQueue.push(a);for(const c of i)this.br=this.br.add(new Pt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Y.resolve(a)}lookupMutationBatch(e,n){return Y.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const c=this.Dr(a.wr);o.push(c)}),Y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Ne);return n.forEach(i=>{const o=new Pt(i,0),a=new Pt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],c=>{r=r.add(c.wr)})}),Y.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;le.isDocumentKey(o)||(o=o.child(""));const a=new Pt(new le(o),0);let c=new Ot(Ne);return this.br.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(f.wr)),!0)},a),Y.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Y.forEach(n.mutations,i=>{const o=new Pt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Pt(n,0),i=this.br.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.Mr=e,this.docs=function(){return new nt(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bt.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Yr();const a=n.path,c=new le(a.child("")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||gO(mO(g),r)<=0||(i.has(g.key)||id(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Y.resolve(o)}getAllFromCollectionGroup(e,n,r,i){me()}Or(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NN(this)}getSize(e){return Y.resolve(this.size)}}class NN extends AN{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.persistence=e,this.Nr=new Oa(n=>b_(n),L_),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new V_,this.targetCount=0,this.kr=wa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new wa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Kn(n),Y.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Y.waitFor(o).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.qr={},this.overlays={},this.Qr=new C_(0),this.Kr=!1,this.Kr=!0,this.$r=new bN,this.referenceDelegate=e(this),this.Ur=new MN(this),this.indexManager=new SN,this.remoteDocumentCache=function(i){return new ON(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new TN(n),this.Gr=new kN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new LN(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new VN(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Y.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class VN extends yO{constructor(e){super(),this.currentSequenceNumber=e}}class F_{constructor(e){this.persistence=e,this.Jr=new V_,this.Yr=null}static Zr(e){return new F_(e)}get Xr(){if(this.Yr)return this.Yr;throw me()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,r=>{const i=le.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Y.or([()=>Y.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ke(),i=ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new z_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kk()?8:vO(Ht())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new FN;return this.Xi(e,n,a).next(c=>{if(o.result=c,this.zi)return this.es(e,n,a,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ll()<=Re.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(Ll()<=Re.DEBUG&&se("QueryEngine","Query:",Lo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ll()<=Re.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):Y.resolve())}Yi(e,n){if($0(n))return Y.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mm(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=ke(...o);return this.Ji.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.ts(n,c);return this.ns(n,d,a,f.readTime)?this.Yi(e,Mm(n,null,"F")):this.rs(e,d,n,f)}))})))}Zi(e,n,r,i){return $0(n)||i.isEqual(_e.min())?Y.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Y.resolve(null):(Ll()<=Re.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lo(n)),this.rs(e,a,n,pO(i,-1)).next(c=>c))})}ts(e,n){let r=new Ot(UI(e));return n.forEach((i,o)=>{id(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ll()<=Re.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Lo(n)),this.Ji.getDocumentsMatchingQuery(e,n,$i.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new nt(Ne),this._s=new Oa(o=>b_(o),L_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function BN(t,e,n,r){return new UN(t,e,n,r)}async function lS(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],c=[];let f=ke();for(const d of i){a.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){c.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:c}))})})}function jN(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,f,d,g){const v=d.batch,E=v.keys();let C=Y.resolve();return E.forEach(R=>{C=C.next(()=>g.getEntry(f,R)).next(b=>{const D=d.docVersions.get(R);Fe(D!==null),b.version.compareTo(D)<0&&(v.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),g.addEntry(b)))})}),C.next(()=>c.mutationQueue.removeMutationBatch(f,v))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=ke();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uS(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function WN(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const c=[];e.targetChanges.forEach((g,v)=>{const E=i.get(v);if(!E)return;c.push(n.Ur.removeMatchingKeys(o,g.removedDocuments,v).next(()=>n.Ur.addMatchingKeys(o,g.addedDocuments,v)));let C=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(Mt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):g.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(g.resumeToken,r)),i=i.insert(v,C),function(b,D,P){return b.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(E,C,g)&&c.push(n.Ur.updateTargetData(o,C))});let f=Yr(),d=ke();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(HN(o,a,e.documentUpdates).next(g=>{f=g.Ps,d=g.Is})),!r.isEqual(_e.min())){const g=n.Ur.getLastRemoteSnapshotVersion(o).next(v=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(g)}return Y.waitFor(c).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(n.os=i,o))}function HN(t,e,n){let r=ke(),i=ke();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Yr();return n.forEach((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(_e.min())?(e.removeEntry(c,f.readTime),a=a.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),a=a.insert(c,f)):se("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)}),{Ps:a,Is:i}})}function $N(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qN(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Y.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Ai(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Um(t,e,n){const r=ye(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Qu(a))throw a;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function nw(t,e,n){const r=ye(t);let i=_e.min(),o=ke();return r.persistence.runTransaction("Execute query","readwrite",a=>function(f,d,g){const v=ye(f),E=v._s.get(g);return E!==void 0?Y.resolve(v.os.get(E)):v.Ur.getTargetData(d,g)}(r,a,gr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,c.targetId).next(f=>{o=f})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:_e.min(),n?o:ke())).next(c=>(GN(r,VO(e),c),{documents:c,Ts:o})))}function GN(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class rw{constructor(){this.activeTargetIds=WO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KN{constructor(){this.so=new rw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function pp(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class XN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const c=pp(),f=this.xo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${c}:`,f,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,a),this.No(n,f,d,i).then(g=>(se("RestConnection",`Received RPC '${n}' ${c}: `,g),g),g=>{throw ga("RestConnection",`RPC '${n}' ${c} failed with error: `,g,"url: ",f,"request:",i),g})}Lo(n,r,i,o,a,c){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=QN[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=pp();return new Promise((a,c)=>{const f=new EI;f.setWithCredentials(!0),f.listenOnce(TI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case kh.NO_ERROR:const g=f.getResponseJson();se(Ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),a(g);break;case kh.TIMEOUT:se(Ft,`RPC '${e}' ${o} timed out`),c(new ie(K.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const v=f.getStatus();if(se(Ft,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E==null?void 0:E.error;if(C&&C.status&&C.message){const R=function(D){const P=D.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(P)>=0?P:K.UNKNOWN}(C.status);c(new ie(R,C.message))}else c(new ie(K.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ie(K.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{se(Ft,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);se(Ft,`RPC '${e}' ${o} sending request:`,i),f.send(n,"POST",d,r,15)})}Bo(e,n,r){const i=pp(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=PI(),c=SI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=o.join("");se(Ft,`Creating RPC '${e}' stream ${i}: ${g}`,f);const v=a.createWebChannel(g,f);let E=!1,C=!1;const R=new YN({Io:D=>{C?se(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(E||(se(Ft,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),se(Ft,`RPC '${e}' stream ${i} sending:`,D),v.send(D))},To:()=>v.close()}),b=(D,P,S)=>{D.listen(P,A=>{try{S(A)}catch(B){setTimeout(()=>{throw B},0)}})};return b(v,Ul.EventType.OPEN,()=>{C||(se(Ft,`RPC '${e}' stream ${i} transport opened.`),R.yo())}),b(v,Ul.EventType.CLOSE,()=>{C||(C=!0,se(Ft,`RPC '${e}' stream ${i} transport closed`),R.So())}),b(v,Ul.EventType.ERROR,D=>{C||(C=!0,ga(Ft,`RPC '${e}' stream ${i} transport errored:`,D),R.So(new ie(K.UNAVAILABLE,"The operation could not be completed")))}),b(v,Ul.EventType.MESSAGE,D=>{var P;if(!C){const S=D.data[0];Fe(!!S);const A=S,B=A.error||((P=A[0])===null||P===void 0?void 0:P.error);if(B){se(Ft,`RPC '${e}' stream ${i} received error:`,B);const $=B.status;let X=function(k){const N=pt[k];if(N!==void 0)return XI(N)}($),x=B.message;X===void 0&&(X=K.INTERNAL,x="Unknown error status: "+$+" with message "+B.message),C=!0,R.So(new ie(X,x)),v.close()}else se(Ft,`RPC '${e}' stream ${i} received:`,S),R.bo(S)}}),b(c,II.STAT_EVENT,D=>{D.stat===km.PROXY?se(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===km.NOPROXY&&se(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.wo()},0),R}}function mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){return new lN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r,i,o,a,c,f){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ie(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JN extends hS{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=hN(this.serializer,e),r=function(o){if(!("targetChange"in o))return _e.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?_e.min():a.readTime?_r(a.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=zm(this.serializer),n.addTarget=function(o,a){let c;const f=a.target;if(c=Om(f)?{documents:pN(o,f)}:{query:mN(o,f)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=tS(o,a.resumeToken);const d=Dm(o,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(_e.min())>0){c.readTime=If(o,a.snapshotVersion.toTimestamp());const d=Dm(o,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=_N(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=zm(this.serializer),n.removeTarget=e,this.a_(n)}}class e2 extends hS{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=dN(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=zm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fN(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Vm(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(K.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(e,Vm(n,r),i,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ie(K.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class n2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qr(n),this.D_=!1):se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Xs(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(f){const d=ye(f);d.L_.add(4),await ec(d),d.q_.set("Unknown"),d.L_.delete(4),await ud(d)}(this))})}),this.q_=new n2(r,i)}}async function ud(t){if(Xs(t))for(const e of t.B_)await e(!0)}async function ec(t){for(const e of t.B_)await e(!1)}function fS(t,e){const n=ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),W_(n)?j_(n):Na(n).r_()&&B_(n,e))}function U_(t,e){const n=ye(t),r=Na(n);n.N_.delete(e),r.r_()&&dS(n,e),n.N_.size===0&&(r.r_()?r.o_():Xs(n)&&n.q_.set("Unknown"))}function B_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Na(t).A_(e)}function dS(t,e){t.Q_.xe(e),Na(t).R_(e)}function j_(t){t.Q_=new iN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Na(t).start(),t.q_.v_()}function W_(t){return Xs(t)&&!Na(t).n_()&&t.N_.size>0}function Xs(t){return ye(t).L_.size===0}function pS(t){t.Q_=void 0}async function i2(t){t.q_.set("Online")}async function s2(t){t.N_.forEach((e,n)=>{B_(t,e)})}async function o2(t,e){pS(t),W_(t)?(t.q_.M_(e),j_(t)):t.q_.set("Unknown")}async function a2(t,e,n){if(t.q_.set("Online"),e instanceof eS&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const c of o.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.N_.delete(c),i.Q_.removeTarget(c))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sf(t,r)}else if(e instanceof Lh?t.Q_.Ke(e):e instanceof JI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{const r=await uS(t.localStore);n.compareTo(r)>=0&&await function(o,a){const c=o.Q_.rt(a);return c.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.N_.get(d);g&&o.N_.set(d,g.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach((f,d)=>{const g=o.N_.get(f);if(!g)return;o.N_.set(f,g.withResumeToken(Mt.EMPTY_BYTE_STRING,g.snapshotVersion)),dS(o,f);const v=new Ai(g.target,f,d,g.sequenceNumber);B_(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await Sf(t,r)}}async function Sf(t,e,n){if(!Qu(e))throw e;t.L_.add(1),await ec(t),t.q_.set("Offline"),n||(n=()=>uS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ud(t)})}function mS(t,e){return e().catch(n=>Sf(t,n,e))}async function cd(t){const e=ye(t),n=Gi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;l2(e);)try{const i=await $N(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,u2(e,i)}catch(i){await Sf(e,i)}gS(e)&&_S(e)}function l2(t){return Xs(t)&&t.O_.length<10}function u2(t,e){t.O_.push(e);const n=Gi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function gS(t){return Xs(t)&&!Gi(t).n_()&&t.O_.length>0}function _S(t){Gi(t).start()}async function c2(t){Gi(t).p_()}async function h2(t){const e=Gi(t);for(const n of t.O_)e.m_(n.mutations)}async function f2(t,e,n){const r=t.O_.shift(),i=N_.from(r,e,n);await mS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cd(t)}async function d2(t,e){e&&Gi(t).V_&&await async function(r,i){if(function(a){return tN(a)&&a!==K.ABORTED}(i.code)){const o=r.O_.shift();Gi(r).s_(),await mS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await cd(r)}}(t,e),gS(t)&&_S(t)}async function sw(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Xs(n);n.L_.add(3),await ec(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ud(n)}async function p2(t,e){const n=ye(t);e?(n.L_.delete(2),await ud(n)):e||(n.L_.add(2),await ec(n),n.q_.set("Unknown"))}function Na(t){return t.K_||(t.K_=function(n,r,i){const o=ye(n);return o.w_(),new JN(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:i2.bind(null,t),Ro:s2.bind(null,t),mo:o2.bind(null,t),d_:a2.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),W_(t)?j_(t):t.q_.set("Unknown")):(await t.K_.stop(),pS(t))})),t.K_}function Gi(t){return t.U_||(t.U_=function(n,r,i){const o=ye(n);return o.w_(),new e2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:c2.bind(null,t),mo:d2.bind(null,t),f_:h2.bind(null,t),g_:f2.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await cd(t)):(await t.U_.stop(),t.O_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,c=new H_(e,n,a,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $_(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),Qu(t))return new ie(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=Bl(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new sa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.W_=new nt(le.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):me():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ea{constructor(e,n,r,i,o,a,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new Ea(e,n,sa.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class g2{constructor(){this.queries=aw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ye(n),o=i.queries;i.queries=aw(),o.forEach((a,c)=>{for(const f of c.j_)f.onError(r)})})(this,new ie(K.ABORTED,"Firestore shutting down"))}}function aw(){return new Oa(t=>zI(t),rd)}async function _2(t,e){const n=ye(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new m2,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const c=$_(a,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&q_(n)}async function y2(t,e){const n=ye(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function v2(t,e){const n=ye(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const c of a.j_)c.X_(i)&&(r=!0);a.z_=i}}r&&q_(n)}function w2(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function q_(t){t.Y_.forEach(e=>{e.next()})}var Bm,lw;(lw=Bm||(Bm={})).ea="default",lw.Cache="cache";class E2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.key=e}}class vS{constructor(e){this.key=e}}class T2{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=UI(e),this.Ra=new sa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new ow,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,v)=>{const E=i.get(g),C=id(this.query,v)?v:null,R=!!E&&this.mutatedKeys.has(E.key),b=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let D=!1;E&&C?E.data.isEqual(C.data)?R!==b&&(r.track({type:3,doc:C}),D=!0):this.ga(E,C)||(r.track({type:2,doc:C}),D=!0,(f&&this.Aa(C,f)>0||d&&this.Aa(C,d)<0)&&(c=!0)):!E&&C?(r.track({type:0,doc:C}),D=!0):E&&!C&&(r.track({type:1,doc:E}),D=!0,(f||d)&&(c=!0)),D&&(C?(a=a.add(C),o=b?o.add(g):o.delete(g)):(a=a.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const g=this.query.limitType==="F"?a.last():a.first();a=a.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ra:a,fa:r,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((g,v)=>function(C,R){const b=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return b(C)-b(R)}(g.type,v.type)||this.Aa(g.doc,v.doc)),this.pa(r),i=i!=null&&i;const c=n&&!i?this.ya():[],f=this.da.size===0&&this.current&&!i?1:0,d=f!==this.Ea;return this.Ea=f,a.length!==0||d?{snapshot:new Ea(this.query,e.Ra,o,a,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ow,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ke(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new vS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new yS(r))}),n}ba(e){this.Ta=e.Ts,this.da=ke();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ea.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class I2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class S2{constructor(e){this.key=e,this.va=!1}}class P2{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Oa(c=>zI(c),rd),this.Ma=new Map,this.xa=new Set,this.Oa=new nt(le.comparator),this.Na=new Map,this.La=new V_,this.Ba={},this.ka=new Map,this.qa=wa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function A2(t,e,n=!0){const r=PS(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await wS(r,e,n,!0),i}async function C2(t,e){const n=PS(t);await wS(n,e,!0,!1)}async function wS(t,e,n,r){const i=await qN(t.localStore,gr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await x2(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&fS(t.remoteStore,i),c}async function x2(t,e,n,r,i){t.Ka=(v,E,C)=>async function(b,D,P,S){let A=D.view.ma(P);A.ns&&(A=await nw(b.localStore,D.query,!1).then(({documents:x})=>D.view.ma(x,A)));const B=S&&S.targetChanges.get(D.targetId),$=S&&S.targetMismatches.get(D.targetId)!=null,X=D.view.applyChanges(A,b.isPrimaryClient,B,$);return cw(b,D.targetId,X.wa),X.snapshot}(t,v,E,C);const o=await nw(t.localStore,e,!0),a=new T2(e,o.Ts),c=a.ma(o.documents),f=Ju.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(c,t.isPrimaryClient,f);cw(t,n,d.wa);const g=new I2(e,n,a);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function k2(t,e,n){const r=ye(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!rd(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Um(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&U_(r.remoteStore,i.targetId),jm(r,i.targetId)}).catch(Zu)):(jm(r,i.targetId),await Um(r.localStore,i.targetId,!0))}async function R2(t,e){const n=ye(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),U_(n.remoteStore,r.targetId))}async function b2(t,e,n){const r=F2(t);try{const i=await function(a,c){const f=ye(a),d=Et.now(),g=c.reduce((C,R)=>C.add(R.key),ke());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let R=Yr(),b=ke();return f.cs.getEntries(C,g).next(D=>{R=D,R.forEach((P,S)=>{S.isValidDocument()||(b=b.add(P))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,R)).next(D=>{v=D;const P=[];for(const S of c){const A=QO(S,v.get(S.key).overlayedDocument);A!=null&&P.push(new Ys(S.key,A,RI(A.value.mapValue),Wr.exists(!0)))}return f.mutationQueue.addMutationBatch(C,d,P,c)}).next(D=>{E=D;const P=D.applyToLocalDocumentSet(v,b);return f.documentOverlayCache.saveOverlays(C,D.batchId,P)})}).then(()=>({batchId:E.batchId,changes:jI(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let d=a.Ba[a.currentUser.toKey()];d||(d=new nt(Ne)),d=d.insert(c,f),a.Ba[a.currentUser.toKey()]=d}(r,i.batchId,n),await tc(r,i.changes),await cd(r.remoteStore)}catch(i){const o=$_(i,"Failed to persist write");n.reject(o)}}async function ES(t,e){const n=ye(t);try{const r=await WN(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Fe(a.va):i.removedDocuments.size>0&&(Fe(a.va),a.va=!1))}),await tc(n,r,e)}catch(r){await Zu(r)}}function uw(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const c=a.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){const f=ye(a);f.onlineState=c;let d=!1;f.queries.forEach((g,v)=>{for(const E of v.j_)E.Z_(c)&&(d=!0)}),d&&q_(f)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L2(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new nt(le.comparator);a=a.insert(o,Bt.newNoDocument(o,_e.min()));const c=ke().add(o),f=new ad(_e.min(),new Map,new nt(Ne),a,c);await ES(r,f),r.Oa=r.Oa.remove(o),r.Na.delete(e),G_(r)}else await Um(r.localStore,e,!1).then(()=>jm(r,e,n)).catch(Zu)}async function O2(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await jN(n.localStore,e);IS(n,r,null),TS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tc(n,i)}catch(i){await Zu(i)}}async function N2(t,e,n){const r=ye(t);try{const i=await function(a,c){const f=ye(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return f.mutationQueue.lookupMutationBatch(d,c).next(v=>(Fe(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(d,v))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>f.localDocuments.getDocuments(d,g))})}(r.localStore,e);IS(r,e,n),TS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tc(r,i)}catch(i){await Zu(i)}}function TS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function IS(t,e,n){const r=ye(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function jm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||SS(t,r)})}function SS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(U_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),G_(t))}function cw(t,e,n){for(const r of n)r instanceof yS?(t.La.addReference(r.key,e),M2(t,r)):r instanceof vS?(se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||SS(t,r.key)):me()}function M2(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(se("SyncEngine","New document in limbo: "+n),t.xa.add(r),G_(t))}function G_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new le(He.fromString(e)),r=t.qa.next();t.Na.set(r,new S2(n)),t.Oa=t.Oa.insert(n,r),fS(t.remoteStore,new Ai(gr(VI(n.path)),r,"TargetPurposeLimboResolution",C_.oe))}}async function tc(t,e,n){const r=ye(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((c,f)=>{a.push(r.Ka(f,e,n).then(d=>{var g;if((d||n)&&r.isPrimaryClient){const v=d?!d.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){i.push(d);const v=z_.Wi(f.targetId,d);o.push(v)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(f,d){const g=ye(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Y.forEach(d,E=>Y.forEach(E.$i,C=>g.persistence.referenceDelegate.addReference(v,E.targetId,C)).next(()=>Y.forEach(E.Ui,C=>g.persistence.referenceDelegate.removeReference(v,E.targetId,C)))))}catch(v){if(!Qu(v))throw v;se("LocalStore","Failed to update sequence numbers: "+v)}for(const v of d){const E=v.targetId;if(!v.fromCache){const C=g.os.get(E),R=C.snapshotVersion,b=C.withLastLimboFreeSnapshotVersion(R);g.os=g.os.insert(E,b)}}}(r.localStore,o))}async function D2(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await lS(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(c=>{c.forEach(f=>{f.reject(new ie(K.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tc(n,r.hs)}}function V2(t,e){const n=ye(t),r=n.Na.get(e);if(r&&r.va)return ke().add(r.key);{let i=ke();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const c=n.Fa.get(a);i=i.unionWith(c.view.Va)}return i}}function PS(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L2.bind(null,e),e.Ca.d_=v2.bind(null,e.eventManager),e.Ca.$a=w2.bind(null,e.eventManager),e}function F2(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N2.bind(null,e),e}class Pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return BN(this.persistence,new zN,e.initialUser,this.serializer)}Ga(e){return new DN(F_.Zr,this.serializer)}Wa(e){return new KN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pf.provider={build:()=>new Pf};class Wm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D2.bind(null,this.syncEngine),await p2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new g2}()}createDatastore(e){const n=ld(e.databaseInfo.databaseId),r=function(o){return new XN(o)}(e.databaseInfo);return function(o,a,c,f){return new t2(o,a,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,c){return new r2(r,i,o,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>uw(this.syncEngine,n,0),function(){return iw.D()?new iw:new ZN}())}createSyncEngine(e,n){return function(i,o,a,c,f,d,g){const v=new P2(i,o,a,c,f,d);return g&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ye(i);se("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await ec(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wm.provider={build:()=>new Wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=CI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{se("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(se("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gp(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await B2(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sw(e.remoteStore,i)),t._onlineComponents=e}async function B2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await gp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===K.FAILED_PRECONDITION||i.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ga("Error using user provided cache. Falling back to memory cache: "+n),await gp(t,new Pf)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await gp(t,new Pf);return t._offlineComponents}async function AS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await hw(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await hw(t,new Wm))),t._onlineComponents}function j2(t){return AS(t).then(e=>e.syncEngine)}async function W2(t){const e=await AS(t),n=e.eventManager;return n.onListen=A2.bind(null,e.syncEngine),n.onUnlisten=k2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R2.bind(null,e.syncEngine),n}function H2(t,e,n={}){const r=new Ui;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,c,f,d){const g=new z2({next:E=>{g.Za(),a.enqueueAndForget(()=>y2(o,v)),E.fromCache&&f.source==="server"?d.reject(new ie(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(E)},error:E=>d.reject(E)}),v=new E2(c,g,{includeMetadataChanges:!0,_a:!0});return _2(o,v)}(await W2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e,n){if(!n)throw new ie(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $2(t,e,n,r){if(e===!0&&r===!0)throw new ie(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dw(t){if(!le.isDocumentKey(t))throw new ie(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pw(t){if(le.isDocumentKey(t))throw new ie(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function Af(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hd(t);throw new ie(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sO;switch(r.type){case"firstParty":return new uO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fw.get(n);r&&(se("ComponentProvider","Removing Datastore"),fw.delete(n),r.terminate())}(this),Promise.resolve()}}function q2(t,e,n,r={}){var i;const o=(t=Af(t,fd))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=zt.MOCK_USER;else{c=Tk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ie(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zt(d)}t._authCredentials=new oO(new AI(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class Nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class Bi extends Ma{constructor(e,n,r){super(e,n,VI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new le(e))}withConverter(e){return new Bi(this.firestore,e,this._path)}}function kS(t,e,...n){if(t=_n(t),xS("collection","path",e),t instanceof fd){const r=He.fromString(e,...n);return pw(r),new Bi(t,null,r)}{if(!(t instanceof Nn||t instanceof Bi))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return pw(r),new Bi(t.firestore,null,r)}}function G2(t,e,...n){if(t=_n(t),arguments.length===1&&(e=CI.newId()),xS("doc","path",e),t instanceof fd){const r=He.fromString(e,...n);return dw(r),new Nn(t,null,new le(r))}{if(!(t instanceof Nn||t instanceof Bi))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return dw(r),new Nn(t.firestore,t instanceof Bi?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new cS(this,"async_queue_retry"),this.Vu=()=>{const r=mp();r&&se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=mp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=mp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ui;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Qu(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw Qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=H_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class K_ extends fd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gw(e),this._firestoreClient=void 0,await e}}}function K2(t,e){const n=typeof t=="object"?t:F1(),r=typeof t=="string"?t:"(default)",i=p_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=wk("firestore");o&&q2(i,...o)}return i}function RS(t){if(t._terminated)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z2(t),t._firestoreClient}function Z2(t){var e,n,r;const i=t._freezeSettings(),o=function(c,f,d,g){return new TO(c,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,CS(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new U2(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(Mt.fromBase64String(e))}catch(n){throw new ie(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ta(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=/^__.*__$/;class Y2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xu(e,this.data,n,this.fieldTransforms)}}function LS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class X_{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new X_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Cf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(LS(this.Cu)&&Q2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class X2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ld(e)}Qu(e,n,r,i=!1){return new X_({Cu:e,methodName:n,qu:r,path:bt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OS(t){const e=t._freezeSettings(),n=ld(t._databaseId);return new X2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function J2(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);DS("Data must be an object, but it was:",a,r);const c=NS(r,a);let f,d;if(o.merge)f=new Kn(a.fieldMask),d=a.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const E=tM(e,v,n);if(!a.contains(E))throw new ie(K.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);rM(g,E)||g.push(E)}f=new Kn(g),d=a.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,d=a.fieldTransforms;return new Y2(new bn(c),f,d)}function eM(t,e,n,r=!1){return J_(n,t.Qu(r?4:3,e))}function J_(t,e){if(MS(t=_n(t)))return DS("Unsupported field value:",e,t),NS(t,e);if(t instanceof bS)return function(r,i){if(!LS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const c of r){let f=J_(c,i.Lu(a));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Et.fromDate(r);return{timestampValue:If(i.serializer,o)}}if(r instanceof Et){const o=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:If(i.serializer,o)}}if(r instanceof Q_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ta)return{bytesValue:tS(i.serializer,r._byteString)};if(r instanceof Nn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:D_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Y_)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(f=>{if(typeof f!="number")throw c.Bu("VectorValues must only contain numeric values.");return O_(c.serializer,f)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${hd(r)}`)}(t,e)}function NS(t,e){const n={};return xI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):La(t,(r,i)=>{const o=J_(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function MS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof Q_||t instanceof Ta||t instanceof Nn||t instanceof bS||t instanceof Y_)}function DS(t,e,n){if(!MS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=hd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function tM(t,e,n){if((e=_n(e))instanceof Z_)return e._internalPath;if(typeof e=="string")return VS(t,e);throw Cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const nM=new RegExp("[~\\*/\\[\\]]");function VS(t,e,n){if(e.search(nM)>=0)throw Cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Z_(...e.split("."))._internalPath}catch{throw Cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cf(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||a)&&(f+=" (found",o&&(f+=` in field ${r}`),a&&(f+=` in document ${i}`),f+=")"),new ie(K.INVALID_ARGUMENT,c+t+f)}function rM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ey("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iM extends FS{data(){return super.data()}}function ey(t,e){return typeof e=="string"?VS(t,e):e instanceof Z_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ty{}class oM extends ty{}function aM(t,e,...n){let r=[];e instanceof ty&&r.push(e),r=r.concat(n),function(o){const a=o.filter(f=>f instanceof ny).length,c=o.filter(f=>f instanceof dd).length;if(a>1||a>0&&c>0)throw new ie(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class dd extends oM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dd(e,n,r)}_apply(e){const n=this._parse(e);return zS(e._query,n),new Ma(e.firestore,e.converter,Nm(e._query,n))}_parse(e){const n=OS(e.firestore);return function(o,a,c,f,d,g,v){let E;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ie(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){yw(v,g);const C=[];for(const R of v)C.push(_w(f,o,R));E={arrayValue:{values:C}}}else E=_w(f,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||yw(v,g),E=eM(c,a,v,g==="in"||g==="not-in");return gt.create(d,g,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lM(t,e,n){const r=e,i=ey("where",t);return dd._create(i,r,n)}class ny extends ty{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ny(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const c=o.getFlattenedFilters();for(const f of c)zS(a,f),a=Nm(a,f)}(e._query,n),new Ma(e.firestore,e.converter,Nm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _w(t,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FI(e)&&n.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!le.isDocumentKey(r))throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return z0(t,new le(r))}if(n instanceof Nn)return z0(t,n._key);throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(n)}.`)}function yw(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zS(t,e){const n=function(i,o){for(const a of i)for(const c of a.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uM{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return La(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>at(a.doubleValue));return new Y_(o)}convertGeoPoint(e){return new Q_(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=k_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=qi(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Fe(aS(r));const i=new ku(r.get(1),r.get(3)),o=new le(r.popFirst(5));return i.isEqual(n)||Qr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hM extends FS{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ey("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Oh extends hM{data(e={}){return super.data(e)}}class fM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Oh(this._firestore,this._userDataWriter,r.key,r,new hh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{const f=new Oh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new hh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const f=new Oh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new hh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),g=a.indexOf(c.doc.key)),{type:dM(c.type),doc:f,oldIndex:d,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class pM extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function mM(t){t=Af(t,Ma);const e=Af(t.firestore,K_),n=RS(e),r=new pM(e);return sM(t._query),H2(n,t._query).then(i=>new fM(e,r,t,i))}function gM(t,e){const n=Af(t.firestore,K_),r=G2(t),i=cM(t.converter,e);return _M(n,[J2(OS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}function _M(t,e){return function(r,i){const o=new Ui;return r.asyncQueue.enqueueAndForget(async()=>b2(await j2(r),i,o)),o.promise}(RS(t),e)}(function(e,n=!0){(function(i){ba=i})(ka),ma(new Us("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),c=new K_(new aO(r.getProvider("auth-internal")),new hO(r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ie(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(d.options.projectId,g)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),zi(N0,"4.7.3",e),zi(N0,"4.7.3","esm2017")})();const yM={apiKey:"AIzaSyDVPfH-VRo-gi4sbHnJ5TZpEjkmXdJafAs",authDomain:"mapfolio-ca006.firebaseapp.com",projectId:"mapfolio-ca006",storageBucket:"mapfolio-ca006.appspot.com",messagingSenderId:"1:694555473279:web:8198c4eca50047ea32964a",appId:"your-app-id",measurementId:void 0},US=V1(yM),Ia=td(US),BS=K2(US),vM=new Mr,wM=()=>dL(Ia,vM).then(t=>{const e=t.user.displayName,n=t.user.email,r=t.user.photoURL;return localStorage.setItem("name",e),localStorage.setItem("email",n),localStorage.setItem("profile",r),!0}).catch(t=>{throw console.log(t),new Error(t.message)}),EM=async(t,e)=>{try{const n=await gM(kS(BS,t),e);console.log("Document written with ID",n.id)}catch(n){console.log("Error in sending:",n)}};/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(this,arguments)}var Ci;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ci||(Ci={}));const vw="popstate";function TM(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:c}=r.location;return Hm("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xf(i)}return SM(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IM(){return Math.random().toString(36).substr(2,8)}function ww(t,e){return{usr:t.state,key:t.key,idx:e}}function Hm(t,e,n,r){return n===void 0&&(n=null),Ou({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Da(e):e,{state:n,key:e&&e.key||r||IM()})}function xf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function SM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,c=Ci.Pop,f=null,d=g();d==null&&(d=0,a.replaceState(Ou({},a.state,{idx:d}),""));function g(){return(a.state||{idx:null}).idx}function v(){c=Ci.Pop;let D=g(),P=D==null?null:D-d;d=D,f&&f({action:c,location:b.location,delta:P})}function E(D,P){c=Ci.Push;let S=Hm(b.location,D,P);d=g()+1;let A=ww(S,d),B=b.createHref(S);try{a.pushState(A,"",B)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(B)}o&&f&&f({action:c,location:b.location,delta:1})}function C(D,P){c=Ci.Replace;let S=Hm(b.location,D,P);d=g();let A=ww(S,d),B=b.createHref(S);a.replaceState(A,"",B),o&&f&&f({action:c,location:b.location,delta:0})}function R(D){let P=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof D=="string"?D:xf(D);return S=S.replace(/ $/,"%20"),ut(P,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,P)}let b={get action(){return c},get location(){return t(i,a)},listen(D){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(vw,v),f=D,()=>{i.removeEventListener(vw,v),f=null}},createHref(D){return e(i,D)},createURL:R,encodeLocation(D){let P=R(D);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:E,replace:C,go(D){return a.go(D)}};return b}var Ew;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ew||(Ew={}));function PM(t,e,n){return n===void 0&&(n="/"),AM(t,e,n,!1)}function AM(t,e,n,r){let i=typeof e=="string"?Da(e):e,o=ry(i.pathname||"/",n);if(o==null)return null;let a=WS(t);CM(a);let c=null;for(let f=0;c==null&&f<a.length;++f){let d=FM(o);c=DM(a[f],d,r)}return c}function WS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};f.relativePath.startsWith("/")&&(ut(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let d=ji([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(ut(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),WS(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:NM(d,o.index),routesMeta:g})};return t.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,a);else for(let f of HS(o.path))i(o,a,f)}),e}function HS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=HS(r.join("/")),c=[];return c.push(...a.map(f=>f===""?o:[o,f].join("/"))),i&&c.push(...a),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function CM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xM=/^:[\w-]+$/,kM=3,RM=2,bM=1,LM=10,OM=-2,Tw=t=>t==="*";function NM(t,e){let n=t.split("/"),r=n.length;return n.some(Tw)&&(r+=OM),e&&(r+=RM),n.filter(i=>!Tw(i)).reduce((i,o)=>i+(xM.test(o)?kM:o===""?bM:LM),r)}function MM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DM(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Iw({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),E=f.route;if(!v&&d&&n&&!r[r.length-1].route.index&&(v=Iw({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),a.push({params:i,pathname:ji([o,v.pathname]),pathnameBase:jM(ji([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=ji([o,v.pathnameBase]))}return a}function Iw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,g,v)=>{let{paramName:E,isOptional:C}=g;if(E==="*"){let b=c[v]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const R=c[v];return C&&!R?d[E]=void 0:d[E]=(R||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function VM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ry(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Da(t):t;return{pathname:n?n.startsWith("/")?n:UM(n,e):e,search:WM(r),hash:HM(i)}}function UM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _p(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iy(t,e){let n=BM(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Da(t):(i=Ou({},t),ut(!i.pathname||!i.pathname.includes("?"),_p("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),_p("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),_p("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,c;if(a==null)c=n;else{let v=e.length-1;if(!r&&a.startsWith("..")){let E=a.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}c=v>=0?e[v]:"/"}let f=zM(i,c),d=a&&a!=="/"&&a.endsWith("/"),g=(o||a===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}const ji=t=>t.join("/").replace(/\/\/+/g,"/"),jM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $M(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $S=["post","put","patch","delete"];new Set($S);const qM=["get",...$S];new Set(qM);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}const oy=G.createContext(null),GM=G.createContext(null),rs=G.createContext(null),pd=G.createContext(null),is=G.createContext({outlet:null,matches:[],isDataRoute:!1}),qS=G.createContext(null);function KM(t,e){let{relative:n}=e===void 0?{}:e;Va()||ut(!1);let{basename:r,navigator:i}=G.useContext(rs),{hash:o,pathname:a,search:c}=KS(t,{relative:n}),f=a;return r!=="/"&&(f=a==="/"?r:ji([r,a])),i.createHref({pathname:f,search:c,hash:o})}function Va(){return G.useContext(pd)!=null}function nc(){return Va()||ut(!1),G.useContext(pd).location}function GS(t){G.useContext(rs).static||G.useLayoutEffect(t)}function Fa(){let{isDataRoute:t}=G.useContext(is);return t?aD():ZM()}function ZM(){Va()||ut(!1);let t=G.useContext(oy),{basename:e,future:n,navigator:r}=G.useContext(rs),{matches:i}=G.useContext(is),{pathname:o}=nc(),a=JSON.stringify(iy(i,n.v7_relativeSplatPath)),c=G.useRef(!1);return GS(()=>{c.current=!0}),G.useCallback(function(d,g){if(g===void 0&&(g={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let v=sy(d,JSON.parse(a),o,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ji([e,v.pathname])),(g.replace?r.replace:r.push)(v,g.state,g)},[e,r,a,o,t])}function KS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=G.useContext(rs),{matches:i}=G.useContext(is),{pathname:o}=nc(),a=JSON.stringify(iy(i,r.v7_relativeSplatPath));return G.useMemo(()=>sy(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function QM(t,e){return YM(t,e)}function YM(t,e,n,r){Va()||ut(!1);let{navigator:i}=G.useContext(rs),{matches:o}=G.useContext(is),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let f=a?a.pathnameBase:"/";a&&a.route;let d=nc(),g;if(e){var v;let D=typeof e=="string"?Da(e):e;f==="/"||(v=D.pathname)!=null&&v.startsWith(f)||ut(!1),g=D}else g=d;let E=g.pathname||"/",C=E;if(f!=="/"){let D=f.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=PM(t,{pathname:C}),b=nD(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:ji([f,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?f:ji([f,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),o,n,r);return e&&b?G.createElement(pd.Provider,{value:{location:Nu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ci.Pop}},b):b}function XM(){let t=oD(),e=$M(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:i},n):null,null)}const JM=G.createElement(XM,null);class eD extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?G.createElement(is.Provider,{value:this.props.routeContext},G.createElement(qS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tD(t){let{routeContext:e,match:n,children:r}=t,i=G.useContext(oy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),G.createElement(is.Provider,{value:e},r)}function nD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let g=a.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);g>=0||ut(!1),a=a.slice(0,Math.min(a.length,g+1))}let f=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:E,errors:C}=n,R=v.route.loader&&E[v.route.id]===void 0&&(!C||C[v.route.id]===void 0);if(v.route.lazy||R){f=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((g,v,E)=>{let C,R=!1,b=null,D=null;n&&(C=c&&v.route.id?c[v.route.id]:void 0,b=v.route.errorElement||JM,f&&(d<0&&E===0?(R=!0,D=null):d===E&&(R=!0,D=v.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,E+1)),S=()=>{let A;return C?A=b:R?A=D:v.route.Component?A=G.createElement(v.route.Component,null):v.route.element?A=v.route.element:A=g,G.createElement(tD,{match:v,routeContext:{outlet:g,matches:P,isDataRoute:n!=null},children:A})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?G.createElement(eD,{location:n.location,revalidation:n.revalidation,component:b,error:C,children:S(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):S()},null)}var ZS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ZS||{}),kf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kf||{});function rD(t){let e=G.useContext(oy);return e||ut(!1),e}function iD(t){let e=G.useContext(GM);return e||ut(!1),e}function sD(t){let e=G.useContext(is);return e||ut(!1),e}function QS(t){let e=sD(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function oD(){var t;let e=G.useContext(qS),n=iD(kf.UseRouteError),r=QS(kf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function aD(){let{router:t}=rD(ZS.UseNavigateStable),e=QS(kf.UseNavigateStable),n=G.useRef(!1);return GS(()=>{n.current=!0}),G.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nu({fromRouteId:e},o)))},[t,e])}function lD(t){let{to:e,replace:n,state:r,relative:i}=t;Va()||ut(!1);let{future:o,static:a}=G.useContext(rs),{matches:c}=G.useContext(is),{pathname:f}=nc(),d=Fa(),g=sy(e,iy(c,o.v7_relativeSplatPath),f,i==="path"),v=JSON.stringify(g);return G.useEffect(()=>d(JSON.parse(v),{replace:n,state:r,relative:i}),[d,v,i,n,r]),null}function Mo(t){ut(!1)}function uD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ci.Pop,navigator:o,static:a=!1,future:c}=t;Va()&&ut(!1);let f=e.replace(/^\/*/,"/"),d=G.useMemo(()=>({basename:f,navigator:o,static:a,future:Nu({v7_relativeSplatPath:!1},c)}),[f,c,o,a]);typeof r=="string"&&(r=Da(r));let{pathname:g="/",search:v="",hash:E="",state:C=null,key:R="default"}=r,b=G.useMemo(()=>{let D=ry(g,f);return D==null?null:{location:{pathname:D,search:v,hash:E,state:C,key:R},navigationType:i}},[f,g,v,E,C,R,i]);return b==null?null:G.createElement(rs.Provider,{value:d},G.createElement(pd.Provider,{children:n,value:b}))}function cD(t){let{children:e,location:n}=t;return QM($m(e),n)}new Promise(()=>{});function $m(t,e){e===void 0&&(e=[]);let n=[];return G.Children.forEach(t,(r,i)=>{if(!G.isValidElement(r))return;let o=[...e,i];if(r.type===G.Fragment){n.push.apply(n,$m(r.props.children,o));return}r.type!==Mo&&ut(!1),!r.props.index||!r.props.children||ut(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=$m(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qm.apply(this,arguments)}function hD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dD(t,e){return t.button===0&&(!e||e==="_self")&&!fD(t)}const pD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mD="6";try{window.__reactRouterVersion=mD}catch{}const gD="startTransition",Sw=nC[gD];function _D(t){let{basename:e,children:n,future:r,window:i}=t,o=G.useRef();o.current==null&&(o.current=TM({window:i,v5Compat:!0}));let a=o.current,[c,f]=G.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},g=G.useCallback(v=>{d&&Sw?Sw(()=>f(v)):f(v)},[f,d]);return G.useLayoutEffect(()=>a.listen(g),[a,g]),G.createElement(uD,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const yD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YS=G.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:c,target:f,to:d,preventScrollReset:g,viewTransition:v}=e,E=hD(e,pD),{basename:C}=G.useContext(rs),R,b=!1;if(typeof d=="string"&&vD.test(d)&&(R=d,yD))try{let A=new URL(window.location.href),B=d.startsWith("//")?new URL(A.protocol+d):new URL(d),$=ry(B.pathname,C);B.origin===A.origin&&$!=null?d=$+B.search+B.hash:b=!0}catch{}let D=KM(d,{relative:i}),P=wD(d,{replace:a,state:c,target:f,preventScrollReset:g,relative:i,viewTransition:v});function S(A){r&&r(A),A.defaultPrevented||P(A)}return G.createElement("a",qm({},E,{href:R||D,onClick:b||o?r:S,ref:n,target:f}))});var Pw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pw||(Pw={}));var Aw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Aw||(Aw={}));function wD(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:c}=e===void 0?{}:e,f=Fa(),d=nc(),g=KS(t,{relative:a});return G.useCallback(v=>{if(dD(v,n)){v.preventDefault();let E=r!==void 0?r:xf(d)===xf(g);f(t,{replace:E,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[d,f,g,r,i,n,t,o,a,c])}const Cw=()=>{};let ay={},XS={},JS=null,eP={mark:Cw,measure:Cw};try{typeof window<"u"&&(ay=window),typeof document<"u"&&(XS=document),typeof MutationObserver<"u"&&(JS=MutationObserver),typeof performance<"u"&&(eP=performance)}catch{}const{userAgent:xw=""}=ay.navigator||{},Ki=ay,qe=XS,kw=JS,fh=eP;Ki.document;const ni=!!qe.documentElement&&!!qe.head&&typeof qe.addEventListener=="function"&&typeof qe.createElement=="function",tP=~xw.indexOf("MSIE")||~xw.indexOf("Trident/");var Qe="classic",nP="duotone",dn="sharp",pn="sharp-duotone",ED=[Qe,nP,dn,pn],TD={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},Rw={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},ID=["kit"],SD=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,PD=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,AD={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},CD={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},xD={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},kD={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},RD={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},bD={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},rP={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},LD=["solid","regular","light","thin","duotone","brands"],iP=[1,2,3,4,5,6,7,8,9,10],OD=iP.concat([11,12,13,14,15,16,17,18,19,20]),Wl={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ND=[...Object.keys(kD),...LD,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Wl.GROUP,Wl.SWAP_OPACITY,Wl.PRIMARY,Wl.SECONDARY].concat(iP.map(t=>"".concat(t,"x"))).concat(OD.map(t=>"w-".concat(t))),MD={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},DD={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},VD={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},bw={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const Xr="___FONT_AWESOME___",Gm=16,sP="fa",oP="svg-inline--fa",qs="data-fa-i2svg",Km="data-fa-pseudo-element",FD="data-fa-pseudo-element-pending",ly="data-prefix",uy="data-icon",Lw="fontawesome-i2svg",zD="async",UD=["HTML","HEAD","STYLE","SCRIPT"],aP=(()=>{try{return!0}catch{return!1}})(),lP=[Qe,dn,pn];function rc(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Qe]}})}const uP={...rP};uP[Qe]={...rP[Qe],...Rw.kit,...Rw["kit-duotone"]};const Ls=rc(uP),Zm={...bD};Zm[Qe]={...Zm[Qe],...bw.kit,...bw["kit-duotone"]};const Mu=rc(Zm),Qm={...RD};Qm[Qe]={...Qm[Qe],...VD.kit};const Os=rc(Qm),Ym={...xD};Ym[Qe]={...Ym[Qe],...DD.kit};const BD=rc(Ym),jD=SD,cP="fa-layers-text",WD=PD,HD={...TD};rc(HD);const $D=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],yp=Wl,Sa=new Set;Object.keys(Mu[Qe]).map(Sa.add.bind(Sa));Object.keys(Mu[dn]).map(Sa.add.bind(Sa));Object.keys(Mu[pn]).map(Sa.add.bind(Sa));const qD=[...ID,...ND],su=Ki.FontAwesomeConfig||{};function GD(t){var e=qe.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function KD(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}qe&&typeof qe.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=KD(GD(n));i!=null&&(su[r]=i)});const hP={styleDefault:"solid",familyDefault:"classic",cssPrefix:sP,replacementClass:oP,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};su.familyPrefix&&(su.cssPrefix=su.familyPrefix);const Pa={...hP,...su};Pa.autoReplaceSvg||(Pa.observeMutations=!1);const oe={};Object.keys(hP).forEach(t=>{Object.defineProperty(oe,t,{enumerable:!0,set:function(e){Pa[t]=e,ou.forEach(n=>n(oe))},get:function(){return Pa[t]}})});Object.defineProperty(oe,"familyPrefix",{enumerable:!0,set:function(t){Pa.cssPrefix=t,ou.forEach(e=>e(oe))},get:function(){return Pa.cssPrefix}});Ki.FontAwesomeConfig=oe;const ou=[];function ZD(t){return ou.push(t),()=>{ou.splice(ou.indexOf(t),1)}}const gi=Gm,hr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function QD(t){if(!t||!ni)return;const e=qe.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=qe.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return qe.head.insertBefore(e,r),t}const YD="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Du(){let t=12,e="";for(;t-- >0;)e+=YD[Math.random()*62|0];return e}function za(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function cy(t){return t.classList?za(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function fP(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function XD(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(fP(t[n]),'" '),"").trim()}function md(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function hy(t){return t.size!==hr.size||t.x!==hr.x||t.y!==hr.y||t.rotate!==hr.rotate||t.flipX||t.flipY}function JD(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),f={transform:"".concat(o," ").concat(a," ").concat(c)},d={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:f,path:d}}function eV(t){let{transform:e,width:n=Gm,height:r=Gm,startCentered:i=!1}=t,o="";return i&&tP?o+="translate(".concat(e.x/gi-n/2,"em, ").concat(e.y/gi-r/2,"em) "):i?o+="translate(calc(-50% + ".concat(e.x/gi,"em), calc(-50% + ").concat(e.y/gi,"em)) "):o+="translate(".concat(e.x/gi,"em, ").concat(e.y/gi,"em) "),o+="scale(".concat(e.size/gi*(e.flipX?-1:1),", ").concat(e.size/gi*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var tV=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function dP(){const t=sP,e=oP,n=oe.cssPrefix,r=oe.replacementClass;let i=tV;if(n!==t||r!==e){const o=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(c,".".concat(r))}return i}let Ow=!1;function vp(){oe.autoAddCss&&!Ow&&(QD(dP()),Ow=!0)}var nV={mixout(){return{dom:{css:dP,insertCss:vp}}},hooks(){return{beforeDOMElementCreation(){vp()},beforeI2svg(){vp()}}}};const Jr=Ki||{};Jr[Xr]||(Jr[Xr]={});Jr[Xr].styles||(Jr[Xr].styles={});Jr[Xr].hooks||(Jr[Xr].hooks={});Jr[Xr].shims||(Jr[Xr].shims=[]);var fr=Jr[Xr];const pP=[],mP=function(){qe.removeEventListener("DOMContentLoaded",mP),Rf=1,pP.map(t=>t())};let Rf=!1;ni&&(Rf=(qe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(qe.readyState),Rf||qe.addEventListener("DOMContentLoaded",mP));function rV(t){ni&&(Rf?setTimeout(t,0):pP.push(t))}function ic(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?fP(t):"<".concat(e," ").concat(XD(n),">").concat(r.map(ic).join(""),"</").concat(e,">")}function Nw(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var wp=function(e,n,r,i){var o=Object.keys(e),a=o.length,c=n,f,d,g;for(r===void 0?(f=1,g=e[o[0]]):(f=0,g=r);f<a;f++)d=o[f],g=c(g,e[d],d,e);return g};function iV(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const o=t.charCodeAt(n++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Xm(t){const e=iV(t);return e.length===1?e[0].toString(16):null}function sV(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function Mw(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Jm(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=Mw(e);typeof fr.hooks.addPack=="function"&&!r?fr.hooks.addPack(t,Mw(e)):fr.styles[t]={...fr.styles[t]||{},...i},t==="fas"&&Jm("fa",e)}const{styles:Ts,shims:oV}=fr,aV={[Qe]:Object.values(Os[Qe]),[dn]:Object.values(Os[dn]),[pn]:Object.values(Os[pn])};let fy=null,gP={},_P={},yP={},vP={},wP={};const lV={[Qe]:Object.keys(Ls[Qe]),[dn]:Object.keys(Ls[dn]),[pn]:Object.keys(Ls[pn])};function uV(t){return~qD.indexOf(t)}function cV(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!uV(i)?i:null}const EP=()=>{const t=r=>wp(Ts,(i,o,a)=>(i[a]=wp(o,r,{}),i),{});gP=t((r,i,o)=>(i[3]&&(r[i[3]]=o),i[2]&&i[2].filter(c=>typeof c=="number").forEach(c=>{r[c.toString(16)]=o}),r)),_P=t((r,i,o)=>(r[o]=o,i[2]&&i[2].filter(c=>typeof c=="string").forEach(c=>{r[c]=o}),r)),wP=t((r,i,o)=>{const a=i[2];return r[o]=o,a.forEach(c=>{r[c]=o}),r});const e="far"in Ts||oe.autoFetchSvg,n=wp(oV,(r,i)=>{const o=i[0];let a=i[1];const c=i[2];return a==="far"&&!e&&(a="fas"),typeof o=="string"&&(r.names[o]={prefix:a,iconName:c}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:a,iconName:c}),r},{names:{},unicodes:{}});yP=n.names,vP=n.unicodes,fy=gd(oe.styleDefault,{family:oe.familyDefault})};ZD(t=>{fy=gd(t.styleDefault,{family:oe.familyDefault})});EP();function dy(t,e){return(gP[t]||{})[e]}function hV(t,e){return(_P[t]||{})[e]}function xi(t,e){return(wP[t]||{})[e]}function TP(t){return yP[t]||{prefix:null,iconName:null}}function fV(t){const e=vP[t],n=dy("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Zi(){return fy}const py=()=>({prefix:null,iconName:null,rest:[]});function gd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Qe}=e,r=Ls[n][t],i=Mu[n][t]||Mu[n][r],o=t in fr.styles?t:null;return i||o||null}const dV={[Qe]:Object.keys(Os[Qe]),[dn]:Object.keys(Os[dn]),[pn]:Object.keys(Os[pn])};function _d(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e,r={[Qe]:"".concat(oe.cssPrefix,"-").concat(Qe),[dn]:"".concat(oe.cssPrefix,"-").concat(dn),[pn]:"".concat(oe.cssPrefix,"-").concat(pn)};let i=null,o=Qe;const a=ED.filter(f=>f!==nP);a.forEach(f=>{(t.includes(r[f])||t.some(d=>dV[f].includes(d)))&&(o=f)});const c=t.reduce((f,d)=>{const g=cV(oe.cssPrefix,d);if(Ts[d]?(d=aV[o].includes(d)?BD[o][d]:d,i=d,f.prefix=d):lV[o].indexOf(d)>-1?(i=d,f.prefix=gd(d,{family:o})):g?f.iconName=g:d!==oe.replacementClass&&!a.some(v=>d===r[v])&&f.rest.push(d),!n&&f.prefix&&f.iconName){const v=i==="fa"?TP(f.iconName):{},E=xi(f.prefix,f.iconName);v.prefix&&(i=null),f.iconName=v.iconName||E||f.iconName,f.prefix=v.prefix||f.prefix,f.prefix==="far"&&!Ts.far&&Ts.fas&&!oe.autoFetchSvg&&(f.prefix="fas")}return f},py());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&o===dn&&(Ts.fass||oe.autoFetchSvg)&&(c.prefix="fass",c.iconName=xi(c.prefix,c.iconName)||c.iconName),!c.prefix&&o===pn&&(Ts.fasds||oe.autoFetchSvg)&&(c.prefix="fasds",c.iconName=xi(c.prefix,c.iconName)||c.iconName),(c.prefix==="fa"||i==="fa")&&(c.prefix=Zi()||"fas"),c}class pV{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(o=>{this.definitions[o]={...this.definitions[o]||{},...i[o]},Jm(o,i[o]);const a=Os[Qe][o];a&&Jm(a,i[o]),EP()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:o,iconName:a,icon:c}=r[i],f=c[2];e[o]||(e[o]={}),f.length>0&&f.forEach(d=>{typeof d=="string"&&(e[o][d]=c)}),e[o][a]=c}),e}}let Dw=[],Ko={};const oa={},mV=Object.keys(oa);function gV(t,e){let{mixoutsTo:n}=e;return Dw=t,Ko={},Object.keys(oa).forEach(r=>{mV.indexOf(r)===-1&&delete oa[r]}),Dw.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(o=>{typeof i[o]=="function"&&(n[o]=i[o]),typeof i[o]=="object"&&Object.keys(i[o]).forEach(a=>{n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){const o=r.hooks();Object.keys(o).forEach(a=>{Ko[a]||(Ko[a]=[]),Ko[a].push(o[a])})}r.provides&&r.provides(oa)}),n}function eg(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Ko[t]||[]).forEach(a=>{e=a.apply(null,[e,...r])}),e}function Gs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Ko[t]||[]).forEach(o=>{o.apply(null,n)})}function Qi(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return oa[t]?oa[t].apply(null,e):void 0}function tg(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||Zi();if(e)return e=xi(n,e)||e,Nw(IP.definitions,n,e)||Nw(fr.styles,n,e)}const IP=new pV,_V=()=>{oe.autoReplaceSvg=!1,oe.observeMutations=!1,Gs("noAuto")},yV={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ni?(Gs("beforeI2svg",t),Qi("pseudoElements2svg",t),Qi("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;oe.autoReplaceSvg===!1&&(oe.autoReplaceSvg=!0),oe.observeMutations=!0,rV(()=>{wV({autoReplaceSvgRoot:e}),Gs("watch",t)})}},vV={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:xi(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=gd(t[0]);return{prefix:n,iconName:xi(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(oe.cssPrefix,"-"))>-1||t.match(jD))){const e=_d(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Zi(),iconName:xi(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Zi();return{prefix:e,iconName:xi(e,t)||t}}}},wn={noAuto:_V,config:oe,dom:yV,parse:vV,library:IP,findIconDefinition:tg,toHtml:ic},wV=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=qe}=t;(Object.keys(fr.styles).length>0||oe.autoFetchSvg)&&ni&&oe.autoReplaceSvg&&wn.dom.i2svg({node:e})};function yd(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>ic(n))}}),Object.defineProperty(t,"node",{get:function(){if(!ni)return;const n=qe.createElement("div");return n.innerHTML=t.html,n.children}}),t}function EV(t){let{children:e,main:n,mask:r,attributes:i,styles:o,transform:a}=t;if(hy(a)&&n.found&&!r.found){const{width:c,height:f}=n,d={x:c/f/2,y:.5};i.style=md({...o,"transform-origin":"".concat(d.x+a.x/16,"em ").concat(d.y+a.y/16,"em")})}return[{tag:"svg",attributes:i,children:e}]}function TV(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:o}=t;const a=o===!0?"".concat(e,"-").concat(oe.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:a},children:r}]}]}function my(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:o,symbol:a,title:c,maskId:f,titleId:d,extra:g,watchable:v=!1}=t,{width:E,height:C}=n.found?n:e,R=r==="fak",b=[oe.replacementClass,i?"".concat(oe.cssPrefix,"-").concat(i):""].filter($=>g.classes.indexOf($)===-1).filter($=>$!==""||!!$).concat(g.classes).join(" ");let D={children:[],attributes:{...g.attributes,"data-prefix":r,"data-icon":i,class:b,role:g.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(E," ").concat(C)}};const P=R&&!~g.classes.indexOf("fa-fw")?{width:"".concat(E/C*16*.0625,"em")}:{};v&&(D.attributes[qs]=""),c&&(D.children.push({tag:"title",attributes:{id:D.attributes["aria-labelledby"]||"title-".concat(d||Du())},children:[c]}),delete D.attributes.title);const S={...D,prefix:r,iconName:i,main:e,mask:n,maskId:f,transform:o,symbol:a,styles:{...P,...g.styles}},{children:A,attributes:B}=n.found&&e.found?Qi("generateAbstractMask",S)||{children:[],attributes:{}}:Qi("generateAbstractIcon",S)||{children:[],attributes:{}};return S.children=A,S.attributes=B,a?TV(S):EV(S)}function Vw(t){const{content:e,width:n,height:r,transform:i,title:o,extra:a,watchable:c=!1}=t,f={...a.attributes,...o?{title:o}:{},class:a.classes.join(" ")};c&&(f[qs]="");const d={...a.styles};hy(i)&&(d.transform=eV({transform:i,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);const g=md(d);g.length>0&&(f.style=g);const v=[];return v.push({tag:"span",attributes:f,children:[e]}),o&&v.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),v}function IV(t){const{content:e,title:n,extra:r}=t,i={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},o=md(r.styles);o.length>0&&(i.style=o);const a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}const{styles:Ep}=fr;function ng(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(oe.cssPrefix,"-").concat(yp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(oe.cssPrefix,"-").concat(yp.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(oe.cssPrefix,"-").concat(yp.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const SV={found:!1,width:512,height:512};function PV(t,e){!aP&&!oe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function rg(t,e){let n=e;return e==="fa"&&oe.styleDefault!==null&&(e=Zi()),new Promise((r,i)=>{if(n==="fa"){const o=TP(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Ep[e]&&Ep[e][t]){const o=Ep[e][t];return r(ng(o))}PV(t,e),r({...SV,icon:oe.showMissingIcons&&t?Qi("missingIconAbstract")||{}:{}})})}const Fw=()=>{},ig=oe.measurePerformance&&fh&&fh.mark&&fh.measure?fh:{mark:Fw,measure:Fw},Hl='FA "6.6.0"',AV=t=>(ig.mark("".concat(Hl," ").concat(t," begins")),()=>SP(t)),SP=t=>{ig.mark("".concat(Hl," ").concat(t," ends")),ig.measure("".concat(Hl," ").concat(t),"".concat(Hl," ").concat(t," begins"),"".concat(Hl," ").concat(t," ends"))};var gy={begin:AV,end:SP};const Nh=()=>{};function zw(t){return typeof(t.getAttribute?t.getAttribute(qs):null)=="string"}function CV(t){const e=t.getAttribute?t.getAttribute(ly):null,n=t.getAttribute?t.getAttribute(uy):null;return e&&n}function xV(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(oe.replacementClass)}function kV(){return oe.autoReplaceSvg===!0?Mh.replace:Mh[oe.autoReplaceSvg]||Mh.replace}function RV(t){return qe.createElementNS("http://www.w3.org/2000/svg",t)}function bV(t){return qe.createElement(t)}function PP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?RV:bV}=e;if(typeof t=="string")return qe.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){r.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){r.appendChild(PP(o,{ceFn:n}))}),r}function LV(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Mh={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(PP(n),e)}),e.getAttribute(qs)===null&&oe.keepOriginalSource){let n=qe.createComment(LV(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~cy(e).indexOf(oe.replacementClass))return Mh.replace(t);const r=new RegExp("".concat(oe.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const o=n[0].attributes.class.split(" ").reduce((a,c)=>(c===oe.replacementClass||c.match(r)?a.toSvg.push(c):a.toNode.push(c),a),{toNode:[],toSvg:[]});n[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}const i=n.map(o=>ic(o)).join(`
`);e.setAttribute(qs,""),e.innerHTML=i}};function Uw(t){t()}function AP(t,e){const n=typeof e=="function"?e:Nh;if(t.length===0)n();else{let r=Uw;oe.mutateApproach===zD&&(r=Ki.requestAnimationFrame||Uw),r(()=>{const i=kV(),o=gy.begin("mutate");t.map(i),o(),n()})}}let _y=!1;function CP(){_y=!0}function sg(){_y=!1}let bf=null;function Bw(t){if(!kw||!oe.observeMutations)return;const{treeCallback:e=Nh,nodeCallback:n=Nh,pseudoElementsCallback:r=Nh,observeMutationsRoot:i=qe}=t;bf=new kw(o=>{if(_y)return;const a=Zi();za(o).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!zw(c.addedNodes[0])&&(oe.searchPseudoElements&&r(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&oe.searchPseudoElements&&r(c.target.parentNode),c.type==="attributes"&&zw(c.target)&&~$D.indexOf(c.attributeName))if(c.attributeName==="class"&&CV(c.target)){const{prefix:f,iconName:d}=_d(cy(c.target));c.target.setAttribute(ly,f||a),d&&c.target.setAttribute(uy,d)}else xV(c.target)&&n(c.target)})}),ni&&bf.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function OV(){bf&&bf.disconnect()}function NV(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const o=i.split(":"),a=o[0],c=o.slice(1);return a&&c.length>0&&(r[a]=c.join(":").trim()),r},{})),n}function MV(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=_d(cy(t));return i.prefix||(i.prefix=Zi()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=hV(i.prefix,t.innerText)||dy(i.prefix,Xm(t.innerText))),!i.iconName&&oe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function DV(t){const e=za(t.attributes).reduce((i,o)=>(i.name!=="class"&&i.name!=="style"&&(i[o.name]=o.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return oe.autoA11y&&(n?e["aria-labelledby"]="".concat(oe.replacementClass,"-title-").concat(r||Du()):(e["aria-hidden"]="true",e.focusable="false")),e}function VV(){return{iconName:null,title:null,titleId:null,prefix:null,transform:hr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function jw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=MV(t),o=DV(t),a=eg("parseNodeAttributes",{},t);let c=e.styleParser?NV(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:hr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:o},...a}}const{styles:FV}=fr;function xP(t){const e=oe.autoReplaceSvg==="nest"?jw(t,{styleParser:!1}):jw(t);return~e.extra.classes.indexOf(cP)?Qi("generateLayersText",t,e):Qi("generateSvgReplacementMutation",t,e)}let vr=new Set;lP.map(t=>{vr.add("fa-".concat(t))});Object.keys(Ls[Qe]).map(vr.add.bind(vr));Object.keys(Ls[dn]).map(vr.add.bind(vr));Object.keys(Ls[pn]).map(vr.add.bind(vr));vr=[...vr];function Ww(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ni)return Promise.resolve();const n=qe.documentElement.classList,r=g=>n.add("".concat(Lw,"-").concat(g)),i=g=>n.remove("".concat(Lw,"-").concat(g)),o=oe.autoFetchSvg?vr:lP.map(g=>"fa-".concat(g)).concat(Object.keys(FV));o.includes("fa")||o.push("fa");const a=[".".concat(cP,":not([").concat(qs,"])")].concat(o.map(g=>".".concat(g,":not([").concat(qs,"])"))).join(", ");if(a.length===0)return Promise.resolve();let c=[];try{c=za(t.querySelectorAll(a))}catch{}if(c.length>0)r("pending"),i("complete");else return Promise.resolve();const f=gy.begin("onTree"),d=c.reduce((g,v)=>{try{const E=xP(v);E&&g.push(E)}catch(E){aP||E.name==="MissingIcon"&&console.error(E)}return g},[]);return new Promise((g,v)=>{Promise.all(d).then(E=>{AP(E,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),f(),g()})}).catch(E=>{f(),v(E)})})}function zV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;xP(t).then(n=>{n&&AP([n],e)})}function UV(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:tg(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:tg(i||{})),t(r,{...n,mask:i})}}const BV=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=hr,symbol:r=!1,mask:i=null,maskId:o=null,title:a=null,titleId:c=null,classes:f=[],attributes:d={},styles:g={}}=e;if(!t)return;const{prefix:v,iconName:E,icon:C}=t;return yd({type:"icon",...t},()=>(Gs("beforeDOMElementCreation",{iconDefinition:t,params:e}),oe.autoA11y&&(a?d["aria-labelledby"]="".concat(oe.replacementClass,"-title-").concat(c||Du()):(d["aria-hidden"]="true",d.focusable="false")),my({icons:{main:ng(C),mask:i?ng(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:E,transform:{...hr,...n},symbol:r,title:a,maskId:o,titleId:c,extra:{attributes:d,styles:g,classes:f}})))};var jV={mixout(){return{icon:UV(BV)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=Ww,t.nodeCallback=zV,t}}},provides(t){t.i2svg=function(e){const{node:n=qe,callback:r=()=>{}}=e;return Ww(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:o,prefix:a,transform:c,symbol:f,mask:d,maskId:g,extra:v}=n;return new Promise((E,C)=>{Promise.all([rg(r,a),d.iconName?rg(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(R=>{let[b,D]=R;E([e,my({icons:{main:b,mask:D},prefix:a,iconName:r,transform:c,symbol:f,maskId:g,title:i,titleId:o,extra:v,watchable:!0})])}).catch(C)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:o,styles:a}=e;const c=md(a);c.length>0&&(r.style=c);let f;return hy(o)&&(f=Qi("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(f||i.icon),{children:n,attributes:r}}}},WV={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return yd({type:"layer"},()=>{Gs("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(o=>{r=r.concat(o.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(oe.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},HV={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:o={}}=e;return yd({type:"counter",content:t},()=>(Gs("beforeDOMElementCreation",{content:t,params:e}),IV({content:t.toString(),title:n,extra:{attributes:i,styles:o,classes:["".concat(oe.cssPrefix,"-layers-counter"),...r]}})))}}}},$V={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=hr,title:r=null,classes:i=[],attributes:o={},styles:a={}}=e;return yd({type:"text",content:t},()=>(Gs("beforeDOMElementCreation",{content:t,params:e}),Vw({content:t,transform:{...hr,...n},title:r,extra:{attributes:o,styles:a,classes:["".concat(oe.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:o}=n;let a=null,c=null;if(tP){const f=parseInt(getComputedStyle(e).fontSize,10),d=e.getBoundingClientRect();a=d.width/f,c=d.height/f}return oe.autoA11y&&!r&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,Vw({content:e.innerHTML,width:a,height:c,transform:i,title:r,extra:o,watchable:!0})])}}};const qV=new RegExp('"',"ug"),Hw=[1105920,1112319],$w={FontAwesome:{normal:"fas",400:"fas"},...CD,...AD,...MD},og=Object.keys($w).reduce((t,e)=>(t[e.toLowerCase()]=$w[e],t),{}),GV=Object.keys(og).reduce((t,e)=>{const n=og[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function KV(t){const e=t.replace(qV,""),n=sV(e,0),r=n>=Hw[0]&&n<=Hw[1],i=e.length===2?e[0]===e[1]:!1;return{value:Xm(i?e[0]:e),isSecondary:r||i}}function ZV(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(og[n]||{})[i]||GV[n]}function qw(t,e){const n="".concat(FD).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const a=za(t.children).filter(E=>E.getAttribute(Km)===e)[0],c=Ki.getComputedStyle(t,e),f=c.getPropertyValue("font-family"),d=f.match(WD),g=c.getPropertyValue("font-weight"),v=c.getPropertyValue("content");if(a&&!d)return t.removeChild(a),r();if(d&&v!=="none"&&v!==""){const E=c.getPropertyValue("content");let C=ZV(f,g);const{value:R,isSecondary:b}=KV(E),D=d[0].startsWith("FontAwesome");let P=dy(C,R),S=P;if(D){const A=fV(R);A.iconName&&A.prefix&&(P=A.iconName,C=A.prefix)}if(P&&!b&&(!a||a.getAttribute(ly)!==C||a.getAttribute(uy)!==S)){t.setAttribute(n,S),a&&t.removeChild(a);const A=VV(),{extra:B}=A;B.attributes[Km]=e,rg(P,C).then($=>{const X=my({...A,icons:{main:$,mask:py()},prefix:C,iconName:S,extra:B,watchable:!0}),x=qe.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(x,t.firstChild):t.appendChild(x),x.outerHTML=X.map(I=>ic(I)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function QV(t){return Promise.all([qw(t,"::before"),qw(t,"::after")])}function YV(t){return t.parentNode!==document.head&&!~UD.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Km)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function Gw(t){if(ni)return new Promise((e,n)=>{const r=za(t.querySelectorAll("*")).filter(YV).map(QV),i=gy.begin("searchPseudoElements");CP(),Promise.all(r).then(()=>{i(),sg(),e()}).catch(()=>{i(),sg(),n()})})}var XV={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=Gw,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=qe}=e;oe.searchPseudoElements&&Gw(n)}}};let Kw=!1;var JV={mixout(){return{dom:{unwatch(){CP(),Kw=!0}}}},hooks(){return{bootstrap(){Bw(eg("mutationObserverCallbacks",{}))},noAuto(){OV()},watch(t){const{observeMutationsRoot:e}=t;Kw?sg():Bw(eg("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const Zw=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),o=i[0];let a=i.slice(1).join("-");if(o&&a==="h")return n.flipX=!0,n;if(o&&a==="v")return n.flipY=!0,n;if(a=parseFloat(a),isNaN(a))return n;switch(o){case"grow":n.size=n.size+a;break;case"shrink":n.size=n.size-a;break;case"left":n.x=n.x-a;break;case"right":n.x=n.x+a;break;case"up":n.y=n.y-a;break;case"down":n.y=n.y+a;break;case"rotate":n.rotate=n.rotate+a;break}return n},e)};var eF={mixout(){return{parse:{transform:t=>Zw(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=Zw(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:o}=e;const a={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(r.x*32,", ").concat(r.y*32,") "),f="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),d="rotate(".concat(r.rotate," 0 0)"),g={transform:"".concat(c," ").concat(f," ").concat(d)},v={transform:"translate(".concat(o/2*-1," -256)")},E={outer:a,inner:g,path:v};return{tag:"g",attributes:{...E.outer},children:[{tag:"g",attributes:{...E.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,...E.path}}]}]}}}};const Tp={x:0,y:0,width:"100%",height:"100%"};function Qw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function tF(t){return t.tag==="g"?t.children:[t]}var nF={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?_d(n.split(" ").map(i=>i.trim())):py();return r.prefix||(r.prefix=Zi()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:o,maskId:a,transform:c}=e;const{width:f,icon:d}=i,{width:g,icon:v}=o,E=JD({transform:c,containerWidth:g,iconWidth:f}),C={tag:"rect",attributes:{...Tp,fill:"white"}},R=d.children?{children:d.children.map(Qw)}:{},b={tag:"g",attributes:{...E.inner},children:[Qw({tag:d.tag,attributes:{...d.attributes,...E.path},...R})]},D={tag:"g",attributes:{...E.outer},children:[b]},P="mask-".concat(a||Du()),S="clip-".concat(a||Du()),A={tag:"mask",attributes:{...Tp,id:P,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[C,D]},B={tag:"defs",children:[{tag:"clipPath",attributes:{id:S},children:tF(v)},A]};return n.push(B,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(S,")"),mask:"url(#".concat(P,")"),...Tp}}),{children:n,attributes:r}}}},rF={provides(t){let e=!1;Ki.matchMedia&&(e=Ki.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const o={...i,attributeName:"opacity"},a={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return e||a.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...o,values:"1;0;1;1;0;1;"}}),n.push(a),n.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...o,values:"1;0;0;0;0;1;"}}]}),e||n.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...o,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},iF={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},sF=[nV,jV,WV,HV,$V,XV,JV,eF,nF,rF,iF];gV(sF,{mixoutsTo:wn});wn.noAuto;wn.config;wn.library;wn.dom;const ag=wn.parse;wn.findIconDefinition;wn.toHtml;const oF=wn.icon;wn.layer;wn.text;wn.counter;var kP={exports:{}},aF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lF=aF,uF=lF;function RP(){}function bP(){}bP.resetWarningCache=RP;var cF=function(){function t(r,i,o,a,c,f){if(f!==uF){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:bP,resetWarningCache:RP};return n.PropTypes=n,n};kP.exports=cF();var hF=kP.exports;const Pe=pE(hF);function Yw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yw(Object(n),!0).forEach(function(r){Zo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function Zo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dF(t,e){if(t==null)return{};var n=fF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lg(t){return pF(t)||mF(t)||gF(t)||_F()}function pF(t){if(Array.isArray(t))return ug(t)}function mF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gF(t,e){if(t){if(typeof t=="string")return ug(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ug(t,e)}}function ug(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _F(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yF(t){var e,n=t.beat,r=t.fade,i=t.beatFade,o=t.bounce,a=t.shake,c=t.flash,f=t.spin,d=t.spinPulse,g=t.spinReverse,v=t.pulse,E=t.fixedWidth,C=t.inverse,R=t.border,b=t.listItem,D=t.flip,P=t.size,S=t.rotation,A=t.pull,B=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":o,"fa-shake":a,"fa-flash":c,"fa-spin":f,"fa-spin-reverse":g,"fa-spin-pulse":d,"fa-pulse":v,"fa-fw":E,"fa-inverse":C,"fa-border":R,"fa-li":b,"fa-flip":D===!0,"fa-flip-horizontal":D==="horizontal"||D==="both","fa-flip-vertical":D==="vertical"||D==="both"},Zo(e,"fa-".concat(P),typeof P<"u"&&P!==null),Zo(e,"fa-rotate-".concat(S),typeof S<"u"&&S!==null&&S!==0),Zo(e,"fa-pull-".concat(A),typeof A<"u"&&A!==null),Zo(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(B).map(function($){return B[$]?$:null}).filter(function($){return $})}function vF(t){return t=t-0,t===t}function LP(t){return vF(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var wF=["style"];function EF(t){return t.charAt(0).toUpperCase()+t.slice(1)}function TF(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=LP(n.slice(0,r)),o=n.slice(r+1).trim();return i.startsWith("webkit")?e[EF(i)]=o:e[i]=o,e},{})}function OP(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(f){return OP(t,f)}),i=Object.keys(e.attributes||{}).reduce(function(f,d){var g=e.attributes[d];switch(d){case"class":f.attrs.className=g,delete e.attributes.class;break;case"style":f.attrs.style=TF(g);break;default:d.indexOf("aria-")===0||d.indexOf("data-")===0?f.attrs[d.toLowerCase()]=g:f.attrs[LP(d)]=g}return f},{attrs:{}}),o=n.style,a=o===void 0?{}:o,c=dF(n,wF);return i.attrs.style=ur(ur({},i.attrs.style),a),t.apply(void 0,[e.tag,ur(ur({},i.attrs),c)].concat(lg(r)))}var NP=!1;try{NP=!0}catch{}function IF(){if(!NP&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function Xw(t){if(t&&Lf(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(ag.icon)return ag.icon(t);if(t===null)return null;if(t&&Lf(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Ip(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Zo({},t,e):{}}var Jw={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},yy=aa.forwardRef(function(t,e){var n=ur(ur({},Jw),t),r=n.icon,i=n.mask,o=n.symbol,a=n.className,c=n.title,f=n.titleId,d=n.maskId,g=Xw(r),v=Ip("classes",[].concat(lg(yF(n)),lg((a||"").split(" ")))),E=Ip("transform",typeof n.transform=="string"?ag.transform(n.transform):n.transform),C=Ip("mask",Xw(i)),R=oF(g,ur(ur(ur(ur({},v),E),C),{},{symbol:o,title:c,titleId:f,maskId:d}));if(!R)return IF("Could not find icon",g),null;var b=R.abstract,D={ref:e};return Object.keys(n).forEach(function(P){Jw.hasOwnProperty(P)||(D[P]=n[P])}),SF(b[0],D)});yy.displayName="FontAwesomeIcon";yy.propTypes={beat:Pe.bool,border:Pe.bool,beatFade:Pe.bool,bounce:Pe.bool,className:Pe.string,fade:Pe.bool,flash:Pe.bool,mask:Pe.oneOfType([Pe.object,Pe.array,Pe.string]),maskId:Pe.string,fixedWidth:Pe.bool,inverse:Pe.bool,flip:Pe.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Pe.oneOfType([Pe.object,Pe.array,Pe.string]),listItem:Pe.bool,pull:Pe.oneOf(["right","left"]),pulse:Pe.bool,rotation:Pe.oneOf([0,90,180,270]),shake:Pe.bool,size:Pe.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Pe.bool,spinPulse:Pe.bool,spinReverse:Pe.bool,symbol:Pe.oneOfType([Pe.bool,Pe.string]),title:Pe.string,titleId:Pe.string,transform:Pe.oneOfType([Pe.string,Pe.object]),swapOpacity:Pe.bool};var SF=OP.bind(null,aa.createElement);function PF(){const[t,e]=G.useState(""),[n,r]=G.useState(""),[i,o]=G.useState(null),[a,c]=G.useState(!1),f=Fa(),d=async v=>{v.preventDefault(),o(null);try{await $b(Ia,t,n),alert("Sign-in successful!"),f("/welcome",{state:{email:t}})}catch(E){o(E.message)}},g=async()=>{try{await wM(),alert("Google sign-in successful!"),f("/welcome",{state:{email:Ia.currentUser.email}})}catch(v){o(v.message)}};return Q.jsxs("div",{className:"flex h-screen",children:[Q.jsx("div",{className:"left w-[50%] h-full bg-black flex justify-center items-center",children:Q.jsx("h1",{className:"text-white font-bold text-2xl",children:"Welcome to the Mapfolio"})}),Q.jsxs("div",{className:"right w-[50%] h-full flex flex-col justify-center items-center",children:[Q.jsx("h1",{className:"font-extrabold text-2xl",children:"Sign in to your account"}),Q.jsxs("h2",{className:"mb-[20px]",children:["Don't have an account?"," ",Q.jsx(YS,{to:"/register",className:"text-blue-500 underline",children:"Register"})]}),Q.jsxs("div",{className:"login flex flex-col",children:[i&&Q.jsx("p",{style:{color:"red"},children:i}),Q.jsx("label",{htmlFor:"email",children:"Email"}),Q.jsx("input",{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:v=>e(v.target.value),className:"group w-[300px] h-[30px] mt-[10px] mb-[20px] border p-[20px] rounded-md"}),Q.jsxs("div",{className:"flex flex-col relative",children:[Q.jsx("label",{htmlFor:"password",children:"Password"}),Q.jsx("input",{id:"password",type:a?"text":"password",placeholder:"Enter your password",value:n,onChange:v=>r(v.target.value),className:"w-[300px] h-[30px] mt-[10px] border p-[20px] rounded-md"})]}),Q.jsxs("button",{onClick:g,className:"flex items-center justify-center text-white bg-black mt-[20px] h-[40px] p-2 rounded-sm","aria-label":"Sign in with Google",children:[Q.jsx("i",{className:"fab fa-google mr-2"}),"Sign in with Google"]}),Q.jsx("button",{onClick:d,className:"text-white bg-black mt-[20px] h-[40px] p-2 rounded-sm",children:"Sign in"})]})]})]})}function AF(){const[t,e]=G.useState(""),[n,r]=G.useState(""),[i,o]=G.useState(""),[a,c]=G.useState(null),f=Fa(),d=async g=>{if(g.preventDefault(),c(null),n!==i){c("Passwords do not match!");return}try{await Hb(Ia,t,n),f("/welcome",{state:{email:Ia.currentUser.email}}),alert("User registered successfully!")}catch(v){c(v.message)}};return Q.jsxs("div",{className:"flex h-screen",children:[Q.jsx("div",{className:"left w-[50%] h-full bg-black flex justify-center items-center",children:Q.jsx("h1",{className:"text-white font-bold text-2xl",children:"Welcome to the Mapfolio"})}),Q.jsxs("div",{className:"right w-[50%] h-full flex flex-col justify-center items-center",children:[Q.jsx("h1",{className:"font-extrabold text-2xl",children:"Create your account"}),Q.jsxs("h2",{className:"mb-[20px]",children:["Already have an account?"," ",Q.jsx(YS,{to:"/login",className:"text-blue-500 underline",children:"Login"})]}),Q.jsxs("div",{className:"register flex flex-col",children:[a&&Q.jsx("p",{style:{color:"red"},children:a}),Q.jsx("label",{htmlFor:"email",children:"Email"}),Q.jsx("input",{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:g=>e(g.target.value),className:"group w-[300px] h-[30px] mt-[10px] mb-[20px] border p-[20px] rounded-md"}),Q.jsx("label",{htmlFor:"password",children:"Password"}),Q.jsx("input",{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:g=>r(g.target.value),className:"w-[300px] h-[30px] mt-[10px] border p-[20px] rounded-md"}),Q.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Q.jsx("input",{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:i,onChange:g=>o(g.target.value),className:"w-[300px] h-[30px] mt-[10px] mb-[20px] border p-[20px] rounded-md"}),Q.jsx("button",{onClick:d,className:"text-white bg-black mt-[20px] h-[40px] p-2 rounded-sm",children:"Sign Up"})]})]})]})}function CF(){const t=Fa(),e=()=>{t("/login")};return Q.jsx("div",{className:"bg-black",children:Q.jsxs("div",{className:"flex flex-col h-screen items-center justify-center top-[50%] text-center gap-5 w-full",children:[Q.jsxs("h1",{className:" text-blue-50 font-bold text-3xl",children:[" ","You travel the World"]}),Q.jsx("h2",{className:" text-blue-50 font-bold text-3xl",children:"Mapfolio Let we track you adventure"}),Q.jsx("h3",{className:"text-gray-400 font-medium text-xl w-[900px]",children:"A world map that tracks your footsteps into every city you can think of. Never forget your wonderful experiences, and show your friends how you have wandered the world"}),Q.jsx("button",{className:"w-[120px] p-[10px] rounded-md bg-green-600",onClick:e,children:"GetStarted"})]})})}function xF({children:t}){return Ia.currentUser?t:Q.jsx(lD,{to:"/login"})}function MP(t,e){return function(){return t.apply(e,arguments)}}const{toString:kF}=Object.prototype,{getPrototypeOf:vy}=Object,vd=(t=>e=>{const n=kF.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),er=t=>(t=t.toLowerCase(),e=>vd(e)===t),wd=t=>e=>typeof e===t,{isArray:Ua}=Array,Vu=wd("undefined");function RF(t){return t!==null&&!Vu(t)&&t.constructor!==null&&!Vu(t.constructor)&&mn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const DP=er("ArrayBuffer");function bF(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&DP(t.buffer),e}const LF=wd("string"),mn=wd("function"),VP=wd("number"),Ed=t=>t!==null&&typeof t=="object",OF=t=>t===!0||t===!1,Dh=t=>{if(vd(t)!=="object")return!1;const e=vy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},NF=er("Date"),MF=er("File"),DF=er("Blob"),VF=er("FileList"),FF=t=>Ed(t)&&mn(t.pipe),zF=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mn(t.append)&&((e=vd(t))==="formdata"||e==="object"&&mn(t.toString)&&t.toString()==="[object FormData]"))},UF=er("URLSearchParams"),[BF,jF,WF,HF]=["ReadableStream","Request","Response","Headers"].map(er),$F=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ua(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let c;for(r=0;r<a;r++)c=o[r],e.call(null,t[c],c,t)}}function FP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const xs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zP=t=>!Vu(t)&&t!==xs;function cg(){const{caseless:t}=zP(this)&&this||{},e={},n=(r,i)=>{const o=t&&FP(e,i)||i;Dh(e[o])&&Dh(r)?e[o]=cg(e[o],r):Dh(r)?e[o]=cg({},r):Ua(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&sc(arguments[r],n);return e}const qF=(t,e,n,{allOwnKeys:r}={})=>(sc(e,(i,o)=>{n&&mn(i)?t[o]=MP(i,n):t[o]=i},{allOwnKeys:r}),t),GF=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),KF=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ZF=(t,e,n,r)=>{let i,o,a;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!r||r(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&vy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},QF=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},YF=t=>{if(!t)return null;if(Ua(t))return t;let e=t.length;if(!VP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},XF=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&vy(Uint8Array)),JF=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},e4=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},t4=er("HTMLFormElement"),n4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),eE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),r4=er("RegExp"),UP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};sc(n,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(r[o]=a||i)}),Object.defineProperties(t,r)},i4=t=>{UP(t,(e,n)=>{if(mn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(mn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},s4=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Ua(t)?r(t):r(String(t).split(e)),n},o4=()=>{},a4=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Sp="abcdefghijklmnopqrstuvwxyz",tE="0123456789",BP={DIGIT:tE,ALPHA:Sp,ALPHA_DIGIT:Sp+Sp.toUpperCase()+tE},l4=(t=16,e=BP.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function u4(t){return!!(t&&mn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const c4=t=>{const e=new Array(10),n=(r,i)=>{if(Ed(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Ua(r)?[]:{};return sc(r,(a,c)=>{const f=n(a,i+1);!Vu(f)&&(o[c]=f)}),e[i]=void 0,o}}return r};return n(t,0)},h4=er("AsyncFunction"),f4=t=>t&&(Ed(t)||mn(t))&&mn(t.then)&&mn(t.catch),jP=((t,e)=>t?setImmediate:e?((n,r)=>(xs.addEventListener("message",({source:i,data:o})=>{i===xs&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),xs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",mn(xs.postMessage)),d4=typeof queueMicrotask<"u"?queueMicrotask.bind(xs):typeof process<"u"&&process.nextTick||jP,H={isArray:Ua,isArrayBuffer:DP,isBuffer:RF,isFormData:zF,isArrayBufferView:bF,isString:LF,isNumber:VP,isBoolean:OF,isObject:Ed,isPlainObject:Dh,isReadableStream:BF,isRequest:jF,isResponse:WF,isHeaders:HF,isUndefined:Vu,isDate:NF,isFile:MF,isBlob:DF,isRegExp:r4,isFunction:mn,isStream:FF,isURLSearchParams:UF,isTypedArray:XF,isFileList:VF,forEach:sc,merge:cg,extend:qF,trim:$F,stripBOM:GF,inherits:KF,toFlatObject:ZF,kindOf:vd,kindOfTest:er,endsWith:QF,toArray:YF,forEachEntry:JF,matchAll:e4,isHTMLForm:t4,hasOwnProperty:eE,hasOwnProp:eE,reduceDescriptors:UP,freezeMethods:i4,toObjectSet:s4,toCamelCase:n4,noop:o4,toFiniteNumber:a4,findKey:FP,global:xs,isContextDefined:zP,ALPHABET:BP,generateString:l4,isSpecCompliantForm:u4,toJSONObject:c4,isAsyncFn:h4,isThenable:f4,setImmediate:jP,asap:d4};function Ee(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}H.inherits(Ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const WP=Ee.prototype,HP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{HP[t]={value:t}});Object.defineProperties(Ee,HP);Object.defineProperty(WP,"isAxiosError",{value:!0});Ee.from=(t,e,n,r,i,o)=>{const a=Object.create(WP);return H.toFlatObject(t,a,function(f){return f!==Error.prototype},c=>c!=="isAxiosError"),Ee.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const p4=null;function hg(t){return H.isPlainObject(t)||H.isArray(t)}function $P(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function nE(t,e,n){return t?t.concat(e).map(function(i,o){return i=$P(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function m4(t){return H.isArray(t)&&!t.some(hg)}const g4=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Td(t,e,n){if(!H.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,D){return!H.isUndefined(D[b])});const r=n.metaTokens,i=n.visitor||g,o=n.dots,a=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(i))throw new TypeError("visitor must be a function");function d(R){if(R===null)return"";if(H.isDate(R))return R.toISOString();if(!f&&H.isBlob(R))throw new Ee("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(R)||H.isTypedArray(R)?f&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function g(R,b,D){let P=R;if(R&&!D&&typeof R=="object"){if(H.endsWith(b,"{}"))b=r?b:b.slice(0,-2),R=JSON.stringify(R);else if(H.isArray(R)&&m4(R)||(H.isFileList(R)||H.endsWith(b,"[]"))&&(P=H.toArray(R)))return b=$P(b),P.forEach(function(A,B){!(H.isUndefined(A)||A===null)&&e.append(a===!0?nE([b],B,o):a===null?b:b+"[]",d(A))}),!1}return hg(R)?!0:(e.append(nE(D,b,o),d(R)),!1)}const v=[],E=Object.assign(g4,{defaultVisitor:g,convertValue:d,isVisitable:hg});function C(R,b){if(!H.isUndefined(R)){if(v.indexOf(R)!==-1)throw Error("Circular reference detected in "+b.join("."));v.push(R),H.forEach(R,function(P,S){(!(H.isUndefined(P)||P===null)&&i.call(e,P,H.isString(S)?S.trim():S,b,E))===!0&&C(P,b?b.concat(S):[S])}),v.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return C(t),e}function rE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function wy(t,e){this._pairs=[],t&&Td(t,this,e)}const qP=wy.prototype;qP.append=function(e,n){this._pairs.push([e,n])};qP.toString=function(e){const n=e?function(r){return e.call(this,r,rE)}:rE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function _4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function GP(t,e,n){if(!e)return t;const r=n&&n.encode||_4;H.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=H.isURLSearchParams(e)?e.toString():new wy(e,n).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class iE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(r){r!==null&&e(r)})}}const KP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},y4=typeof URLSearchParams<"u"?URLSearchParams:wy,v4=typeof FormData<"u"?FormData:null,w4=typeof Blob<"u"?Blob:null,E4={isBrowser:!0,classes:{URLSearchParams:y4,FormData:v4,Blob:w4},protocols:["http","https","file","blob","url","data"]},Ey=typeof window<"u"&&typeof document<"u",fg=typeof navigator=="object"&&navigator||void 0,T4=Ey&&(!fg||["ReactNative","NativeScript","NS"].indexOf(fg.product)<0),I4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",S4=Ey&&window.location.href||"http://localhost",P4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ey,hasStandardBrowserEnv:T4,hasStandardBrowserWebWorkerEnv:I4,navigator:fg,origin:S4},Symbol.toStringTag,{value:"Module"})),jt={...P4,...E4};function A4(t,e){return Td(t,new jt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return jt.isNode&&H.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function C4(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function x4(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function ZP(t){function e(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),f=o>=n.length;return a=!a&&H.isArray(i)?i.length:a,f?(H.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!c):((!i[a]||!H.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],o)&&H.isArray(i[a])&&(i[a]=x4(i[a])),!c)}if(H.isFormData(t)&&H.isFunction(t.entries)){const n={};return H.forEachEntry(t,(r,i)=>{e(C4(r),i,n,0)}),n}return null}function k4(t,e,n){if(H.isString(t))try{return(e||JSON.parse)(t),H.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const oc={transitional:KP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=H.isObject(e);if(o&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return i?JSON.stringify(ZP(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return A4(e,this.formSerializer).toString();if((c=H.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Td(c?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),k4(e)):e}],transformResponse:[function(e){const n=this.transitional||oc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?Ee.from(c,Ee.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jt.classes.FormData,Blob:jt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{oc.headers[t]={}});const R4=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),b4=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&R4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},sE=Symbol("internals");function Ol(t){return t&&String(t).trim().toLowerCase()}function Vh(t){return t===!1||t==null?t:H.isArray(t)?t.map(Vh):String(t)}function L4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const O4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Pp(t,e,n,r,i){if(H.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!H.isString(e)){if(H.isString(r))return e.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(e)}}function N4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function M4(t,e){const n=H.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,a){return this[r].call(this,e,i,o,a)},configurable:!0})})}class on{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(c,f,d){const g=Ol(f);if(!g)throw new Error("header name must be a non-empty string");const v=H.findKey(i,g);(!v||i[v]===void 0||d===!0||d===void 0&&i[v]!==!1)&&(i[v||f]=Vh(c))}const a=(c,f)=>H.forEach(c,(d,g)=>o(d,g,f));if(H.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(H.isString(e)&&(e=e.trim())&&!O4(e))a(b4(e),n);else if(H.isHeaders(e))for(const[c,f]of e.entries())o(f,c,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Ol(e),e){const r=H.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return L4(i);if(H.isFunction(n))return n.call(this,i,r);if(H.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ol(e),e){const r=H.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Pp(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(a){if(a=Ol(a),a){const c=H.findKey(r,a);c&&(!n||Pp(r,r[c],c,n))&&(delete r[c],i=!0)}}return H.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Pp(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return H.forEach(this,(i,o)=>{const a=H.findKey(r,o);if(a){n[a]=Vh(i),delete n[o];return}const c=e?N4(o):String(o).trim();c!==o&&delete n[o],n[c]=Vh(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return H.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&H.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[sE]=this[sE]={accessors:{}}).accessors,i=this.prototype;function o(a){const c=Ol(a);r[c]||(M4(i,a),r[c]=!0)}return H.isArray(e)?e.forEach(o):o(e),this}}on.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(on.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});H.freezeMethods(on);function Ap(t,e){const n=this||oc,r=e||n,i=on.from(r.headers);let o=r.data;return H.forEach(t,function(c){o=c.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function QP(t){return!!(t&&t.__CANCEL__)}function Ba(t,e,n){Ee.call(this,t??"canceled",Ee.ERR_CANCELED,e,n),this.name="CanceledError"}H.inherits(Ba,Ee,{__CANCEL__:!0});function YP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ee("Request failed with status code "+n.status,[Ee.ERR_BAD_REQUEST,Ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function D4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function V4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),g=r[o];a||(a=d),n[i]=f,r[i]=d;let v=o,E=0;for(;v!==i;)E+=n[v++],v=v%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),d-a<e)return;const C=g&&d-g;return C?Math.round(E*1e3/C):void 0}}function F4(t,e){let n=0,r=1e3/e,i,o;const a=(d,g=Date.now())=>{n=g,i=null,o&&(clearTimeout(o),o=null),t.apply(null,d)};return[(...d)=>{const g=Date.now(),v=g-n;v>=r?a(d,g):(i=d,o||(o=setTimeout(()=>{o=null,a(i)},r-v)))},()=>i&&a(i)]}const Of=(t,e,n=3)=>{let r=0;const i=V4(50,250);return F4(o=>{const a=o.loaded,c=o.lengthComputable?o.total:void 0,f=a-r,d=i(f),g=a<=c;r=a;const v={loaded:a,total:c,progress:c?a/c:void 0,bytes:f,rate:d||void 0,estimated:d&&c&&g?(c-a)/d:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(v)},n)},oE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},aE=t=>(...e)=>H.asap(()=>t(...e)),z4=jt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,jt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(jt.origin),jt.navigator&&/(msie|trident)/i.test(jt.navigator.userAgent)):()=>!0,U4=jt.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const a=[t+"="+encodeURIComponent(e)];H.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),H.isString(r)&&a.push("path="+r),H.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function B4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function j4(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function XP(t,e){return t&&!B4(e)?j4(t,e):e}const lE=t=>t instanceof on?{...t}:t;function Ks(t,e){e=e||{};const n={};function r(d,g,v,E){return H.isPlainObject(d)&&H.isPlainObject(g)?H.merge.call({caseless:E},d,g):H.isPlainObject(g)?H.merge({},g):H.isArray(g)?g.slice():g}function i(d,g,v,E){if(H.isUndefined(g)){if(!H.isUndefined(d))return r(void 0,d,v,E)}else return r(d,g,v,E)}function o(d,g){if(!H.isUndefined(g))return r(void 0,g)}function a(d,g){if(H.isUndefined(g)){if(!H.isUndefined(d))return r(void 0,d)}else return r(void 0,g)}function c(d,g,v){if(v in e)return r(d,g);if(v in t)return r(void 0,d)}const f={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(d,g,v)=>i(lE(d),lE(g),v,!0)};return H.forEach(Object.keys(Object.assign({},t,e)),function(g){const v=f[g]||i,E=v(t[g],e[g],g);H.isUndefined(E)&&v!==c||(n[g]=E)}),n}const JP=t=>{const e=Ks({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:c}=e;e.headers=a=on.from(a),e.url=GP(XP(e.baseURL,e.url),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let f;if(H.isFormData(n)){if(jt.hasStandardBrowserEnv||jt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((f=a.getContentType())!==!1){const[d,...g]=f?f.split(";").map(v=>v.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...g].join("; "))}}if(jt.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(e)),r||r!==!1&&z4(e.url))){const d=i&&o&&U4.read(o);d&&a.set(i,d)}return e},W4=typeof XMLHttpRequest<"u",H4=W4&&function(t){return new Promise(function(n,r){const i=JP(t);let o=i.data;const a=on.from(i.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:d}=i,g,v,E,C,R;function b(){C&&C(),R&&R(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let D=new XMLHttpRequest;D.open(i.method.toUpperCase(),i.url,!0),D.timeout=i.timeout;function P(){if(!D)return;const A=on.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),$={data:!c||c==="text"||c==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:A,config:t,request:D};YP(function(x){n(x),b()},function(x){r(x),b()},$),D=null}"onloadend"in D?D.onloadend=P:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(P)},D.onabort=function(){D&&(r(new Ee("Request aborted",Ee.ECONNABORTED,t,D)),D=null)},D.onerror=function(){r(new Ee("Network Error",Ee.ERR_NETWORK,t,D)),D=null},D.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const $=i.transitional||KP;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),r(new Ee(B,$.clarifyTimeoutError?Ee.ETIMEDOUT:Ee.ECONNABORTED,t,D)),D=null},o===void 0&&a.setContentType(null),"setRequestHeader"in D&&H.forEach(a.toJSON(),function(B,$){D.setRequestHeader($,B)}),H.isUndefined(i.withCredentials)||(D.withCredentials=!!i.withCredentials),c&&c!=="json"&&(D.responseType=i.responseType),d&&([E,R]=Of(d,!0),D.addEventListener("progress",E)),f&&D.upload&&([v,C]=Of(f),D.upload.addEventListener("progress",v),D.upload.addEventListener("loadend",C)),(i.cancelToken||i.signal)&&(g=A=>{D&&(r(!A||A.type?new Ba(null,t,D):A),D.abort(),D=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const S=D4(i.url);if(S&&jt.protocols.indexOf(S)===-1){r(new Ee("Unsupported protocol "+S+":",Ee.ERR_BAD_REQUEST,t));return}D.send(o||null)})},$4=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(d){if(!i){i=!0,c();const g=d instanceof Error?d:this.reason;r.abort(g instanceof Ee?g:new Ba(g instanceof Error?g.message:g))}};let a=e&&setTimeout(()=>{a=null,o(new Ee(`timeout ${e} of ms exceeded`,Ee.ETIMEDOUT))},e);const c=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),t=null)};t.forEach(d=>d.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>H.asap(c),f}},q4=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},G4=async function*(t,e){for await(const n of K4(t))yield*q4(n,e)},K4=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},uE=(t,e,n,r)=>{const i=G4(t,e);let o=0,a,c=f=>{a||(a=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:d,value:g}=await i.next();if(d){c(),f.close();return}let v=g.byteLength;if(n){let E=o+=v;n(E)}f.enqueue(new Uint8Array(g))}catch(d){throw c(d),d}},cancel(f){return c(f),i.return()}},{highWaterMark:2})},Id=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",eA=Id&&typeof ReadableStream=="function",Z4=Id&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),tA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Q4=eA&&tA(()=>{let t=!1;const e=new Request(jt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),cE=64*1024,dg=eA&&tA(()=>H.isReadableStream(new Response("").body)),Nf={stream:dg&&(t=>t.body)};Id&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Nf[e]&&(Nf[e]=H.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ee(`Response type '${e}' is not supported`,Ee.ERR_NOT_SUPPORT,r)})})})(new Response);const Y4=async t=>{if(t==null)return 0;if(H.isBlob(t))return t.size;if(H.isSpecCompliantForm(t))return(await new Request(jt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(H.isArrayBufferView(t)||H.isArrayBuffer(t))return t.byteLength;if(H.isURLSearchParams(t)&&(t=t+""),H.isString(t))return(await Z4(t)).byteLength},X4=async(t,e)=>{const n=H.toFiniteNumber(t.getContentLength());return n??Y4(e)},J4=Id&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:c,onUploadProgress:f,responseType:d,headers:g,withCredentials:v="same-origin",fetchOptions:E}=JP(t);d=d?(d+"").toLowerCase():"text";let C=$4([i,o&&o.toAbortSignal()],a),R;const b=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let D;try{if(f&&Q4&&n!=="get"&&n!=="head"&&(D=await X4(g,r))!==0){let $=new Request(e,{method:"POST",body:r,duplex:"half"}),X;if(H.isFormData(r)&&(X=$.headers.get("content-type"))&&g.setContentType(X),$.body){const[x,I]=oE(D,Of(aE(f)));r=uE($.body,cE,x,I)}}H.isString(v)||(v=v?"include":"omit");const P="credentials"in Request.prototype;R=new Request(e,{...E,signal:C,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:P?v:void 0});let S=await fetch(R);const A=dg&&(d==="stream"||d==="response");if(dg&&(c||A&&b)){const $={};["status","statusText","headers"].forEach(k=>{$[k]=S[k]});const X=H.toFiniteNumber(S.headers.get("content-length")),[x,I]=c&&oE(X,Of(aE(c),!0))||[];S=new Response(uE(S.body,cE,x,()=>{I&&I(),b&&b()}),$)}d=d||"text";let B=await Nf[H.findKey(Nf,d)||"text"](S,t);return!A&&b&&b(),await new Promise(($,X)=>{YP($,X,{data:B,headers:on.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:R})})}catch(P){throw b&&b(),P&&P.name==="TypeError"&&/fetch/i.test(P.message)?Object.assign(new Ee("Network Error",Ee.ERR_NETWORK,t,R),{cause:P.cause||P}):Ee.from(P,P&&P.code,t,R)}}),pg={http:p4,xhr:H4,fetch:J4};H.forEach(pg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hE=t=>`- ${t}`,ez=t=>H.isFunction(t)||t===null||t===!1,nA={getAdapter:t=>{t=H.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let a;if(r=n,!ez(n)&&(r=pg[(a=String(n)).toLowerCase()],r===void 0))throw new Ee(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(hE).join(`
`):" "+hE(o[0]):"as no adapter specified";throw new Ee("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:pg};function Cp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ba(null,t)}function fE(t){return Cp(t),t.headers=on.from(t.headers),t.data=Ap.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),nA.getAdapter(t.adapter||oc.adapter)(t).then(function(r){return Cp(t),r.data=Ap.call(t,t.transformResponse,r),r.headers=on.from(r.headers),r},function(r){return QP(r)||(Cp(t),r&&r.response&&(r.response.data=Ap.call(t,t.transformResponse,r.response),r.response.headers=on.from(r.response.headers))),Promise.reject(r)})}const rA="1.7.9",Sd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Sd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const dE={};Sd.transitional=function(e,n,r){function i(o,a){return"[Axios v"+rA+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,c)=>{if(e===!1)throw new Ee(i(a," has been removed"+(n?" in "+n:"")),Ee.ERR_DEPRECATED);return n&&!dE[a]&&(dE[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,c):!0}};Sd.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function tz(t,e,n){if(typeof t!="object")throw new Ee("options must be an object",Ee.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const c=t[o],f=c===void 0||a(c,o,t);if(f!==!0)throw new Ee("option "+o+" must be "+f,Ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ee("Unknown option "+o,Ee.ERR_BAD_OPTION)}}const Fh={assertOptions:tz,validators:Sd},ar=Fh.validators;class Ns{constructor(e){this.defaults=e,this.interceptors={request:new iE,response:new iE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ks(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Fh.assertOptions(r,{silentJSONParsing:ar.transitional(ar.boolean),forcedJSONParsing:ar.transitional(ar.boolean),clarifyTimeoutError:ar.transitional(ar.boolean)},!1),i!=null&&(H.isFunction(i)?n.paramsSerializer={serialize:i}:Fh.assertOptions(i,{encode:ar.function,serialize:ar.function},!0)),Fh.assertOptions(n,{baseUrl:ar.spelling("baseURL"),withXsrfToken:ar.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&H.merge(o.common,o[n.method]);o&&H.forEach(["delete","get","head","post","put","patch","common"],R=>{delete o[R]}),n.headers=on.concat(a,o);const c=[];let f=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(f=f&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let g,v=0,E;if(!f){const R=[fE.bind(this),void 0];for(R.unshift.apply(R,c),R.push.apply(R,d),E=R.length,g=Promise.resolve(n);v<E;)g=g.then(R[v++],R[v++]);return g}E=c.length;let C=n;for(v=0;v<E;){const R=c[v++],b=c[v++];try{C=R(C)}catch(D){b.call(this,D);break}}try{g=fE.call(this,C)}catch(R){return Promise.reject(R)}for(v=0,E=d.length;v<E;)g=g.then(d[v++],d[v++]);return g}getUri(e){e=Ks(this.defaults,e);const n=XP(e.baseURL,e.url);return GP(n,e.params,e.paramsSerializer)}}H.forEach(["delete","get","head","options"],function(e){Ns.prototype[e]=function(n,r){return this.request(Ks(r||{},{method:e,url:n,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(e){function n(r){return function(o,a,c){return this.request(Ks(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Ns.prototype[e]=n(),Ns.prototype[e+"Form"]=n(!0)});class Ty{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(c=>{r.subscribe(c),o=c}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,c){r.reason||(r.reason=new Ba(o,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Ty(function(i){e=i}),cancel:e}}}function nz(t){return function(n){return t.apply(null,n)}}function rz(t){return H.isObject(t)&&t.isAxiosError===!0}const mg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mg).forEach(([t,e])=>{mg[e]=t});function iA(t){const e=new Ns(t),n=MP(Ns.prototype.request,e);return H.extend(n,Ns.prototype,e,{allOwnKeys:!0}),H.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return iA(Ks(t,i))},n}const ct=iA(oc);ct.Axios=Ns;ct.CanceledError=Ba;ct.CancelToken=Ty;ct.isCancel=QP;ct.VERSION=rA;ct.toFormData=Td;ct.AxiosError=Ee;ct.Cancel=ct.CanceledError;ct.all=function(e){return Promise.all(e)};ct.spread=nz;ct.isAxiosError=rz;ct.mergeConfig=Ks;ct.AxiosHeaders=on;ct.formToJSON=t=>ZP(H.isHTMLForm(t)?new FormData(t):t);ct.getAdapter=nA.getAdapter;ct.HttpStatusCode=mg;ct.default=ct;const iz={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},sz=iz;function sA(t,e){const n=G.useRef(e);G.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const oz=1;function az(t){return Object.freeze({__version:oz,map:t})}function lz(t,e){return Object.freeze({...t,...e})}const oA=G.createContext(null),aA=oA.Provider;function Iy(){const t=G.useContext(oA);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function uz(t){function e(n,r){const{instance:i,context:o}=t(n).current;return G.useImperativeHandle(r,()=>i),n.children==null?null:aa.createElement(aA,{value:o},n.children)}return G.forwardRef(e)}function cz(t){function e(n,r){const[i,o]=G.useState(!1),{instance:a}=t(n,o).current;G.useImperativeHandle(r,()=>a),G.useEffect(function(){i&&a.update()},[a,i,n.children]);const c=a._contentNode;return c?C1.createPortal(n.children,c):null}return G.forwardRef(e)}function hz(t){function e(n,r){const{instance:i}=t(n).current;return G.useImperativeHandle(r,()=>i),null}return G.forwardRef(e)}function lA(t,e){const n=G.useRef();G.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Sy(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function fz(t,e){return function(r,i){const o=Iy(),a=t(Sy(r,o),o);return sA(o.map,r.attribution),lA(a.current,r.eventHandlers),e(a.current,o,r,i),a}}var gg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(UA,function(n){var r="1.9.4";function i(s){var l,h,p,_;for(h=1,p=arguments.length;h<p;h++){_=arguments[h];for(l in _)s[l]=_[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var p=h.call(arguments,2);return function(){return s.apply(l,p.length?p.concat(h.call(arguments)):arguments)}}var c=0;function f(s){return"_leaflet_id"in s||(s._leaflet_id=++c),s._leaflet_id}function d(s,l,h){var p,_,w,O;return O=function(){p=!1,_&&(w.apply(h,_),_=!1)},w=function(){p?_=arguments:(s.apply(h,arguments),setTimeout(O,l),p=!0)},w}function g(s,l,h){var p=l[1],_=l[0],w=p-_;return s===p&&h?s:((s-_)%w+w)%w+_}function v(){return!1}function E(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function C(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function R(s){return C(s).split(/\s+/)}function b(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function D(s,l,h){var p=[];for(var _ in s)p.push(encodeURIComponent(h?_.toUpperCase():_)+"="+encodeURIComponent(s[_]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function S(s,l){return s.replace(P,function(h,p){var _=l[p];if(_===void 0)throw new Error("No value provided for variable "+h);return typeof _=="function"&&(_=_(l)),_})}var A=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function B(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function X(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var x=0;function I(s){var l=+new Date,h=Math.max(0,16-(l-x));return x=l+h,window.setTimeout(s,h)}var k=window.requestAnimationFrame||X("RequestAnimationFrame")||I,N=window.cancelAnimationFrame||X("CancelAnimationFrame")||X("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function V(s,l,h){if(h&&k===I)s.call(l);else return k.call(window,a(s,l))}function F(s){s&&N.call(window,s)}var M={__proto__:null,extend:i,create:o,bind:a,get lastId(){return c},stamp:f,throttle:d,wrapNum:g,falseFn:v,formatNum:E,trim:C,splitWords:R,setOptions:b,getParamString:D,template:S,isArray:A,indexOf:B,emptyImageUrl:$,requestFn:k,cancelFn:N,requestAnimFrame:V,cancelAnimFrame:F};function rt(){}rt.extend=function(s){var l=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,p=o(h);p.constructor=l,l.prototype=p;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(l[_]=this[_]);return s.statics&&i(l,s.statics),s.includes&&(wr(s.includes),i.apply(null,[p].concat(s.includes))),i(p,s),delete p.statics,delete p.includes,p.options&&(p.options=h.options?o(h.options):{},i(p.options,s.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,O=p._initHooks.length;w<O;w++)p._initHooks[w].call(this)}},l},rt.include=function(s){var l=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},rt.mergeOptions=function(s){return i(this.prototype.options,s),this},rt.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function wr(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=A(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var _t={on:function(s,l,h){if(typeof s=="object")for(var p in s)this._on(p,s[p],l);else{s=R(s);for(var _=0,w=s.length;_<w;_++)this._on(s[_],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var p in s)this._off(p,s[p],l);else{s=R(s);for(var _=arguments.length===1,w=0,O=s.length;w<O;w++)_?this._off(s[w]):this._off(s[w],l,h)}return this},_on:function(s,l,h,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var _={fn:l,ctx:h};p&&(_.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(_)}},_off:function(s,l,h){var p,_,w;if(this._events&&(p=this._events[s],!!p)){if(arguments.length===1){if(this._firingCount)for(_=0,w=p.length;_<w;_++)p[_].fn=v;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var O=this._listens(s,l,h);if(O!==!1){var U=p[O];this._firingCount&&(U.fn=v,this._events[s]=p=p.slice()),p.splice(O,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var p=i({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var _=this._events[s];if(_){this._firingCount=this._firingCount+1||1;for(var w=0,O=_.length;w<O;w++){var U=_[w],j=U.fn;U.once&&this.off(s,j,U.ctx),j.call(U.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(s,l,h,p){typeof s!="string"&&console.warn('"string" type argument expected');var _=l;typeof l!="function"&&(p=!!l,_=void 0,h=void 0);var w=this._events&&this._events[s];if(w&&w.length&&this._listens(s,_,h)!==!1)return!0;if(p){for(var O in this._eventParents)if(this._eventParents[O].listens(s,l,h,p))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var p=this._events[s]||[];if(!l)return!!p.length;h===this&&(h=void 0);for(var _=0,w=p.length;_<w;_++)if(p[_].fn===l&&p[_].ctx===h)return _;return!1},once:function(s,l,h){if(typeof s=="object")for(var p in s)this._on(p,s[p],l,!0);else{s=R(s);for(var _=0,w=s.length;_<w;_++)this._on(s[_],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[f(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[f(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};_t.addEventListener=_t.on,_t.removeEventListener=_t.clearAllEventListeners=_t.off,_t.addOneTimeEventListener=_t.once,_t.fireEvent=_t.fire,_t.hasEventListeners=_t.listens;var $t=rt.extend(_t);function q(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var he=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(s){return this.clone()._add(ee(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ee(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new q(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new q(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=he(this.x),this.y=he(this.y),this},distanceTo:function(s){s=ee(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=ee(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ee(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function ee(s,l,h){return s instanceof q?s:A(s)?new q(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new q(s.x,s.y):new q(s,l,h)}function de(s,l){if(s)for(var h=l?[s,l]:s,p=0,_=h.length;p<_;p++)this.extend(h[p])}de.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof q||typeof s[0]=="number"||"x"in s)l=h=ee(s);else if(s=we(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof q?s=ee(s):s=we(s),s instanceof de?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=we(s);var l=this.min,h=this.max,p=s.min,_=s.max,w=_.x>=l.x&&p.x<=h.x,O=_.y>=l.y&&p.y<=h.y;return w&&O},overlaps:function(s){s=we(s);var l=this.min,h=this.max,p=s.min,_=s.max,w=_.x>l.x&&p.x<h.x,O=_.y>l.y&&p.y<h.y;return w&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,p=Math.abs(l.x-h.x)*s,_=Math.abs(l.y-h.y)*s;return we(ee(l.x-p,l.y-_),ee(h.x+p,h.y+_))},equals:function(s){return s?(s=we(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function we(s,l){return!s||s instanceof de?s:new de(s,l)}function Ce(s,l){if(s)for(var h=l?[s,l]:s,p=0,_=h.length;p<_;p++)this.extend(h[p])}Ce.prototype={extend:function(s){var l=this._southWest,h=this._northEast,p,_;if(s instanceof Te)p=s,_=s;else if(s instanceof Ce){if(p=s._southWest,_=s._northEast,!p||!_)return this}else return s?this.extend(ge(s)||Me(s)):this;return!l&&!h?(this._southWest=new Te(p.lat,p.lng),this._northEast=new Te(_.lat,_.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),h.lat=Math.max(_.lat,h.lat),h.lng=Math.max(_.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,p=Math.abs(l.lat-h.lat)*s,_=Math.abs(l.lng-h.lng)*s;return new Ce(new Te(l.lat-p,l.lng-_),new Te(h.lat+p,h.lng+_))},getCenter:function(){return new Te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Te(this.getNorth(),this.getWest())},getSouthEast:function(){return new Te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Te||"lat"in s?s=ge(s):s=Me(s);var l=this._southWest,h=this._northEast,p,_;return s instanceof Ce?(p=s.getSouthWest(),_=s.getNorthEast()):p=_=s,p.lat>=l.lat&&_.lat<=h.lat&&p.lng>=l.lng&&_.lng<=h.lng},intersects:function(s){s=Me(s);var l=this._southWest,h=this._northEast,p=s.getSouthWest(),_=s.getNorthEast(),w=_.lat>=l.lat&&p.lat<=h.lat,O=_.lng>=l.lng&&p.lng<=h.lng;return w&&O},overlaps:function(s){s=Me(s);var l=this._southWest,h=this._northEast,p=s.getSouthWest(),_=s.getNorthEast(),w=_.lat>l.lat&&p.lat<h.lat,O=_.lng>l.lng&&p.lng<h.lng;return w&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=Me(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Me(s,l){return s instanceof Ce?s:new Ce(s,l)}function Te(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}Te.prototype={equals:function(s,l){if(!s)return!1;s=ge(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+E(this.lat,s)+", "+E(this.lng,s)+")"},distanceTo:function(s){return tr.distance(this,ge(s))},wrap:function(){return tr.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return Me([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new Te(this.lat,this.lng,this.alt)}};function ge(s,l,h){return s instanceof Te?s:A(s)&&typeof s[0]!="object"?s.length===3?new Te(s[0],s[1],s[2]):s.length===2?new Te(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Te(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new Te(s,l,h)}var yt={latLngToPoint:function(s,l){var h=this.projection.project(s),p=this.scale(l);return this.transformation._transform(h,p)},pointToLatLng:function(s,l){var h=this.scale(l),p=this.transformation.untransform(s,h);return this.projection.unproject(p)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),p=this.transformation.transform(l.min,h),_=this.transformation.transform(l.max,h);return new de(p,_)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?g(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?g(s.lat,this.wrapLat,!0):s.lat,p=s.alt;return new Te(h,l,p)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),p=l.lat-h.lat,_=l.lng-h.lng;if(p===0&&_===0)return s;var w=s.getSouthWest(),O=s.getNorthEast(),U=new Te(w.lat-p,w.lng-_),j=new Te(O.lat-p,O.lng-_);return new Ce(U,j)}},tr=i({},yt,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,p=s.lat*h,_=l.lat*h,w=Math.sin((l.lat-s.lat)*h/2),O=Math.sin((l.lng-s.lng)*h/2),U=w*w+Math.cos(p)*Math.cos(_)*O*O,j=2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U));return this.R*j}}),ac=6378137,ri={R:ac,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,s.lat),-h),_=Math.sin(p*l);return new q(this.R*s.lng*l,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(s){var l=180/Math.PI;return new Te((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=ac*Math.PI;return new de([-s,-s],[s,s])}()};function ii(s,l,h,p){if(A(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=p}ii.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new q((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Er(s,l,h,p){return new ii(s,l,h,p)}var ss=i({},tr,{code:"EPSG:3857",projection:ri,transformation:function(){var s=.5/(Math.PI*ri.R);return Er(s,.5,-s,.5)}()}),ja=i({},ss,{code:"EPSG:900913"});function Js(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Wa(s,l){var h="",p,_,w,O,U,j;for(p=0,w=s.length;p<w;p++){for(U=s[p],_=0,O=U.length;_<O;_++)j=U[_],h+=(_?"L":"M")+j.x+" "+j.y;h+=l?ae.svg?"z":"x":""}return h||"M0 0"}var Ha=document.documentElement.style,eo="ActiveXObject"in window,lc=eo&&!document.addEventListener,to="msLaunchUri"in navigator&&!("documentMode"in document),no=En("webkit"),uc=En("android"),ro=En("android 2")||En("android 3"),$a=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),cc=uc&&En("Google")&&$a<537&&!("AudioNode"in window),ht=!!window.opera,Tt=!to&&En("chrome"),os=En("gecko")&&!no&&!ht&&!eo,hc=!Tt&&En("safari"),qa=En("phantom"),fc="OTransition"in Ha,as=navigator.platform.indexOf("Win")===0,Ga=eo&&"transition"in Ha,io="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ro,so="MozPerspective"in Ha,Ad=!window.L_DISABLE_3D&&(Ga||io||so)&&!fc&&!qa,ls=typeof orientation<"u"||En("mobile"),Ka=ls&&no,dc=ls&&io,Za=!window.PointerEvent&&window.MSPointerEvent,si=!!(window.PointerEvent||Za),oo="ontouchstart"in window||!!window.TouchEvent,Qa=!window.L_NO_TOUCH&&(oo||si),Tr=ls&&ht,pc=ls&&os,ao=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,mc=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",v,l),window.removeEventListener("testPassiveEventSupport",v,l)}catch{}return s}(),us=function(){return!!document.createElement("canvas").getContext}(),lo=!!(document.createElementNS&&Js("svg").createSVGRect),xt=!!lo&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gc=!lo&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),cs=navigator.platform.indexOf("Mac")===0,hs=navigator.platform.indexOf("Linux")===0;function En(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var ae={ie:eo,ielt9:lc,edge:to,webkit:no,android:uc,android23:ro,androidStock:cc,opera:ht,chrome:Tt,gecko:os,safari:hc,phantom:qa,opera12:fc,win:as,ie3d:Ga,webkit3d:io,gecko3d:so,any3d:Ad,mobile:ls,mobileWebkit:Ka,mobileWebkit3d:dc,msPointer:Za,pointer:si,touch:Qa,touchNative:oo,mobileOpera:Tr,mobileGecko:pc,retina:ao,passiveEvents:mc,canvas:us,svg:lo,vml:gc,inlineSvg:xt,mac:cs,linux:hs},Ir=ae.msPointer?"MSPointerDown":"pointerdown",_c=ae.msPointer?"MSPointerMove":"pointermove",yc=ae.msPointer?"MSPointerUp":"pointerup",fs=ae.msPointer?"MSPointerCancel":"pointercancel",uo={touchstart:Ir,touchmove:_c,touchend:yc,touchcancel:fs},co={touchstart:fo,touchmove:ho,touchend:ho,touchcancel:ho},Fn={},zn=!1;function vc(s,l,h){return l==="touchstart"&&Ec(),co[l]?(h=co[l].bind(this,h),s.addEventListener(uo[l],h,!1),h):(console.warn("wrong event specified:",l),v)}function wc(s,l,h){if(!uo[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(uo[l],h,!1)}function Ya(s){Fn[s.pointerId]=s}function Xa(s){Fn[s.pointerId]&&(Fn[s.pointerId]=s)}function Ja(s){delete Fn[s.pointerId]}function Ec(){zn||(document.addEventListener(Ir,Ya,!0),document.addEventListener(_c,Xa,!0),document.addEventListener(yc,Ja,!0),document.addEventListener(fs,Ja,!0),zn=!0)}function ho(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Fn)l.touches.push(Fn[h]);l.changedTouches=[l],s(l)}}function fo(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ye(l),ho(s,l)}function Tc(s){var l={},h,p;for(p in s)h=s[p],l[p]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var el=200;function ds(s,l){s.addEventListener("dblclick",l);var h=0,p;function _(w){if(w.detail!==1){p=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var O=fl(w);if(!(O.some(function(j){return j instanceof HTMLLabelElement&&j.attributes.for})&&!O.some(function(j){return j instanceof HTMLInputElement||j instanceof HTMLSelectElement}))){var U=Date.now();U-h<=el?(p++,p===2&&l(Tc(w))):p=1,h=U}}}return s.addEventListener("click",_),{dblclick:l,simDblclick:_}}function Sr(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var ps=Ar(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ms=Ar(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),tl=ms==="webkitTransition"||ms==="OTransition"?ms+"End":"transitionend";function nl(s){return typeof s=="string"?document.getElementById(s):s}function oi(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(s,null);h=p?p[l]:null}return h==="auto"?null:h}function xe(s,l,h){var p=document.createElement(s);return p.className=l||"",h&&h.appendChild(p),p}function Be(s){var l=s.parentNode;l&&l.removeChild(s)}function gs(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Pr(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function ai(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function rl(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=Tn(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function ve(s,l){if(s.classList!==void 0)for(var h=R(l),p=0,_=h.length;p<_;p++)s.classList.add(h[p]);else if(!rl(s,l)){var w=Tn(s);il(s,(w?w+" ":"")+l)}}function Ge(s,l){s.classList!==void 0?s.classList.remove(l):il(s,C((" "+Tn(s)+" ").replace(" "+l+" "," ")))}function il(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Tn(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function it(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&po(s,l)}function po(s,l){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+p+"(opacity="+l+")"}function Ar(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function nr(s,l,h){var p=l||new q(0,0);s.style[ps]=(ae.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function pe(s,l){s._leaflet_pos=l,ae.any3d?nr(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function In(s){return s._leaflet_pos||new q(0,0)}var Un,Bn,sl;if("onselectstart"in document)Un=function(){ue(window,"selectstart",Ye)},Bn=function(){ze(window,"selectstart",Ye)};else{var li=Ar(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Un=function(){if(li){var s=document.documentElement.style;sl=s[li],s[li]="none"}},Bn=function(){li&&(document.documentElement.style[li]=sl,sl=void 0)}}function ol(){ue(window,"dragstart",Ye)}function al(){ze(window,"dragstart",Ye)}var mo,ll;function Cr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(an(),mo=s,ll=s.style.outlineStyle,s.style.outlineStyle="none",ue(window,"keydown",an))}function an(){mo&&(mo.style.outlineStyle=ll,mo=void 0,ll=void 0,ze(window,"keydown",an))}function ul(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function go(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Ic={__proto__:null,TRANSFORM:ps,TRANSITION:ms,TRANSITION_END:tl,get:nl,getStyle:oi,create:xe,remove:Be,empty:gs,toFront:Pr,toBack:ai,hasClass:rl,addClass:ve,removeClass:Ge,setClass:il,getClass:Tn,setOpacity:it,testProp:Ar,setTransform:nr,setPosition:pe,getPosition:In,get disableTextSelection(){return Un},get enableTextSelection(){return Bn},disableImageDrag:ol,enableImageDrag:al,preventOutline:Cr,restoreOutline:an,getSizedParentNode:ul,getScale:go};function ue(s,l,h,p){if(l&&typeof l=="object")for(var _ in l)cl(s,_,l[_],h);else{l=R(l);for(var w=0,O=l.length;w<O;w++)cl(s,l[w],h,p)}return this}var Sn="_leaflet_events";function ze(s,l,h,p){if(arguments.length===1)Sc(s),delete s[Sn];else if(l&&typeof l=="object")for(var _ in l)hl(s,_,l[_],h);else if(l=R(l),arguments.length===2)Sc(s,function(U){return B(l,U)!==-1});else for(var w=0,O=l.length;w<O;w++)hl(s,l[w],h,p);return this}function Sc(s,l){for(var h in s[Sn]){var p=h.split(/\d/)[0];(!l||l(p))&&hl(s,p,null,null,h)}}var Pn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function cl(s,l,h,p){var _=l+f(h)+(p?"_"+f(p):"");if(s[Sn]&&s[Sn][_])return this;var w=function(U){return h.call(p||s,U||window.event)},O=w;!ae.touchNative&&ae.pointer&&l.indexOf("touch")===0?w=vc(s,l,w):ae.touch&&l==="dblclick"?w=ds(s,w):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Pn[l]||l,w,ae.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(w=function(U){U=U||window.event,dl(s,U)&&O(U)},s.addEventListener(Pn[l],w,!1)):s.addEventListener(l,O,!1):s.attachEvent("on"+l,w),s[Sn]=s[Sn]||{},s[Sn][_]=w}function hl(s,l,h,p,_){_=_||l+f(h)+(p?"_"+f(p):"");var w=s[Sn]&&s[Sn][_];if(!w)return this;!ae.touchNative&&ae.pointer&&l.indexOf("touch")===0?wc(s,l,w):ae.touch&&l==="dblclick"?Sr(s,w):"removeEventListener"in s?s.removeEventListener(Pn[l]||l,w,!1):s.detachEvent("on"+l,w),s[Sn][_]=null}function An(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ui(s){return cl(s,"wheel",An),this}function ci(s){return ue(s,"mousedown touchstart dblclick contextmenu",An),s._leaflet_disable_click=!0,this}function Ye(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ln(s){return Ye(s),An(s),this}function fl(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function _o(s,l){if(!l)return new q(s.clientX,s.clientY);var h=go(l),p=h.boundingClientRect;return new q((s.clientX-p.left)/h.x-l.clientLeft,(s.clientY-p.top)/h.y-l.clientTop)}var Ke=ae.linux&&ae.chrome?window.devicePixelRatio:ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Pc(s){return ae.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Ke:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function dl(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var Ac={__proto__:null,on:ue,off:ze,stopPropagation:An,disableScrollPropagation:ui,disableClickPropagation:ci,preventDefault:Ye,stop:ln,getPropagationPath:fl,getMousePosition:_o,getWheelDelta:Pc,isExternalTarget:dl,addListener:ue,removeListener:ze},pl=$t.extend({run:function(s,l,h,p){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=In(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),pe(this._el,h),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Se=$t.extend({options:{crs:ss,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=b(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ge(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ms&&ae.any3d&&!ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ue(this._proxy,tl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(ge(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=i({animate:h.animate},h.zoom),h.pan=i({animate:h.animate,duration:h.duration},h.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var p=this.getZoomScale(l),_=this.getSize().divideBy(2),w=s instanceof q?s:this.latLngToContainerPoint(s),O=w.subtract(_).multiplyBy(1-1/p),U=this.containerPointToLatLng(_.add(O));return this.setView(U,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():Me(s);var h=ee(l.paddingTopLeft||l.padding||[0,0]),p=ee(l.paddingBottomRight||l.padding||[0,0]),_=this.getBoundsZoom(s,!1,h.add(p));if(_=typeof l.maxZoom=="number"?Math.min(l.maxZoom,_):_,_===1/0)return{center:s.getCenter(),zoom:_};var w=p.subtract(h).divideBy(2),O=this.project(s.getSouthWest(),_),U=this.project(s.getNorthEast(),_),j=this.unproject(O.add(U).divideBy(2).add(w),_);return{center:j,zoom:_}},fitBounds:function(s,l){if(s=Me(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=ee(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new pl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){ve(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!ae.any3d)return this.setView(s,l,h);this._stop();var p=this.project(this.getCenter()),_=this.project(s),w=this.getSize(),O=this._zoom;s=ge(s),l=l===void 0?O:l;var U=Math.max(w.x,w.y),j=U*this.getZoomScale(O,l),Z=_.distanceTo(p)||1,ne=1.42,ce=ne*ne;function Ie(dt){var jc=dt?-1:1,MA=dt?j:U,DA=j*j-U*U+jc*ce*ce*Z*Z,VA=2*MA*ce*Z,Od=DA/VA,Ky=Math.sqrt(Od*Od+1)-Od,FA=Ky<1e-9?-18:Math.log(Ky);return FA}function Gt(dt){return(Math.exp(dt)-Math.exp(-dt))/2}function St(dt){return(Math.exp(dt)+Math.exp(-dt))/2}function xn(dt){return Gt(dt)/St(dt)}var Jt=Ie(0);function Ro(dt){return U*(St(Jt)/St(Jt+ne*dt))}function bA(dt){return U*(St(Jt)*xn(Jt+ne*dt)-Gt(Jt))/ce}function LA(dt){return 1-Math.pow(1-dt,1.5)}var OA=Date.now(),qy=(Ie(1)-Jt)/ne,NA=h.duration?1e3*h.duration:1e3*qy*.8;function Gy(){var dt=(Date.now()-OA)/NA,jc=LA(dt)*qy;dt<=1?(this._flyToFrame=V(Gy,this),this._move(this.unproject(p.add(_.subtract(p).multiplyBy(bA(jc)/Z)),O),this.getScaleZoom(U/Ro(jc),O),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Gy.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=Me(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,Me(s));return h.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=ee(l.paddingTopLeft||l.padding||[0,0]),p=ee(l.paddingBottomRight||l.padding||[0,0]),_=this.project(this.getCenter()),w=this.project(s),O=this.getPixelBounds(),U=we([O.min.add(h),O.max.subtract(p)]),j=U.getSize();if(!U.contains(w)){this._enforcingBounds=!0;var Z=w.subtract(U.getCenter()),ne=U.extend(w).getSize().subtract(j);_.x+=Z.x<0?-ne.x:ne.x,_.y+=Z.y<0?-ne.y:ne.y,this.panTo(this.unproject(_),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=l.divideBy(2).round(),_=h.divideBy(2).round(),w=p.subtract(_);return!w.x&&!w.y?this:(s.animate&&s.pan?this.panBy(w):(s.pan&&this._rawPanBy(w),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,p=new Te(l,h),_=p.toBounds(s.coords.accuracy*2),w=this._locateOptions;if(w.setView){var O=this.getBoundsZoom(_);this.setView(p,w.maxZoom?Math.min(O,w.maxZoom):O)}var U={latlng:p,bounds:_,timestamp:s.timestamp};for(var j in s.coords)typeof s.coords[j]=="number"&&(U[j]=s.coords[j]);this.fire("locationfound",U)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Be(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Be(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),p=xe("div",h,l||this._mapPane);return s&&(this._panes[s]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new Ce(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=Me(s),h=ee(h||[0,0]);var p=this.getZoom()||0,_=this.getMinZoom(),w=this.getMaxZoom(),O=s.getNorthWest(),U=s.getSouthEast(),j=this.getSize().subtract(h),Z=we(this.project(U,p),this.project(O,p)).getSize(),ne=ae.any3d?this.options.zoomSnap:1,ce=j.x/Z.x,Ie=j.y/Z.y,Gt=l?Math.max(ce,Ie):Math.min(ce,Ie);return p=this.getScaleZoom(Gt,p),ne&&(p=Math.round(p/(ne/100))*(ne/100),p=l?Math.ceil(p/ne)*ne:Math.floor(p/ne)*ne),Math.max(_,Math.min(w,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new de(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var p=h.zoom(s*h.scale(l));return isNaN(p)?1/0:p},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ge(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(ee(s),l)},layerPointToLatLng:function(s){var l=ee(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(ge(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ge(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Me(s))},distance:function(s,l){return this.options.crs.distance(ge(s),ge(l))},containerPointToLayerPoint:function(s){return ee(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ee(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(ee(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(s)))},mouseEventToContainerPoint:function(s){return _o(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=nl(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ue(l,"scroll",this._onScroll,this),this._containerId=f(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&ae.any3d,ve(s,"leaflet-container"+(ae.touch?" leaflet-touch":"")+(ae.retina?" leaflet-retina":"")+(ae.ielt9?" leaflet-oldie":"")+(ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=oi(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),pe(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ve(s.markerPane,"leaflet-zoom-hide"),ve(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){pe(this._mapPane,new q(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var _=this._zoom!==l;this._moveStart(_,h)._move(s,l)._moveEnd(_),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,p){l===void 0&&(l=this._zoom);var _=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),p?h&&h.pinch&&this.fire("zoom",h):((_||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){pe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[f(this._container)]=this;var l=s?ze:ue;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ae.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],p,_=l==="mouseout"||l==="mouseover",w=s.target||s.srcElement,O=!1;w;){if(p=this._targets[f(w)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){O=!0;break}if(p&&p.listens(l,!0)&&(_&&!dl(w,s)||(h.push(p),_))||w===this._container)break;w=w.parentNode}return!h.length&&!O&&!_&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&Cr(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var p=i({},s);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var _=this._findEventTargets(s,l);if(h){for(var w=[],O=0;O<h.length;O++)h[O].listens(l,!0)&&w.push(h[O]);_=w.concat(_)}if(_.length){l==="contextmenu"&&Ye(s);var U=_[0],j={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Z=U.getLatLng&&(!U._radius||U._radius<=10);j.containerPoint=Z?this.latLngToContainerPoint(U.getLatLng()):this.mouseEventToContainerPoint(s),j.layerPoint=this.containerPointToLayerPoint(j.containerPoint),j.latlng=Z?U.getLatLng():this.layerPointToLatLng(j.layerPoint)}for(O=0;O<_.length;O++)if(_[O].fire(l,j,!0),j.originalEvent._stopped||_[O].options.bubblingMouseEvents===!1&&B(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return In(this._mapPane)||new q(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var p=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(s,l,h){var p=this._getNewPixelOrigin(h,l);return we([this.project(s.getSouthWest(),l)._subtract(p),this.project(s.getNorthWest(),l)._subtract(p),this.project(s.getSouthEast(),l)._subtract(p),this.project(s.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var p=this.project(s,l),_=this.getSize().divideBy(2),w=new de(p.subtract(_),p.add(_)),O=this._getBoundsOffset(w,h,l);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?s:this.unproject(p.add(O),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),p=new de(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(s,l,h){var p=we(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),_=p.min.subtract(s.min),w=p.max.subtract(s.max),O=this._rebound(_.x,-w.x),U=this._rebound(_.y,-w.y);return new q(O,U)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),p=ae.any3d?this.options.zoomSnap:1;return p&&(s=Math.round(s/p)*p),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=ps,p=this._proxy.style[h];nr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Be(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();nr(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),_=this._getCenterOffset(s)._divideBy(1-1/p);return h.animate!==!0&&!this.getSize().contains(_)?!1:(V(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,p){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,ve(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function yo(s,l){return new Se(s,l)}var Xt=rt.extend({options:{position:"topright"},initialize:function(s){b(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),p=s._controlCorners[h];return ve(l,"leaflet-control"),h.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Be(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),qt=function(s){return new Xt(s)};Se.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=xe("div",l+"control-container",this._container);function p(_,w){var O=l+_+" "+l+w;s[_+w]=xe("div",O,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Be(this._controlCorners[s]);Be(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ml=Xt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,p){return h<p?-1:p<h?1:0}},initialize:function(s,l,h){b(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in s)this._addLayer(s[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Xt.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(f(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){ve(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ve(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=xe("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ci(l),ui(l);var p=this._section=xe("section",s+"-list");h&&(this._map.on("click",this.collapse,this),ue(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=xe("a",s+"-toggle",l);_.href="#",_.title="Layers",_.setAttribute("role","button"),ue(_,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){Ye(w),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=xe("div",s+"-base",p),this._separator=xe("div",s+"-separator",p),this._overlaysList=xe("div",s+"-overlays",p),l.appendChild(p)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&f(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(p,_){return this.options.sortFunction(p.layer,_.layer,p.name,_.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gs(this._baseLayersList),gs(this._overlaysList),this._layerControlInputs=[];var s,l,h,p,_=0;for(h=0;h<this._layers.length;h++)p=this._layers[h],this._addItem(p),l=l||p.overlay,s=s||!p.overlay,_+=p.overlay?0:1;return this.options.hideSingleBase&&(s=s&&_>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(f(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),p;s.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+f(this),h),this._layerControlInputs.push(p),p.layerId=f(s.layer),ue(p,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+s.name;var w=document.createElement("span");l.appendChild(w),w.appendChild(p),w.appendChild(_);var O=s.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,p=[],_=[];this._handlingClick=!0;for(var w=s.length-1;w>=0;w--)l=s[w],h=this._getLayer(l.layerId).layer,l.checked?p.push(h):l.checked||_.push(h);for(w=0;w<_.length;w++)this._map.hasLayer(_[w])&&this._map.removeLayer(_[w]);for(w=0;w<p.length;w++)this._map.hasLayer(p[w])||this._map.addLayer(p[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,p=this._map.getZoom(),_=s.length-1;_>=0;_--)l=s[_],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&p<h.options.minZoom||h.options.maxZoom!==void 0&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ue(s,"click",Ye),this.expand();var l=this;setTimeout(function(){ze(s,"click",Ye),l._preventClick=!1})}}),Cd=function(s,l,h){return new ml(s,l,h)},xr=Xt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=xe("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,p,_){var w=xe("a",h,p);return w.innerHTML=s,w.href="#",w.title=l,w.setAttribute("role","button"),w.setAttribute("aria-label",l),ci(w),ue(w,"click",ln),ue(w,"click",_,this),ue(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";Ge(this._zoomInButton,l),Ge(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ve(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ve(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Se.mergeOptions({zoomControl:!0}),Se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xr,this.addControl(this.zoomControl))});var Cc=function(s){return new xr(s)},vo=Xt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=xe("div",l),p=this.options;return this._addScales(p,l+"-line",h),s.on(p.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=xe("div",l,h)),s.imperial&&(this._iScale=xe("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,p,_;l>5280?(h=l/5280,p=this._getRoundNum(h),this._updateScale(this._iScale,p+" mi",p/h)):(_=this._getRoundNum(l),this._updateScale(this._iScale,_+" ft",_/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),wo=function(s){return new vo(s)},xc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',hi=Xt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ae.inlineSvg?xc+" ":"")+"Leaflet</a>"},initialize:function(s){b(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=xe("div","leaflet-control-attribution"),ci(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Se.mergeOptions({attributionControl:!0}),Se.addInitHook(function(){this.options.attributionControl&&new hi().addTo(this)});var xd=function(s){return new hi(s)};Xt.Layers=ml,Xt.Zoom=xr,Xt.Scale=vo,Xt.Attribution=hi,qt.layers=Cd,qt.zoom=Cc,qt.scale=wo,qt.attribution=xd;var un=rt.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});un.addTo=function(s,l){return s.addHandler(l,this),this};var _s={Events:_t},gl=ae.touch?"touchstart mousedown":"mousedown",jn=$t.extend({options:{clickTolerance:3},initialize:function(s,l,h,p){b(this,p),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(ue(this._dragStartTarget,gl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(jn._dragging===this&&this.finishDrag(!0),ze(this._dragStartTarget,gl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!rl(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){jn._dragging===this&&this.finishDrag();return}if(!(jn._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(jn._dragging=this,this._preventOutline&&Cr(this._element),ol(),Un(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=ul(this._element);this._startPoint=new q(l.clientX,l.clientY),this._startPos=In(this._element),this._parentScale=go(h);var p=s.type==="mousedown";ue(document,p?"mousemove":"touchmove",this._onMove,this),ue(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new q(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Ye(s),this._moved||(this.fire("dragstart"),this._moved=!0,ve(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ve(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),pe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Ge(document.body,"leaflet-dragging"),this._lastTarget&&(Ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ze(document,"mousemove touchmove",this._onMove,this),ze(document,"mouseup touchend touchcancel",this._onUp,this),al(),Bn();var l=this._moved&&this._moving;this._moving=!1,jn._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Eo(s,l,h){var p,_=[1,4,2,8],w,O,U,j,Z,ne,ce,Ie;for(w=0,ne=s.length;w<ne;w++)s[w]._code=rr(s[w],l);for(U=0;U<4;U++){for(ce=_[U],p=[],w=0,ne=s.length,O=ne-1;w<ne;O=w++)j=s[w],Z=s[O],j._code&ce?Z._code&ce||(Ie=It(Z,j,ce,l,h),Ie._code=rr(Ie,l),p.push(Ie)):(Z._code&ce&&(Ie=It(Z,j,ce,l,h),Ie._code=rr(Ie,l),p.push(Ie)),p.push(j));s=p}return s}function To(s,l){var h,p,_,w,O,U,j,Z,ne;if(!s||s.length===0)throw new Error("latlngs not passed");u(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ce=ge([0,0]),Ie=Me(s),Gt=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());Gt<1700&&(ce=Io(s));var St=s.length,xn=[];for(h=0;h<St;h++){var Jt=ge(s[h]);xn.push(l.project(ge([Jt.lat-ce.lat,Jt.lng-ce.lng])))}for(U=j=Z=0,h=0,p=St-1;h<St;p=h++)_=xn[h],w=xn[p],O=_.y*w.x-w.y*_.x,j+=(_.x+w.x)*O,Z+=(_.y+w.y)*O,U+=O*3;U===0?ne=xn[0]:ne=[j/U,Z/U];var Ro=l.unproject(ee(ne));return ge([Ro.lat+ce.lat,Ro.lng+ce.lng])}function Io(s){for(var l=0,h=0,p=0,_=0;_<s.length;_++){var w=ge(s[_]);l+=w.lat,h+=w.lng,p++}return ge([l/p,h/p])}var So={__proto__:null,clipPolygon:Eo,polygonCenter:To,centroid:Io};function _l(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=Rc(s,h),s=kc(s,h),s}function yl(s,l,h){return Math.sqrt(Cn(s,l,h,!0))}function kr(s,l,h){return Cn(s,l,h)}function kc(s,l){var h=s.length,p=typeof Uint8Array<"u"?Uint8Array:Array,_=new p(h);_[0]=_[h-1]=1,Po(s,_,l,0,h-1);var w,O=[];for(w=0;w<h;w++)_[w]&&O.push(s[w]);return O}function Po(s,l,h,p,_){var w=0,O,U,j;for(U=p+1;U<=_-1;U++)j=Cn(s[U],s[p],s[_],!0),j>w&&(O=U,w=j);w>h&&(l[O]=1,Po(s,l,h,p,O),Po(s,l,h,O,_))}function Rc(s,l){for(var h=[s[0]],p=1,_=0,w=s.length;p<w;p++)bc(s[p],s[_])>l&&(h.push(s[p]),_=p);return _<w-1&&h.push(s[w-1]),h}var vl;function ys(s,l,h,p,_){var w=p?vl:rr(s,h),O=rr(l,h),U,j,Z;for(vl=O;;){if(!(w|O))return[s,l];if(w&O)return!1;U=w||O,j=It(s,l,U,h,_),Z=rr(j,h),U===w?(s=j,w=Z):(l=j,O=Z)}}function It(s,l,h,p,_){var w=l.x-s.x,O=l.y-s.y,U=p.min,j=p.max,Z,ne;return h&8?(Z=s.x+w*(j.y-s.y)/O,ne=j.y):h&4?(Z=s.x+w*(U.y-s.y)/O,ne=U.y):h&2?(Z=j.x,ne=s.y+O*(j.x-s.x)/w):h&1&&(Z=U.x,ne=s.y+O*(U.x-s.x)/w),new q(Z,ne,_)}function rr(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function bc(s,l){var h=l.x-s.x,p=l.y-s.y;return h*h+p*p}function Cn(s,l,h,p){var _=l.x,w=l.y,O=h.x-_,U=h.y-w,j=O*O+U*U,Z;return j>0&&(Z=((s.x-_)*O+(s.y-w)*U)/j,Z>1?(_=h.x,w=h.y):Z>0&&(_+=O*Z,w+=U*Z)),O=s.x-_,U=s.y-w,p?O*O+U*U:new q(_,w)}function u(s){return!A(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function m(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),u(s)}function y(s,l){var h,p,_,w,O,U,j,Z;if(!s||s.length===0)throw new Error("latlngs not passed");u(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ne=ge([0,0]),ce=Me(s),Ie=ce.getNorthWest().distanceTo(ce.getSouthWest())*ce.getNorthEast().distanceTo(ce.getNorthWest());Ie<1700&&(ne=Io(s));var Gt=s.length,St=[];for(h=0;h<Gt;h++){var xn=ge(s[h]);St.push(l.project(ge([xn.lat-ne.lat,xn.lng-ne.lng])))}for(h=0,p=0;h<Gt-1;h++)p+=St[h].distanceTo(St[h+1])/2;if(p===0)Z=St[0];else for(h=0,w=0;h<Gt-1;h++)if(O=St[h],U=St[h+1],_=O.distanceTo(U),w+=_,w>p){j=(w-p)/_,Z=[U.x-j*(U.x-O.x),U.y-j*(U.y-O.y)];break}var Jt=l.unproject(ee(Z));return ge([Jt.lat+ne.lat,Jt.lng+ne.lng])}var T={__proto__:null,simplify:_l,pointToSegmentDistance:yl,closestPointOnSegment:kr,clipSegment:ys,_getEdgeIntersection:It,_getBitCode:rr,_sqClosestPointOnSegment:Cn,isFlat:u,_flat:m,polylineCenter:y},z={project:function(s){return new q(s.lng,s.lat)},unproject:function(s){return new Te(s.y,s.x)},bounds:new de([-180,-90],[180,90])},W={R:6378137,R_MINOR:6356752314245179e-9,bounds:new de([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,p=s.lat*l,_=this.R_MINOR/h,w=Math.sqrt(1-_*_),O=w*Math.sin(p),U=Math.tan(Math.PI/4-p/2)/Math.pow((1-O)/(1+O),w/2);return p=-h*Math.log(Math.max(U,1e-10)),new q(s.lng*l*h,p)},unproject:function(s){for(var l=180/Math.PI,h=this.R,p=this.R_MINOR/h,_=Math.sqrt(1-p*p),w=Math.exp(-s.y/h),O=Math.PI/2-2*Math.atan(w),U=0,j=.1,Z;U<15&&Math.abs(j)>1e-7;U++)Z=_*Math.sin(O),Z=Math.pow((1-Z)/(1+Z),_/2),j=Math.PI/2-2*Math.atan(w*Z)-O,O+=j;return new Te(O*l,s.x*l/h)}},te={__proto__:null,LonLat:z,Mercator:W,SphericalMercator:ri},De=i({},tr,{code:"EPSG:3395",projection:W,transformation:function(){var s=.5/(Math.PI*W.R);return Er(s,.5,-s,.5)}()}),ft=i({},tr,{code:"EPSG:4326",projection:z,transformation:Er(1/180,1,-1/180,.5)}),be=i({},yt,{projection:z,transformation:Er(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,p=l.lat-s.lat;return Math.sqrt(h*h+p*p)},infinite:!0});yt.Earth=tr,yt.EPSG3395=De,yt.EPSG3857=ss,yt.EPSG900913=ja,yt.EPSG4326=ft,yt.Simple=be;var Ue=$t.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[f(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[f(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Se.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=f(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=f(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return f(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?A(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[f(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=f(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var _=this._zoomBoundLayers[p].options;s=_.minZoom===void 0?s:Math.min(s,_.minZoom),l=_.maxZoom===void 0?l:Math.max(l,_.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xe=Ue.extend({initialize:function(s,l){b(this,l),this._layers={};var h,p;if(s)for(h=0,p=s.length;h<p;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,p;for(h in this._layers)p=this._layers[h],p[s]&&p[s].apply(p,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return f(s)}}),fi=function(s,l){return new Xe(s,l)},ot=Xe.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Xe.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Xe.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ce;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Ao=function(s,l){return new ot(s,l)},ir=rt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){b(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(s,l){var h=this.options,p=h[l+"Size"];typeof p=="number"&&(p=[p,p]);var _=ee(p),w=ee(l==="shadow"&&h.shadowAnchor||h.iconAnchor||_&&_.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),w&&(s.style.marginLeft=-w.x+"px",s.style.marginTop=-w.y+"px"),_&&(s.style.width=_.x+"px",s.style.height=_.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return ae.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function fA(s){return new ir(s)}var wl=ir.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof wl.imagePath!="string"&&(wl.imagePath=this._detectIconPath()),(this.options.imagePath||wl.imagePath)+ir.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,p,_){var w=p.exec(h);return w&&w[_]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=xe("div","leaflet-default-icon-path",document.body),l=oi(s,"background-image")||oi(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Cy=un.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new jn(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ve(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,p=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,w=In(l._icon),O=h.getPixelBounds(),U=h.getPixelOrigin(),j=we(O.min._subtract(U).add(_),O.max._subtract(U).subtract(_));if(!j.contains(w)){var Z=ee((Math.max(j.max.x,w.x)-j.max.x)/(O.max.x-j.max.x)-(Math.min(j.min.x,w.x)-j.min.x)/(O.min.x-j.min.x),(Math.max(j.max.y,w.y)-j.max.y)/(O.max.y-j.max.y)-(Math.min(j.min.y,w.y)-j.min.y)/(O.min.y-j.min.y)).multiplyBy(p);h.panBy(Z,{animate:!1}),this._draggable._newPos._add(Z),this._draggable._startPos._add(Z),pe(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=V(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,p=In(l._icon),_=l._map.layerPointToLatLng(p);h&&pe(h,p),l._latlng=_,s.latlng=_,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Lc=Ue.extend({options:{icon:new wl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){b(this,l),this._latlng=ge(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=ge(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),ve(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(h,"focus",this._panOnFocus,this);var _=s.icon.createShadow(this._shadow),w=!1;_!==this._shadow&&(this._removeShadow(),w=!0),_&&(ve(_,l),_.alt=""),this._shadow=_,s.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&w&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(this._icon,"focus",this._panOnFocus,this),Be(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Be(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&pe(this._icon,s),this._shadow&&pe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(ve(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Cy)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Cy(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&it(this._icon,s),this._shadow&&it(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?ee(l.iconSize):ee(0,0),p=l.iconAnchor?ee(l.iconAnchor):ee(0,0);s.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dA(s,l){return new Lc(s,l)}var di=Ue.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return b(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Oc=di.extend({options:{fill:!0,radius:10},initialize:function(s,l){b(this,l),this._latlng=ge(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=ge(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return di.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),p=[s+h,l+h];this._pxBounds=new de(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function pA(s,l){return new Oc(s,l)}var kd=Oc.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=i({},h,{radius:l})),b(this,l),this._latlng=ge(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:di.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===tr.distance){var _=Math.PI/180,w=this._mRadius/tr.R/_,O=h.project([l+w,s]),U=h.project([l-w,s]),j=O.add(U).divideBy(2),Z=h.unproject(j).lat,ne=Math.acos((Math.cos(w*_)-Math.sin(l*_)*Math.sin(Z*_))/(Math.cos(l*_)*Math.cos(Z*_)))/_;(isNaN(ne)||ne===0)&&(ne=w/Math.cos(Math.PI/180*l)),this._point=j.subtract(h.getPixelOrigin()),this._radius=isNaN(ne)?0:j.x-h.project([Z,s-ne]).x,this._radiusY=j.y-O.y}else{var ce=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ce).x}this._updateBounds()}});function mA(s,l,h){return new kd(s,l,h)}var Rr=di.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){b(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,p=Cn,_,w,O=0,U=this._parts.length;O<U;O++)for(var j=this._parts[O],Z=1,ne=j.length;Z<ne;Z++){_=j[Z-1],w=j[Z];var ce=p(s,_,w,!0);ce<l&&(l=ce,h=p(s,_,w))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return y(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=ge(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ce,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return u(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=u(s),p=0,_=s.length;p<_;p++)h?(l[p]=ge(s[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(s[p]);return l},_project:function(){var s=new de;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new q(s,s);this._rawPxBounds&&(this._pxBounds=new de([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var p=s[0]instanceof Te,_=s.length,w,O;if(p){for(O=[],w=0;w<_;w++)O[w]=this._map.latLngToLayerPoint(s[w]),h.extend(O[w]);l.push(O)}else for(w=0;w<_;w++)this._projectLatlngs(s[w],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,p,_,w,O,U,j;for(h=0,_=0,w=this._rings.length;h<w;h++)for(j=this._rings[h],p=0,O=j.length;p<O-1;p++)U=ys(j[p],j[p+1],s,p,!0),U&&(l[_]=l[_]||[],l[_].push(U[0]),(U[1]!==j[p+1]||p===O-2)&&(l[_].push(U[1]),_++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,p=s.length;h<p;h++)s[h]=_l(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,p,_,w,O,U,j=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,w=this._parts.length;h<w;h++)for(U=this._parts[h],p=0,O=U.length,_=O-1;p<O;_=p++)if(!(!l&&p===0)&&yl(s,U[_],U[p])<=j)return!0;return!1}});function gA(s,l){return new Rr(s,l)}Rr._flat=m;var Co=Rr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return To(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Rr.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof Te&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){Rr.prototype._setLatLngs.call(this,s),u(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return u(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new q(l,l);if(s=new de(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,_=this._rings.length,w;p<_;p++)w=Eo(this._rings[p],s,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,p,_,w,O,U,j,Z;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(w=0,j=this._parts.length;w<j;w++)for(h=this._parts[w],O=0,Z=h.length,U=Z-1;O<Z;U=O++)p=h[O],_=h[U],p.y>s.y!=_.y>s.y&&s.x<(_.x-p.x)*(s.y-p.y)/(_.y-p.y)+p.x&&(l=!l);return l||Rr.prototype._containsPoint.call(this,s,!0)}});function _A(s,l){return new Co(s,l)}var br=ot.extend({initialize:function(s,l){b(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=A(s)?s:s.features,h,p,_;if(l){for(h=0,p=l.length;h<p;h++)_=l[h],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var w=this.options;if(w.filter&&!w.filter(s))return this;var O=Nc(s,w);return O?(O.feature=Vc(s),O.defaultOptions=O.options,this.resetStyle(O),w.onEachFeature&&w.onEachFeature(s,O),this.addLayer(O)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Nc(s,l){var h=s.type==="Feature"?s.geometry:s,p=h?h.coordinates:null,_=[],w=l&&l.pointToLayer,O=l&&l.coordsToLatLng||Rd,U,j,Z,ne;if(!p&&!h)return null;switch(h.type){case"Point":return U=O(p),xy(w,s,U,l);case"MultiPoint":for(Z=0,ne=p.length;Z<ne;Z++)U=O(p[Z]),_.push(xy(w,s,U,l));return new ot(_);case"LineString":case"MultiLineString":return j=Mc(p,h.type==="LineString"?0:1,O),new Rr(j,l);case"Polygon":case"MultiPolygon":return j=Mc(p,h.type==="Polygon"?1:2,O),new Co(j,l);case"GeometryCollection":for(Z=0,ne=h.geometries.length;Z<ne;Z++){var ce=Nc({geometry:h.geometries[Z],type:"Feature",properties:s.properties},l);ce&&_.push(ce)}return new ot(_);case"FeatureCollection":for(Z=0,ne=h.features.length;Z<ne;Z++){var Ie=Nc(h.features[Z],l);Ie&&_.push(Ie)}return new ot(_);default:throw new Error("Invalid GeoJSON object.")}}function xy(s,l,h,p){return s?s(l,h):new Lc(h,p&&p.markersInheritOptions&&p)}function Rd(s){return new Te(s[1],s[0],s[2])}function Mc(s,l,h){for(var p=[],_=0,w=s.length,O;_<w;_++)O=l?Mc(s[_],l-1,h):(h||Rd)(s[_]),p.push(O);return p}function bd(s,l){return s=ge(s),s.alt!==void 0?[E(s.lng,l),E(s.lat,l),E(s.alt,l)]:[E(s.lng,l),E(s.lat,l)]}function Dc(s,l,h,p){for(var _=[],w=0,O=s.length;w<O;w++)_.push(l?Dc(s[w],u(s[w])?0:l-1,h,p):bd(s[w],p));return!l&&h&&_.length>0&&_.push(_[0].slice()),_}function xo(s,l){return s.feature?i({},s.feature,{geometry:l}):Vc(l)}function Vc(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Ld={toGeoJSON:function(s){return xo(this,{type:"Point",coordinates:bd(this.getLatLng(),s)})}};Lc.include(Ld),kd.include(Ld),Oc.include(Ld),Rr.include({toGeoJSON:function(s){var l=!u(this._latlngs),h=Dc(this._latlngs,l?1:0,!1,s);return xo(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Co.include({toGeoJSON:function(s){var l=!u(this._latlngs),h=l&&!u(this._latlngs[0]),p=Dc(this._latlngs,h?2:l?1:0,!0,s);return l||(p=[p]),xo(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),Xe.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),xo(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",p=[];return this.eachLayer(function(_){if(_.toGeoJSON){var w=_.toGeoJSON(s);if(h)p.push(w.geometry);else{var O=Vc(w);O.type==="FeatureCollection"?p.push.apply(p,O.features):p.push(O)}}}),h?xo(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function ky(s,l){return new br(s,l)}var yA=ky,Fc=Ue.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=Me(l),b(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ve(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Be(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Pr(this._image),this},bringToBack:function(){return this._map&&ai(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Me(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:xe("img");if(ve(l,"leaflet-image-layer"),this._zoomAnimated&&ve(l,"leaflet-zoom-animated"),this.options.className&&ve(l,this.options.className),l.onselectstart=v,l.onmousemove=v,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;nr(this._image,h,l)},_reset:function(){var s=this._image,l=new de(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();pe(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){it(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),vA=function(s,l,h){return new Fc(s,l,h)},Ry=Fc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:xe("video");if(ve(l,"leaflet-image-layer"),this._zoomAnimated&&ve(l,"leaflet-zoom-animated"),this.options.className&&ve(l,this.options.className),l.onselectstart=v,l.onmousemove=v,l.onloadeddata=a(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),p=[],_=0;_<h.length;_++)p.push(h[_].src);this._url=h.length>0?p:[l.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var O=xe("source");O.src=this._url[w],l.appendChild(O)}}});function wA(s,l,h){return new Ry(s,l,h)}var by=Fc.extend({_initImage:function(){var s=this._image=this._url;ve(s,"leaflet-image-layer"),this._zoomAnimated&&ve(s,"leaflet-zoom-animated"),this.options.className&&ve(s,this.options.className),s.onselectstart=v,s.onmousemove=v}});function EA(s,l,h){return new by(s,l,h)}var sr=Ue.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof Te||A(s))?(this._latlng=ge(s),b(this,l)):(b(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&it(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&it(this._container,1),this.bringToFront(),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(it(this._container,0),this._removeTimeout=setTimeout(a(Be,void 0,this._container),200)):Be(this._container),this.options.interactive&&(Ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ge(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pr(this._container),this},bringToBack:function(){return this._map&&ai(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof ot){l=null;var h=this._source._layers;for(var p in h)if(h[p]._map){l=h[p];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=ee(this.options.offset),h=this._getAnchor();this._zoomAnimated?pe(this._container,s.add(h)):l=l.add(s).add(h);var p=this._containerBottom=-l.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Se.include({_initOverlay:function(s,l,h,p){var _=l;return _ instanceof s||(_=new s(p).setContent(l)),h&&_.setLatLng(h),_}}),Ue.include({_initOverlay:function(s,l,h,p){var _=h;return _ instanceof s?(b(_,p),_._source=this):(_=l&&!p?l:new s(p,this),_.setContent(h)),_}});var zc=sr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,sr.prototype.openOn.call(this,s)},onAdd:function(s){sr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof di||this._source.on("preclick",An))},onRemove:function(s){sr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof di||this._source.off("preclick",An))},getEvents:function(){var s=sr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=xe("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=xe("div",s+"-content-wrapper",l);if(this._contentNode=xe("div",s+"-content",h),ci(l),ui(this._contentNode),ue(l,"contextmenu",An),this._tipContainer=xe("div",s+"-tip-container",l),this._tip=xe("div",s+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=xe("a",s+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',ue(p,"click",function(_){Ye(_),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var p=s.offsetHeight,_=this.options.maxHeight,w="leaflet-popup-scrolled";_&&p>_?(l.height=_+"px",ve(s,w)):Ge(s,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();pe(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(oi(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,p=this._containerWidth,_=new q(this._containerLeft,-h-this._containerBottom);_._add(In(this._container));var w=s.layerPointToContainerPoint(_),O=ee(this.options.autoPanPadding),U=ee(this.options.autoPanPaddingTopLeft||O),j=ee(this.options.autoPanPaddingBottomRight||O),Z=s.getSize(),ne=0,ce=0;w.x+p+j.x>Z.x&&(ne=w.x+p-Z.x+j.x),w.x-ne-U.x<0&&(ne=w.x-U.x),w.y+h+j.y>Z.y&&(ce=w.y+h-Z.y+j.y),w.y-ce-U.y<0&&(ce=w.y-U.y),(ne||ce)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ne,ce]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),TA=function(s,l){return new zc(s,l)};Se.mergeOptions({closePopupOnClick:!0}),Se.include({openPopup:function(s,l,h){return this._initOverlay(zc,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Ue.include({bindPopup:function(s,l){return this._popup=this._initOverlay(zc,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ot||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ln(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof di)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Uc=sr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){sr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){sr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=sr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,p=this._map,_=this._container,w=p.latLngToContainerPoint(p.getCenter()),O=p.layerPointToContainerPoint(s),U=this.options.direction,j=_.offsetWidth,Z=_.offsetHeight,ne=ee(this.options.offset),ce=this._getAnchor();U==="top"?(l=j/2,h=Z):U==="bottom"?(l=j/2,h=0):U==="center"?(l=j/2,h=Z/2):U==="right"?(l=0,h=Z/2):U==="left"?(l=j,h=Z/2):O.x<w.x?(U="right",l=0,h=Z/2):(U="left",l=j+(ne.x+ce.x)*2,h=Z/2),s=s.subtract(ee(l,h,!0)).add(ne).add(ce),Ge(_,"leaflet-tooltip-right"),Ge(_,"leaflet-tooltip-left"),Ge(_,"leaflet-tooltip-top"),Ge(_,"leaflet-tooltip-bottom"),ve(_,"leaflet-tooltip-"+U),pe(_,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&it(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),IA=function(s,l){return new Uc(s,l)};Se.include({openTooltip:function(s,l,h){return this._initOverlay(Uc,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Ue.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Uc,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ot||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(ue(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ue(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,p;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),p=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var Ly=ir.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(gs(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var p=ee(h.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function SA(s){return new Ly(s)}ir.Default=wl;var El=Ue.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){b(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Be(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ai(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof q?s:new q(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),p=0,_=l.length,w;p<_;p++)w=l[p].style.zIndex,l[p]!==this._container&&w&&(h=s(h,+w));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ae.ielt9){it(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var p in this._tiles){var _=this._tiles[p];if(!(!_.current||!_.loaded)){var w=Math.min(1,(s-_.loaded)/200);it(_.el,w),w<1?l=!0:(_.active?h=!0:this._onOpaqueTile(_),_.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(F(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(Be(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[s],_=this._map;return p||(p=this._levels[s]={},p.el=xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=_.project(_.unproject(_.getPixelOrigin()),s).round(),p.zoom=s,this._setZoomTransform(p,_.getCenter(),_.getZoom()),v(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Be(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,p){var _=Math.floor(s/2),w=Math.floor(l/2),O=h-1,U=new q(+_,+w);U.z=+O;var j=this._tileCoordsToKey(U),Z=this._tiles[j];return Z&&Z.active?(Z.retain=!0,!0):(Z&&Z.loaded&&(Z.retain=!0),O>p?this._retainParent(_,w,O,p):!1)},_retainChildren:function(s,l,h,p){for(var _=2*s;_<2*s+2;_++)for(var w=2*l;w<2*l+2;w++){var O=new q(_,w);O.z=h+1;var U=this._tileCoordsToKey(O),j=this._tiles[U];if(j&&j.active){j.retain=!0;continue}else j&&j.loaded&&(j.retain=!0);h+1<p&&this._retainChildren(_,w,h+1,p)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,p){var _=Math.round(l);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var w=this.options.updateWhenZooming&&_!==this._tileZoom;(!p||w)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var p=this._map.getZoomScale(h,s.zoom),_=s.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,h)).round();ae.any3d?nr(s.el,_,p):pe(s.el,_)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],p).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],p).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],p).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(h,this._tileZoom),_=l.project(s,this._tileZoom).floor(),w=l.getSize().divideBy(p*2);return new de(_.subtract(w),_.add(w))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(s),_=this._pxBoundsToTileRange(p),w=_.getCenter(),O=[],U=this.options.keepBuffer,j=new de(_.getBottomLeft().subtract([U,-U]),_.getTopRight().add([U,-U]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Z in this._tiles){var ne=this._tiles[Z].coords;(ne.z!==this._tileZoom||!j.contains(new q(ne.x,ne.y)))&&(this._tiles[Z].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var ce=_.min.y;ce<=_.max.y;ce++)for(var Ie=_.min.x;Ie<=_.max.x;Ie++){var Gt=new q(Ie,ce);if(Gt.z=this._tileZoom,!!this._isValidTile(Gt)){var St=this._tiles[this._tileCoordsToKey(Gt)];St?St.current=!0:O.push(Gt)}}if(O.sort(function(Jt,Ro){return Jt.distanceTo(w)-Ro.distanceTo(w)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xn=document.createDocumentFragment();for(Ie=0;Ie<O.length;Ie++)this._addTile(O[Ie],xn);this._level.el.appendChild(xn)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(s);return Me(this.options.bounds).overlaps(p)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),p=s.scaleBy(h),_=p.add(h),w=l.unproject(p,s.z),O=l.unproject(_,s.z);return[w,O]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new Ce(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new q(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(Be(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ve(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=v,s.onmousemove=v,ae.ielt9&&this.options.opacity<1&&it(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),p=this._tileCoordsToKey(s),_=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(_),this.createTile.length<2&&V(a(this._tileReady,this,s,null,_)),pe(_,h),this._tiles[p]={el:_,coords:s,current:!0},l.appendChild(_),this.fire("tileloadstart",{tile:_,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var p=this._tileCoordsToKey(s);h=this._tiles[p],h&&(h.loaded=+new Date,this._map._fadeAnimated?(it(h.el,0),F(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(ve(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ae.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new q(this._wrapX?g(s.x,this._wrapX):s.x,this._wrapY?g(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new de(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function PA(s){return new El(s)}var ko=El.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=b(this,l),l.detectRetina&&ae.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return ue(h,"load",a(this._tileOnLoad,this,l,h)),ue(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:ae.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return S(this._url,i(l,this.options))},_tileOnLoad:function(s,l){ae.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,p=this.options.zoomOffset;return h&&(s=l-s),s+p},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=v,l.onerror=v,!l.complete)){l.src=$;var h=this._tiles[s].coords;Be(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",$),El.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===$))return El.prototype._tileReady.call(this,s,l,h)}});function Oy(s,l){return new ko(s,l)}var Ny=ko.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=i({},this.defaultWmsParams);for(var p in l)p in this.options||(h[p]=l[p]);l=b(this,l);var _=l.detectRetina&&ae.retina?2:1,w=this.getTileSize();h.width=w.x*_,h.height=w.y*_,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ko.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,p=we(h.project(l[0]),h.project(l[1])),_=p.min,w=p.max,O=(this._wmsVersion>=1.3&&this._crs===ft?[_.y,_.x,w.y,w.x]:[_.x,_.y,w.x,w.y]).join(","),U=ko.prototype.getTileUrl.call(this,s);return U+D(this.wmsParams,U,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(s,l){return i(this.wmsParams,s),l||this.redraw(),this}});function AA(s,l){return new Ny(s,l)}ko.WMS=Ny,Oy.wms=AA;var Lr=Ue.extend({options:{padding:.1},initialize:function(s){b(this,s),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ve(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,l),w=p.multiplyBy(-h).add(_).subtract(this._map._getNewPixelOrigin(s,l));ae.any3d?nr(this._container,w,h):pe(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new de(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),My=Lr.extend({options:{tolerance:0},getEvents:function(){var s=Lr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Lr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ue(s,"mousemove",this._onMouseMove,this),ue(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ue(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,Be(this._container),ze(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lr.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),p=ae.retina?2:1;pe(l,s.min),l.width=p*h.x,l.height=p*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Lr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[f(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,p=l.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete s._order,delete this._layers[f(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],p,_;for(_=0;_<l.length;_++){if(p=Number(l[_]),isNaN(p))return;h.push(p)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new de,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)s=p.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,p,_,w,O=s._parts,U=O.length,j=this._ctx;if(U){for(j.beginPath(),h=0;h<U;h++){for(p=0,_=O[h].length;p<_;p++)w=O[h][p],j[p?"lineTo":"moveTo"](w.x,w.y);l&&j.closePath()}this._fillStroke(j,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,p=Math.max(Math.round(s._radius),1),_=(Math.max(Math.round(s._radiusY),1)||p)/p;_!==1&&(h.save(),h.scale(1,_)),h.beginPath(),h.arc(l.x,l.y/_,p,0,Math.PI*2,!1),_!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,p,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(p?[p]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(Ge(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,p,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(l)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(s),p&&(ve(this._container,"leaflet-interactive"),this._fireEvent([p],s,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,p=l.prev;if(h)h.prev=p;else return;p?p.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,p=l.prev;if(p)p.next=h;else return;h?h.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function Dy(s){return ae.canvas?new My(s):null}var Tl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),CA={_initContainer:function(){this._container=xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Lr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Tl("shape");ve(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Tl("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;Be(l),s.removeInteractiveTarget(l),delete this._layers[f(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,p=s.options,_=s._container;_.stroked=!!p.stroke,_.filled=!!p.fill,p.stroke?(l||(l=s._stroke=Tl("stroke")),_.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=A(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(_.removeChild(l),s._stroke=null),p.fill?(h||(h=s._fill=Tl("fill")),_.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(_.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),p=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+p+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){Pr(s._container)},_bringToBack:function(s){ai(s._container)}},Bc=ae.vml?Tl:Js,Il=Lr.extend({_initContainer:function(){this._container=Bc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Bc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Be(this._container),ze(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lr.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),pe(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Bc("path");s.options.className&&ve(l,s.options.className),s.options.interactive&&ve(l,"leaflet-interactive"),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Be(s._path),s.removeInteractiveTarget(s._path),delete this._layers[f(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Wa(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),p=Math.max(Math.round(s._radiusY),1)||h,_="a"+h+","+p+" 0 1,0 ",w=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+_+h*2+",0 "+_+-h*2+",0 ";this._setPath(s,w)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){Pr(s._path)},_bringToBack:function(s){ai(s._path)}});ae.vml&&Il.include(CA);function Vy(s){return ae.svg||ae.vml?new Il(s):null}Se.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&Dy(s)||Vy(s)}});var Fy=Co.extend({initialize:function(s,l){Co.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Me(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function xA(s,l){return new Fy(s,l)}Il.create=Bc,Il.pointsToPath=Wa,br.geometryToLayer=Nc,br.coordsToLatLng=Rd,br.coordsToLatLngs=Mc,br.latLngToCoords=bd,br.latLngsToCoords=Dc,br.getFeature=xo,br.asFeature=Vc,Se.mergeOptions({boxZoom:!0});var zy=un.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Be(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Un(),ol(),this._startPoint=this._map.mouseEventToContainerPoint(s),ue(document,{contextmenu:ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=xe("div","leaflet-zoom-box",this._container),ve(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new de(this._point,this._startPoint),h=l.getSize();pe(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Be(this._box),Ge(this._container,"leaflet-crosshair")),Bn(),al(),ze(document,{contextmenu:ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Se.addInitHook("addHandler","boxZoom",zy),Se.mergeOptions({doubleClickZoom:!0});var Uy=un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),p=l.options.zoomDelta,_=s.originalEvent.shiftKey?h-p:h+p;l.options.doubleClickZoom==="center"?l.setZoom(_):l.setZoomAround(s.containerPoint,_)}});Se.addInitHook("addHandler","doubleClickZoom",Uy),Se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var By=un.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new jn(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ve(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ge(this._map._container,"leaflet-grab"),Ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Me(this._map.options.maxBounds);this._offsetLimit=we(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,_=(p-l+h)%s+l-h,w=(p+l+h)%s-l-h,O=Math.abs(_+h)<Math.abs(w+h)?_:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(s){var l=this._map,h=l.options,p=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),p)l.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,O=h.easeLinearity,U=_.multiplyBy(O/w),j=U.distanceTo([0,0]),Z=Math.min(h.inertiaMaxSpeed,j),ne=U.multiplyBy(Z/j),ce=Z/(h.inertiaDeceleration*O),Ie=ne.multiplyBy(-ce/2).round();!Ie.x&&!Ie.y?l.fire("moveend"):(Ie=l._limitOffset(Ie,l.options.maxBounds),V(function(){l.panBy(Ie,{duration:ce,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Se.addInitHook("addHandler","dragging",By),Se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var jy=un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ue(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ze(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,p=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,p,_;for(p=0,_=h.left.length;p<_;p++)l[h.left[p]]=[-1*s,0];for(p=0,_=h.right.length;p<_;p++)l[h.right[p]]=[s,0];for(p=0,_=h.down.length;p<_;p++)l[h.down[p]]=[0,s];for(p=0,_=h.up.length;p<_;p++)l[h.up[p]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,p,_;for(p=0,_=h.zoomIn.length;p<_;p++)l[h.zoomIn[p]]=s;for(p=0,_=h.zoomOut.length;p<_;p++)l[h.zoomOut[p]]=-s},_addHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,p;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(p=this._panKeys[l],s.shiftKey&&(p=ee(p).multiplyBy(3)),h.options.maxBounds&&(p=h._limitOffset(ee(p),h.options.maxBounds)),h.options.worldCopyJump){var _=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(p)));h.panTo(_)}else h.panBy(p)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;ln(s)}}});Se.addInitHook("addHandler","keyboard",jy),Se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wy=un.extend({addHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=Pc(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),p),ln(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,w=h?Math.ceil(_/h)*h:_,O=s._limitZoom(l+(this._delta>0?w:-w))-l;this._delta=0,this._startTime=null,O&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+O):s.setZoomAround(this._lastMousePos,l+O))}});Se.addInitHook("addHandler","scrollWheelZoom",Wy);var kA=600;Se.mergeOptions({tapHold:ae.touchNative&&ae.safari&&ae.mobile,tapTolerance:15});var Hy=un.extend({addHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new q(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(ue(document,"touchend",Ye),ue(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),kA),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ze(document,"touchend",Ye),ze(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new q(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Se.addInitHook("addHandler","tapHold",Hy),Se.mergeOptions({touchZoom:ae.touch,bounceAtZoomLimits:!0});var $y=un.extend({addHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ge(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),Ye(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]),_=h.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(_,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&_<1||this._zoom>l.getMaxZoom()&&_>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var w=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(_===1&&w.x===0&&w.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var O=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(O,this,!0),Ye(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Se.addInitHook("addHandler","touchZoom",$y),Se.BoxZoom=zy,Se.DoubleClickZoom=Uy,Se.Drag=By,Se.Keyboard=jy,Se.ScrollWheelZoom=Wy,Se.TapHold=Hy,Se.TouchZoom=$y,n.Bounds=de,n.Browser=ae,n.CRS=yt,n.Canvas=My,n.Circle=kd,n.CircleMarker=Oc,n.Class=rt,n.Control=Xt,n.DivIcon=Ly,n.DivOverlay=sr,n.DomEvent=Ac,n.DomUtil=Ic,n.Draggable=jn,n.Evented=$t,n.FeatureGroup=ot,n.GeoJSON=br,n.GridLayer=El,n.Handler=un,n.Icon=ir,n.ImageOverlay=Fc,n.LatLng=Te,n.LatLngBounds=Ce,n.Layer=Ue,n.LayerGroup=Xe,n.LineUtil=T,n.Map=Se,n.Marker=Lc,n.Mixin=_s,n.Path=di,n.Point=q,n.PolyUtil=So,n.Polygon=Co,n.Polyline=Rr,n.Popup=zc,n.PosAnimation=pl,n.Projection=te,n.Rectangle=Fy,n.Renderer=Lr,n.SVG=Il,n.SVGOverlay=by,n.TileLayer=ko,n.Tooltip=Uc,n.Transformation=ii,n.Util=M,n.VideoOverlay=Ry,n.bind=a,n.bounds=we,n.canvas=Dy,n.circle=mA,n.circleMarker=pA,n.control=qt,n.divIcon=SA,n.extend=i,n.featureGroup=Ao,n.geoJSON=ky,n.geoJson=yA,n.gridLayer=PA,n.icon=fA,n.imageOverlay=vA,n.latLng=ge,n.latLngBounds=Me,n.layerGroup=fi,n.map=yo,n.marker=dA,n.point=ee,n.polygon=_A,n.polyline=gA,n.popup=TA,n.rectangle=xA,n.setOptions=b,n.stamp=f,n.svg=Vy,n.svgOverlay=EA,n.tileLayer=Oy,n.tooltip=IA,n.transformation=Er,n.version=r,n.videoOverlay=wA;var RA=window.L;n.noConflict=function(){return window.L=RA,this},window.L=n})})(gg,gg.exports);var Pd=gg.exports;function Py(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Ay(t,e){return e==null?function(r,i){const o=G.useRef();return o.current||(o.current=t(r,i)),o}:function(r,i){const o=G.useRef();o.current||(o.current=t(r,i));const a=G.useRef(r),{instance:c}=o.current;return G.useEffect(function(){a.current!==r&&(e(c,r,a.current),a.current=r)},[c,r,i]),o}}function dz(t,e){G.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function uA(t){return function(n){const r=Iy(),i=t(Sy(n,r),r);return sA(r.map,n.attribution),lA(i.current,n.eventHandlers),dz(i.current,r),i}}function pz(t,e){const n=Ay(t,e),r=uA(n);return uz(r)}function mz(t,e){const n=Ay(t),r=fz(n,e);return cz(r)}function gz(t,e){const n=Ay(t,e),r=uA(n);return hz(r)}function _z(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function cA(){return Iy().map}function yz(t){const e=cA();return G.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function _g(){return _g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(this,arguments)}function vz({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:o,placeholder:a,style:c,whenReady:f,zoom:d,...g},v){const[E]=G.useState({className:i,id:o,style:c}),[C,R]=G.useState(null);G.useImperativeHandle(v,()=>(C==null?void 0:C.map)??null,[C]);const b=G.useCallback(P=>{if(P!==null&&C===null){const S=new Pd.Map(P,g);n!=null&&d!=null?S.setView(n,d):t!=null&&S.fitBounds(t,e),f!=null&&S.whenReady(f),R(az(S))}},[]);G.useEffect(()=>()=>{C==null||C.map.remove()},[C]);const D=C?aa.createElement(aA,{value:C},r):a??null;return aa.createElement("div",_g({},E,{ref:b}),D)}const wz=G.forwardRef(vz),Ez=pz(function({position:e,...n},r){const i=new Pd.Marker(e,n);return Py(i,lz(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),Tz=mz(function(e,n){const r=new Pd.Popup(e,n.overlayContainer);return Py(r,n)},function(e,n,{position:r},i){G.useEffect(function(){const{instance:a}=e;function c(d){d.popup===a&&(a.update(),i(!0))}function f(d){d.popup===a&&i(!1)}return n.map.on({popupopen:c,popupclose:f}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var g;n.map.off({popupopen:c,popupclose:f}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(a)}},[e,n,i,r])}),Iz=gz(function({url:e,...n},r){const i=new Pd.TileLayer(e,Sy(n,r));return Py(i,r)},function(e,n,r){_z(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),hA="ceb1adb1b751489a90a182c67c68a49f";function Sz({setMarker:t,setLocation:e,setFormData:n,setShowAddLocation:r}){return yz({click:async i=>{var c;const{lat:o,lng:a}=i.latlng;t([o,a]);try{const d=((c=(await ct.get("https://api.opencagedata.com/geocode/v1/json",{params:{q:`${o}+${a}`,key:hA}})).data.results[0])==null?void 0:c.formatted)||"Unknown Location";e(d),n(g=>({...g,location:d})),r(!0)}catch(f){console.error("Error fetching location:",f),e("Failed to get location")}}}),null}function Pz({formData:t,setFormData:e}){const n=i=>{const{name:o,value:a}=i.target;e(c=>({...c,[o]:a}))},r=async i=>{console.log(t),i.preventDefault();const a=td().currentUser;if(!a){console.error("User not logged in");return}const c=a.uid;try{const f=await EM(c,t);console.log("data added to"+f)}catch(f){console.log("Error on submit: "+f)}};return Q.jsxs("div",{className:"mapfolio-form",children:[Q.jsx("h2",{children:"Mapfolio"}),Q.jsxs("form",{children:[Q.jsxs("div",{children:[Q.jsx("label",{children:"Name the place:"}),Q.jsx("input",{type:"text",name:"name",value:t.name,onChange:n}),Q.jsx("label",{children:"Location:"}),Q.jsx("input",{type:"text",name:"location",value:t.location,readOnly:!0})]}),Q.jsxs("div",{children:[Q.jsx("label",{children:"Date:"}),Q.jsx("input",{type:"date",name:"date",value:t.date,onChange:n})]}),Q.jsxs("div",{children:[Q.jsx("label",{children:"Notes:"}),Q.jsx("textarea",{name:"notes",value:t.notes,onChange:n})]}),Q.jsxs("div",{children:[Q.jsx("label",{children:"Images:"}),Q.jsx("input",{type:"file",name:"images",onChange:i=>e(o=>({...o,images:[...o.images,...i.target.files]})),multiple:!0})]}),Q.jsx("button",{type:"button",onClick:r,children:"Submit"})]})]})}function Az({setMarker:t,setLocation:e,setFormData:n}){const r=cA(),i=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async o=>{var f;const{latitude:a,longitude:c}=o.coords;t([a,c]),r.flyTo([a,c],13);try{const g=((f=(await ct.get("https://api.opencagedata.com/geocode/v1/json",{params:{q:`${a}+${c}`,key:hA}})).data.results[0])==null?void 0:f.formatted)||"Unknown Location";n(v=>({...v,location:g})),e(g)}catch(d){console.error("Error fetching location:",d),e("Failed to get location")}},o=>{console.error("Error fetching location:",o)},{enableHighAccuracy:!0}):console.error("Geolocation is not supported by this browser.")};return Q.jsx("button",{className:"geo-button",onClick:i,style:{position:"absolute",bottom:"20px",right:"20px",padding:"10px 15px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",zIndex:1e3},children:"Get Your Location"})}function Cz(){const[t,e]=G.useState(null),[n,r]=G.useState(!1),[i,o]=G.useState("Click on the map to get location"),[a,c]=G.useState({name:"",location:"",date:"",notes:"",images:[]}),f=Fa(),d=()=>{const g=td().currentUser;g?f("/dashboard",{state:{uid:g.uid}}):console.error("User not authenticated")};return Q.jsxs("div",{className:"mapfolio-container",children:[Q.jsx(yy,{icon:sz,style:{position:"absolute",top:"100px",right:"20px",zIndex:1e3,fontSize:"24px",color:"gray"}}),Q.jsx("button",{className:"profile-button",onClick:d,style:{position:"absolute",top:"20px",right:"20px",padding:"10px 15px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",zIndex:1e3},children:"Profile"}),n&&Q.jsx("div",{className:"mapfolio-form-container",children:Q.jsx(Pz,{formData:a,setFormData:c})}),Q.jsx("div",{className:"map-container",children:Q.jsxs(wz,{center:[51.505,-.09],zoom:13,style:{height:"100vh",width:"100%"},children:[Q.jsx(Iz,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Q.jsx(Sz,{setMarker:e,setLocation:o,setFormData:c,setShowAddLocation:r}),t&&Q.jsx(Ez,{position:t,children:Q.jsx(Tz,{children:i})}),Q.jsx(Az,{setMarker:e,setLocation:o,setFormData:c})]})})]})}function xz({user:t}){const[e,n]=G.useState([]),[r,i]=G.useState(!0);return G.useEffect(()=>{(async()=>{try{const a=aM(kS(BS,"places"),lM("uid","==",t.uid)),f=(await mM(a)).docs.map(d=>({id:d.id,...d.data()}));n(f)}catch(a){console.error("Error fetching places:",a)}finally{i(!1)}})()},[t.uid]),r?Q.jsx("div",{children:"Loading..."}):(console.log(e),console.log(t.uid),Q.jsxs("div",{className:"dashboard-container",children:[Q.jsx("h1",{children:"Your Places"}),Q.jsx("div",{className:"places-grid",children:e.map(o=>Q.jsxs("div",{className:"place-card",children:[Q.jsx("h2",{children:o.name}),Q.jsxs("p",{children:[Q.jsx("strong",{children:"Location:"})," ",o.location]}),Q.jsxs("p",{children:[Q.jsx("strong",{children:"Date:"})," ",o.date]}),Q.jsxs("p",{children:[Q.jsx("strong",{children:"Notes:"})," ",o.notes]})]},o.id))})]}))}function kz(){const t=td().currentUser;return Q.jsx(_D,{children:Q.jsxs(cD,{children:[Q.jsx(Mo,{path:"/",element:Q.jsx(CF,{})}),Q.jsx(Mo,{path:"login/",element:Q.jsx(PF,{})}),Q.jsx(Mo,{path:"/register",element:Q.jsx(AF,{})}),Q.jsx(Mo,{path:"/welcome",element:Q.jsx(xF,{children:Q.jsx(Cz,{})})}),Q.jsx(Mo,{path:"/dashboard",element:Q.jsx(xz,{user:t})})]})})}x1(document.getElementById("root")).render(Q.jsx(G.StrictMode,{children:Q.jsx(Q.Fragment,{children:Q.jsx(kz,{})})}));
